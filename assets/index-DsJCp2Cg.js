var kP=Object.defineProperty;var CP=(t,e,n)=>e in t?kP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Kv=(t,e,n)=>CP(t,typeof e!="symbol"?e+"":e,n);function EP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jw={exports:{}},Uu={},eb={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),_P=Symbol.for("react.portal"),NP=Symbol.for("react.fragment"),TP=Symbol.for("react.strict_mode"),PP=Symbol.for("react.profiler"),AP=Symbol.for("react.provider"),jP=Symbol.for("react.context"),MP=Symbol.for("react.forward_ref"),RP=Symbol.for("react.suspense"),IP=Symbol.for("react.memo"),OP=Symbol.for("react.lazy"),Yv=Symbol.iterator;function LP(t){return t===null||typeof t!="object"?null:(t=Yv&&t[Yv]||t["@@iterator"],typeof t=="function"?t:null)}var tb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nb=Object.assign,rb={};function To(t,e,n){this.props=t,this.context=e,this.refs=rb,this.updater=n||tb}To.prototype.isReactComponent={};To.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};To.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ib(){}ib.prototype=To.prototype;function wm(t,e,n){this.props=t,this.context=e,this.refs=rb,this.updater=n||tb}var bm=wm.prototype=new ib;bm.constructor=wm;nb(bm,To.prototype);bm.isPureReactComponent=!0;var Gv=Array.isArray,sb=Object.prototype.hasOwnProperty,Sm={current:null},ob={key:!0,ref:!0,__self:!0,__source:!0};function ab(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)sb.call(e,r)&&!ob.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bl,type:t,key:s,ref:o,props:i,_owner:Sm.current}}function $P(t,e){return{$$typeof:bl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function km(t){return typeof t=="object"&&t!==null&&t.$$typeof===bl}function DP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zv=/\/+/g;function nh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DP(""+t.key):e.toString(36)}function Ec(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bl:case _P:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+nh(o,0):r,Gv(i)?(n="",t!=null&&(n=t.replace(Zv,"$&/")+"/"),Ec(i,e,n,"",function(c){return c})):i!=null&&(km(i)&&(i=$P(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Zv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Gv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+nh(s,a);o+=Ec(s,e,n,l,i)}else if(l=LP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+nh(s,a++),o+=Ec(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fl(t,e,n){if(t==null)return t;var r=[],i=0;return Ec(t,r,"","",function(s){return e.call(n,s,i++)}),r}function zP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},_c={transition:null},FP={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:_c,ReactCurrentOwner:Sm};function lb(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Fl,forEach:function(t,e,n){Fl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fl(t,function(){e++}),e},toArray:function(t){return Fl(t,function(e){return e})||[]},only:function(t){if(!km(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=To;ke.Fragment=NP;ke.Profiler=PP;ke.PureComponent=wm;ke.StrictMode=TP;ke.Suspense=RP;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FP;ke.act=lb;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Sm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sb.call(e,l)&&!ob.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:bl,type:t.type,key:i,ref:s,props:r,_owner:o}};ke.createContext=function(t){return t={$$typeof:jP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AP,_context:t},t.Consumer=t};ke.createElement=ab;ke.createFactory=function(t){var e=ab.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:MP,render:t}};ke.isValidElement=km;ke.lazy=function(t){return{$$typeof:OP,_payload:{_status:-1,_result:t},_init:zP}};ke.memo=function(t,e){return{$$typeof:IP,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=_c.transition;_c.transition={};try{t()}finally{_c.transition=e}};ke.unstable_act=lb;ke.useCallback=function(t,e){return Mt.current.useCallback(t,e)};ke.useContext=function(t){return Mt.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};ke.useEffect=function(t,e){return Mt.current.useEffect(t,e)};ke.useId=function(){return Mt.current.useId()};ke.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return Mt.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};ke.useRef=function(t){return Mt.current.useRef(t)};ke.useState=function(t){return Mt.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return Mt.current.useTransition()};ke.version="18.3.1";eb.exports=ke;var y=eb.exports;const Le=cr(y),cb=EP({__proto__:null,default:Le},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=y,VP=Symbol.for("react.element"),UP=Symbol.for("react.fragment"),HP=Object.prototype.hasOwnProperty,WP=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qP={key:!0,ref:!0,__self:!0,__source:!0};function ub(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HP.call(e,r)&&!qP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VP,type:t,key:s,ref:o,props:i,_owner:WP.current}}Uu.Fragment=UP;Uu.jsx=ub;Uu.jsxs=ub;Jw.exports=Uu;var d=Jw.exports,_f={},db={exports:{}},an={},hb={exports:{}},fb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,$){var E=P.length;P.push($);e:for(;0<E;){var z=E-1>>>1,X=P[z];if(0<i(X,$))P[z]=$,P[E]=X,E=z;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var $=P[0],E=P.pop();if(E!==$){P[0]=E;e:for(var z=0,X=P.length,N=X>>>1;z<N;){var oe=2*(z+1)-1,be=P[oe],he=oe+1,te=P[he];if(0>i(be,E))he<X&&0>i(te,be)?(P[z]=te,P[he]=E,z=he):(P[z]=be,P[oe]=E,z=oe);else if(he<X&&0>i(te,E))P[z]=te,P[he]=E,z=he;else break e}}return $}function i(P,$){var E=P.sortIndex-$.sortIndex;return E!==0?E:P.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=P)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function S(P){if(m=!1,b(P),!g)if(n(l)!==null)g=!0,M(k);else{var $=n(c);$!==null&&D(S,$.startTime-P)}}function k(P,$){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var E=f;try{for(b($),h=n(l);h!==null&&(!(h.expirationTime>$)||P&&!O());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var X=z(h.expirationTime<=$);$=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),b($)}else r(l);h=n(l)}if(h!==null)var N=!0;else{var oe=n(c);oe!==null&&D(S,oe.startTime-$),N=!1}return N}finally{h=null,f=E,p=!1}}var C=!1,_=null,T=-1,j=5,R=-1;function O(){return!(t.unstable_now()-R<j)}function A(){if(_!==null){var P=t.unstable_now();R=P;var $=!0;try{$=_(!0,P)}finally{$?B():(C=!1,_=null)}}else C=!1}var B;if(typeof x=="function")B=function(){x(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=A,B=function(){L.postMessage(null)}}else B=function(){w(A,0)};function M(P){_=P,C||(C=!0,B())}function D(P,$){T=w(function(){P(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,M(k))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var E=f;f=$;try{return P()}finally{f=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var E=f;f=P;try{return $()}finally{f=E}},t.unstable_scheduleCallback=function(P,$,E){var z=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?z+E:z):E=z,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=E+X,P={id:u++,callback:$,priorityLevel:P,startTime:E,expirationTime:X,sortIndex:-1},E>z?(P.sortIndex=E,e(c,P),n(l)===null&&P===n(c)&&(m?(v(T),T=-1):m=!0,D(S,E-z))):(P.sortIndex=X,e(l,P),g||p||(g=!0,M(k))),P},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(P){var $=f;return function(){var E=f;f=$;try{return P.apply(this,arguments)}finally{f=E}}}})(fb);hb.exports=fb;var KP=hb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=y,on=KP;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pb=new Set,Ra={};function hs(t,e){ho(t,e),ho(t+"Capture",e)}function ho(t,e){for(Ra[t]=e,t=0;t<e.length;t++)pb.add(e[t])}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=Object.prototype.hasOwnProperty,GP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xv={},Qv={};function ZP(t){return Nf.call(Qv,t)?!0:Nf.call(Xv,t)?!1:GP.test(t)?Qv[t]=!0:(Xv[t]=!0,!1)}function XP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QP(t,e,n,r){if(e===null||typeof e>"u"||XP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cm=/[\-:]([a-z])/g;function Em(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cm,Em);pt[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cm,Em);pt[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cm,Em);pt[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function _m(t,e,n,r){var i=pt.hasOwnProperty(e)?pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QP(e,n,i,r)&&(n=null),r||i===null?ZP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lr=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),js=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),Nm=Symbol.for("react.strict_mode"),Tf=Symbol.for("react.profiler"),mb=Symbol.for("react.provider"),gb=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Af=Symbol.for("react.suspense_list"),Pm=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),vb=Symbol.for("react.offscreen"),Jv=Symbol.iterator;function Uo(t){return t===null||typeof t!="object"?null:(t=Jv&&t[Jv]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,rh;function ia(t){if(rh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rh=e&&e[1]||""}return`
`+rh+t}var ih=!1;function sh(t,e){if(!t||ih)return"";ih=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ih=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ia(t):""}function JP(t){switch(t.tag){case 5:return ia(t.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return t=sh(t.type,!1),t;case 11:return t=sh(t.type.render,!1),t;case 1:return t=sh(t.type,!0),t;default:return""}}function jf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ms:return"Fragment";case js:return"Portal";case Tf:return"Profiler";case Nm:return"StrictMode";case Pf:return"Suspense";case Af:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gb:return(t.displayName||"Context")+".Consumer";case mb:return(t._context.displayName||"Context")+".Provider";case Tm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pm:return e=t.displayName||null,e!==null?e:jf(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return jf(t(e))}catch{}}return null}function eA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jf(e);case 8:return e===Nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tA(t){var e=yb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vl(t){t._valueTracker||(t._valueTracker=tA(t))}function xb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mf(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ey(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wb(t,e){e=e.checked,e!=null&&_m(t,"checked",e,!1)}function Rf(t,e){wb(t,e);var n=gi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?If(t,e.type,n):e.hasOwnProperty("defaultValue")&&If(t,e.type,gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ty(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function If(t,e,n){(e!=="number"||Kc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sa=Array.isArray;function qs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Of(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ny(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(sa(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gi(n)}}function bb(t,e){var n=gi(e.value),r=gi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ry(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ul,kb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ul.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nA=["Webkit","ms","Moz","O"];Object.keys(pa).forEach(function(t){nA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pa[e]=pa[t]})});function Cb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pa.hasOwnProperty(t)&&pa[t]?(""+e).trim():e+"px"}function Eb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rA=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $f(t,e){if(e){if(rA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Df(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zf=null;function Am(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ff=null,Ks=null,Ys=null;function iy(t){if(t=Cl(t)){if(typeof Ff!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Yu(e),Ff(t.stateNode,t.type,e))}}function _b(t){Ks?Ys?Ys.push(t):Ys=[t]:Ks=t}function Nb(){if(Ks){var t=Ks,e=Ys;if(Ys=Ks=null,iy(t),e)for(t=0;t<e.length;t++)iy(e[t])}}function Tb(t,e){return t(e)}function Pb(){}var oh=!1;function Ab(t,e,n){if(oh)return t(e,n);oh=!0;try{return Tb(t,e,n)}finally{oh=!1,(Ks!==null||Ys!==null)&&(Pb(),Nb())}}function Oa(t,e){var n=t.stateNode;if(n===null)return null;var r=Yu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Bf=!1;if(Pr)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){Bf=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{Bf=!1}function iA(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ma=!1,Yc=null,Gc=!1,Vf=null,sA={onError:function(t){ma=!0,Yc=t}};function oA(t,e,n,r,i,s,o,a,l){ma=!1,Yc=null,iA.apply(sA,arguments)}function aA(t,e,n,r,i,s,o,a,l){if(oA.apply(this,arguments),ma){if(ma){var c=Yc;ma=!1,Yc=null}else throw Error(G(198));Gc||(Gc=!0,Vf=c)}}function fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sy(t){if(fs(t)!==t)throw Error(G(188))}function lA(t){var e=t.alternate;if(!e){if(e=fs(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sy(i),t;if(s===r)return sy(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Mb(t){return t=lA(t),t!==null?Rb(t):null}function Rb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rb(t);if(e!==null)return e;t=t.sibling}return null}var Ib=on.unstable_scheduleCallback,oy=on.unstable_cancelCallback,cA=on.unstable_shouldYield,uA=on.unstable_requestPaint,Xe=on.unstable_now,dA=on.unstable_getCurrentPriorityLevel,jm=on.unstable_ImmediatePriority,Ob=on.unstable_UserBlockingPriority,Zc=on.unstable_NormalPriority,hA=on.unstable_LowPriority,Lb=on.unstable_IdlePriority,Hu=null,Qn=null;function fA(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Hu,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:gA,pA=Math.log,mA=Math.LN2;function gA(t){return t>>>=0,t===0?32:31-(pA(t)/mA|0)|0}var Hl=64,Wl=4194304;function oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=oa(a):(s&=o,s!==0&&(r=oa(s)))}else o=n&~i,o!==0?r=oa(o):s!==0&&(r=oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function vA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-An(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Uf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $b(){var t=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),t}function ah(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function xA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Mm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function Db(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zb,Rm,Fb,Bb,Vb,Hf=!1,ql=[],ii=null,si=null,oi=null,La=new Map,$a=new Map,Qr=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ay(t,e){switch(t){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":La.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$a.delete(e.pointerId)}}function Wo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cl(e),e!==null&&Rm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bA(t,e,n,r,i){switch(e){case"focusin":return ii=Wo(ii,t,e,n,r,i),!0;case"dragenter":return si=Wo(si,t,e,n,r,i),!0;case"mouseover":return oi=Wo(oi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return La.set(s,Wo(La.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$a.set(s,Wo($a.get(s)||null,t,e,n,r,i)),!0}return!1}function Ub(t){var e=zi(t.target);if(e!==null){var n=fs(e);if(n!==null){if(e=n.tag,e===13){if(e=jb(n),e!==null){t.blockedOn=e,Vb(t.priority,function(){Fb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zf=r,n.target.dispatchEvent(r),zf=null}else return e=Cl(n),e!==null&&Rm(e),t.blockedOn=n,!1;e.shift()}return!0}function ly(t,e,n){Nc(t)&&n.delete(e)}function SA(){Hf=!1,ii!==null&&Nc(ii)&&(ii=null),si!==null&&Nc(si)&&(si=null),oi!==null&&Nc(oi)&&(oi=null),La.forEach(ly),$a.forEach(ly)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,Hf||(Hf=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,SA)))}function Da(t){function e(i){return qo(i,t)}if(0<ql.length){qo(ql[0],t);for(var n=1;n<ql.length;n++){var r=ql[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ii!==null&&qo(ii,t),si!==null&&qo(si,t),oi!==null&&qo(oi,t),La.forEach(e),$a.forEach(e),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)Ub(n),n.blockedOn===null&&Qr.shift()}var Gs=Lr.ReactCurrentBatchConfig,Qc=!0;function kA(t,e,n,r){var i=Me,s=Gs.transition;Gs.transition=null;try{Me=1,Im(t,e,n,r)}finally{Me=i,Gs.transition=s}}function CA(t,e,n,r){var i=Me,s=Gs.transition;Gs.transition=null;try{Me=4,Im(t,e,n,r)}finally{Me=i,Gs.transition=s}}function Im(t,e,n,r){if(Qc){var i=Wf(t,e,n,r);if(i===null)vh(t,e,r,Jc,n),ay(t,r);else if(bA(i,t,e,n,r))r.stopPropagation();else if(ay(t,r),e&4&&-1<wA.indexOf(t)){for(;i!==null;){var s=Cl(i);if(s!==null&&zb(s),s=Wf(t,e,n,r),s===null&&vh(t,e,r,Jc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vh(t,e,r,null,n)}}var Jc=null;function Wf(t,e,n,r){if(Jc=null,t=Am(r),t=zi(t),t!==null)if(e=fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jc=t,null}function Hb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dA()){case jm:return 1;case Ob:return 4;case Zc:case hA:return 16;case Lb:return 536870912;default:return 16}default:return 16}}var ti=null,Om=null,Tc=null;function Wb(){if(Tc)return Tc;var t,e=Om,n=e.length,r,i="value"in ti?ti.value:ti.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Tc=i.slice(t,1<r?1-r:void 0)}function Pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function cy(){return!1}function ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kl:cy,this.isPropagationStopped=cy,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lm=ln(Po),kl=Ye({},Po,{view:0,detail:0}),EA=ln(kl),lh,ch,Ko,Wu=Ye({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$m,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ko&&(Ko&&t.type==="mousemove"?(lh=t.screenX-Ko.screenX,ch=t.screenY-Ko.screenY):ch=lh=0,Ko=t),lh)},movementY:function(t){return"movementY"in t?t.movementY:ch}}),uy=ln(Wu),_A=Ye({},Wu,{dataTransfer:0}),NA=ln(_A),TA=Ye({},kl,{relatedTarget:0}),uh=ln(TA),PA=Ye({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),AA=ln(PA),jA=Ye({},Po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MA=ln(jA),RA=Ye({},Po,{data:0}),dy=ln(RA),IA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $A(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LA[t])?!!e[t]:!1}function $m(){return $A}var DA=Ye({},kl,{key:function(t){if(t.key){var e=IA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$m,charCode:function(t){return t.type==="keypress"?Pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zA=ln(DA),FA=Ye({},Wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hy=ln(FA),BA=Ye({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$m}),VA=ln(BA),UA=Ye({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),HA=ln(UA),WA=Ye({},Wu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qA=ln(WA),KA=[9,13,27,32],Dm=Pr&&"CompositionEvent"in window,ga=null;Pr&&"documentMode"in document&&(ga=document.documentMode);var YA=Pr&&"TextEvent"in window&&!ga,qb=Pr&&(!Dm||ga&&8<ga&&11>=ga),fy=" ",py=!1;function Kb(t,e){switch(t){case"keyup":return KA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function GA(t,e){switch(t){case"compositionend":return Yb(e);case"keypress":return e.which!==32?null:(py=!0,fy);case"textInput":return t=e.data,t===fy&&py?null:t;default:return null}}function ZA(t,e){if(Rs)return t==="compositionend"||!Dm&&Kb(t,e)?(t=Wb(),Tc=Om=ti=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qb&&e.locale!=="ko"?null:e.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XA[t.type]:e==="textarea"}function Gb(t,e,n,r){_b(r),e=eu(e,"onChange"),0<e.length&&(n=new Lm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var va=null,za=null;function QA(t){o1(t,0)}function qu(t){var e=Ls(t);if(xb(e))return t}function JA(t,e){if(t==="change")return e}var Zb=!1;if(Pr){var dh;if(Pr){var hh="oninput"in document;if(!hh){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),hh=typeof gy.oninput=="function"}dh=hh}else dh=!1;Zb=dh&&(!document.documentMode||9<document.documentMode)}function vy(){va&&(va.detachEvent("onpropertychange",Xb),za=va=null)}function Xb(t){if(t.propertyName==="value"&&qu(za)){var e=[];Gb(e,za,t,Am(t)),Ab(QA,e)}}function ej(t,e,n){t==="focusin"?(vy(),va=e,za=n,va.attachEvent("onpropertychange",Xb)):t==="focusout"&&vy()}function tj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(za)}function nj(t,e){if(t==="click")return qu(e)}function rj(t,e){if(t==="input"||t==="change")return qu(e)}function ij(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:ij;function Fa(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nf.call(e,i)||!In(t[i],e[i]))return!1}return!0}function yy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xy(t,e){var n=yy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yy(n)}}function Qb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jb(){for(var t=window,e=Kc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kc(t.document)}return e}function zm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sj(t){var e=Jb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qb(n.ownerDocument.documentElement,n)){if(r!==null&&zm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=xy(n,s);var o=xy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oj=Pr&&"documentMode"in document&&11>=document.documentMode,Is=null,qf=null,ya=null,Kf=!1;function wy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kf||Is==null||Is!==Kc(r)||(r=Is,"selectionStart"in r&&zm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ya&&Fa(ya,r)||(ya=r,r=eu(qf,"onSelect"),0<r.length&&(e=new Lm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Is)))}function Yl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Os={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},fh={},e1={};Pr&&(e1=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Ku(t){if(fh[t])return fh[t];if(!Os[t])return t;var e=Os[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in e1)return fh[t]=e[n];return t}var t1=Ku("animationend"),n1=Ku("animationiteration"),r1=Ku("animationstart"),i1=Ku("transitionend"),s1=new Map,by="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(t,e){s1.set(t,e),hs(e,[t])}for(var ph=0;ph<by.length;ph++){var mh=by[ph],aj=mh.toLowerCase(),lj=mh[0].toUpperCase()+mh.slice(1);_i(aj,"on"+lj)}_i(t1,"onAnimationEnd");_i(n1,"onAnimationIteration");_i(r1,"onAnimationStart");_i("dblclick","onDoubleClick");_i("focusin","onFocus");_i("focusout","onBlur");_i(i1,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cj=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function Sy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aA(r,e,void 0,t),t.currentTarget=null}function o1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Sy(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Sy(i,a,c),s=l}}}if(Gc)throw t=Vf,Gc=!1,Vf=null,t}function Fe(t,e){var n=e[Qf];n===void 0&&(n=e[Qf]=new Set);var r=t+"__bubble";n.has(r)||(a1(e,t,2,!1),n.add(r))}function gh(t,e,n){var r=0;e&&(r|=4),a1(n,t,r,e)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function Ba(t){if(!t[Gl]){t[Gl]=!0,pb.forEach(function(n){n!=="selectionchange"&&(cj.has(n)||gh(n,!1,t),gh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gl]||(e[Gl]=!0,gh("selectionchange",!1,e))}}function a1(t,e,n,r){switch(Hb(e)){case 1:var i=kA;break;case 4:i=CA;break;default:i=Im}n=i.bind(null,e,n,t),i=void 0,!Bf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Ab(function(){var c=s,u=Am(n),h=[];e:{var f=s1.get(t);if(f!==void 0){var p=Lm,g=t;switch(t){case"keypress":if(Pc(n)===0)break e;case"keydown":case"keyup":p=zA;break;case"focusin":g="focus",p=uh;break;case"focusout":g="blur",p=uh;break;case"beforeblur":case"afterblur":p=uh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=uy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VA;break;case t1:case n1:case r1:p=AA;break;case i1:p=HA;break;case"scroll":p=EA;break;case"wheel":p=qA;break;case"copy":case"cut":case"paste":p=MA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hy}var m=(e&4)!==0,w=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var x=c,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=Oa(x,v),S!=null&&m.push(Va(x,S,b)))),w)break;x=x.return}0<m.length&&(f=new p(f,g,null,n,u),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==zf&&(g=n.relatedTarget||n.fromElement)&&(zi(g)||g[Ar]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?zi(g):null,g!==null&&(w=fs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=uy,S="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=hy,S="onPointerLeave",v="onPointerEnter",x="pointer"),w=p==null?f:Ls(p),b=g==null?f:Ls(g),f=new m(S,x+"leave",p,n,u),f.target=w,f.relatedTarget=b,S=null,zi(u)===c&&(m=new m(v,x+"enter",g,n,u),m.target=b,m.relatedTarget=w,S=m),w=S,p&&g)t:{for(m=p,v=g,x=0,b=m;b;b=ws(b))x++;for(b=0,S=v;S;S=ws(S))b++;for(;0<x-b;)m=ws(m),x--;for(;0<b-x;)v=ws(v),b--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=ws(m),v=ws(v)}m=null}else m=null;p!==null&&ky(h,f,p,m,!1),g!==null&&w!==null&&ky(h,w,g,m,!0)}}e:{if(f=c?Ls(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=JA;else if(my(f))if(Zb)k=rj;else{k=tj;var C=ej}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=nj);if(k&&(k=k(t,c))){Gb(h,k,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&If(f,"number",f.value)}switch(C=c?Ls(c):window,t){case"focusin":(my(C)||C.contentEditable==="true")&&(Is=C,qf=c,ya=null);break;case"focusout":ya=qf=Is=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,wy(h,n,u);break;case"selectionchange":if(oj)break;case"keydown":case"keyup":wy(h,n,u)}var _;if(Dm)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Rs?Kb(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(qb&&n.locale!=="ko"&&(Rs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Rs&&(_=Wb()):(ti=u,Om="value"in ti?ti.value:ti.textContent,Rs=!0)),C=eu(c,T),0<C.length&&(T=new dy(T,t,null,n,u),h.push({event:T,listeners:C}),_?T.data=_:(_=Yb(n),_!==null&&(T.data=_)))),(_=YA?GA(t,n):ZA(t,n))&&(c=eu(c,"onBeforeInput"),0<c.length&&(u=new dy("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=_))}o1(h,e)})}function Va(t,e,n){return{instance:t,listener:e,currentTarget:n}}function eu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Oa(t,n),s!=null&&r.unshift(Va(t,s,i)),s=Oa(t,e),s!=null&&r.push(Va(t,s,i))),t=t.return}return r}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ky(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Oa(n,s),l!=null&&o.unshift(Va(n,l,a))):i||(l=Oa(n,s),l!=null&&o.push(Va(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uj=/\r\n?/g,dj=/\u0000|\uFFFD/g;function Cy(t){return(typeof t=="string"?t:""+t).replace(uj,`
`).replace(dj,"")}function Zl(t,e,n){if(e=Cy(e),Cy(t)!==e&&n)throw Error(G(425))}function tu(){}var Yf=null,Gf=null;function Zf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xf=typeof setTimeout=="function"?setTimeout:void 0,hj=typeof clearTimeout=="function"?clearTimeout:void 0,Ey=typeof Promise=="function"?Promise:void 0,fj=typeof queueMicrotask=="function"?queueMicrotask:typeof Ey<"u"?function(t){return Ey.resolve(null).then(t).catch(pj)}:Xf;function pj(t){setTimeout(function(){throw t})}function yh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Da(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Da(e)}function ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _y(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Ao,Ua="__reactProps$"+Ao,Ar="__reactContainer$"+Ao,Qf="__reactEvents$"+Ao,mj="__reactListeners$"+Ao,gj="__reactHandles$"+Ao;function zi(t){var e=t[Yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ar]||n[Yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_y(t);t!==null;){if(n=t[Yn])return n;t=_y(t)}return e}t=n,n=t.parentNode}return null}function Cl(t){return t=t[Yn]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Yu(t){return t[Ua]||null}var Jf=[],$s=-1;function Ni(t){return{current:t}}function Ve(t){0>$s||(t.current=Jf[$s],Jf[$s]=null,$s--)}function $e(t,e){$s++,Jf[$s]=t.current,t.current=e}var vi={},kt=Ni(vi),zt=Ni(!1),Gi=vi;function fo(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function nu(){Ve(zt),Ve(kt)}function Ny(t,e,n){if(kt.current!==vi)throw Error(G(168));$e(kt,e),$e(zt,n)}function l1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,eA(t)||"Unknown",i));return Ye({},n,r)}function ru(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,Gi=kt.current,$e(kt,t),$e(zt,zt.current),!0}function Ty(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=l1(t,e,Gi),r.__reactInternalMemoizedMergedChildContext=t,Ve(zt),Ve(kt),$e(kt,t)):Ve(zt),$e(zt,n)}var wr=null,Gu=!1,xh=!1;function c1(t){wr===null?wr=[t]:wr.push(t)}function vj(t){Gu=!0,c1(t)}function Ti(){if(!xh&&wr!==null){xh=!0;var t=0,e=Me;try{var n=wr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wr=null,Gu=!1}catch(i){throw wr!==null&&(wr=wr.slice(t+1)),Ib(jm,Ti),i}finally{Me=e,xh=!1}}return null}var Ds=[],zs=0,iu=null,su=0,hn=[],fn=0,Zi=null,kr=1,Cr="";function Oi(t,e){Ds[zs++]=su,Ds[zs++]=iu,iu=t,su=e}function u1(t,e,n){hn[fn++]=kr,hn[fn++]=Cr,hn[fn++]=Zi,Zi=t;var r=kr;t=Cr;var i=32-An(r)-1;r&=~(1<<i),n+=1;var s=32-An(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,kr=1<<32-An(e)+i|n<<i|r,Cr=s+t}else kr=1<<s|n<<i|r,Cr=t}function Fm(t){t.return!==null&&(Oi(t,1),u1(t,1,0))}function Bm(t){for(;t===iu;)iu=Ds[--zs],Ds[zs]=null,su=Ds[--zs],Ds[zs]=null;for(;t===Zi;)Zi=hn[--fn],hn[fn]=null,Cr=hn[--fn],hn[fn]=null,kr=hn[--fn],hn[fn]=null}var tn=null,Qt=null,Ue=!1,Tn=null;function d1(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Py(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,Qt=ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zi!==null?{id:kr,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,Qt=null,!0):!1;default:return!1}}function ep(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tp(t){if(Ue){var e=Qt;if(e){var n=e;if(!Py(t,e)){if(ep(t))throw Error(G(418));e=ai(n.nextSibling);var r=tn;e&&Py(t,e)?d1(r,n):(t.flags=t.flags&-4097|2,Ue=!1,tn=t)}}else{if(ep(t))throw Error(G(418));t.flags=t.flags&-4097|2,Ue=!1,tn=t}}}function Ay(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Xl(t){if(t!==tn)return!1;if(!Ue)return Ay(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zf(t.type,t.memoizedProps)),e&&(e=Qt)){if(ep(t))throw h1(),Error(G(418));for(;e;)d1(t,e),e=ai(e.nextSibling)}if(Ay(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=tn?ai(t.stateNode.nextSibling):null;return!0}function h1(){for(var t=Qt;t;)t=ai(t.nextSibling)}function po(){Qt=tn=null,Ue=!1}function Vm(t){Tn===null?Tn=[t]:Tn.push(t)}var yj=Lr.ReactCurrentBatchConfig;function Yo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Ql(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jy(t){var e=t._init;return e(t._payload)}function f1(t){function e(v,x){if(t){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=di(v,x),v.index=0,v.sibling=null,v}function s(v,x,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,x,b,S){return x===null||x.tag!==6?(x=_h(b,v.mode,S),x.return=v,x):(x=i(x,b),x.return=v,x)}function l(v,x,b,S){var k=b.type;return k===Ms?u(v,x,b.props.children,S,b.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Zr&&jy(k)===x.type)?(S=i(x,b.props),S.ref=Yo(v,x,b),S.return=v,S):(S=Lc(b.type,b.key,b.props,null,v.mode,S),S.ref=Yo(v,x,b),S.return=v,S)}function c(v,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Nh(b,v.mode,S),x.return=v,x):(x=i(x,b.children||[]),x.return=v,x)}function u(v,x,b,S,k){return x===null||x.tag!==7?(x=Hi(b,v.mode,S,k),x.return=v,x):(x=i(x,b),x.return=v,x)}function h(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=_h(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bl:return b=Lc(x.type,x.key,x.props,null,v.mode,b),b.ref=Yo(v,null,x),b.return=v,b;case js:return x=Nh(x,v.mode,b),x.return=v,x;case Zr:var S=x._init;return h(v,S(x._payload),b)}if(sa(x)||Uo(x))return x=Hi(x,v.mode,b,null),x.return=v,x;Ql(v,x)}return null}function f(v,x,b,S){var k=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:a(v,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bl:return b.key===k?l(v,x,b,S):null;case js:return b.key===k?c(v,x,b,S):null;case Zr:return k=b._init,f(v,x,k(b._payload),S)}if(sa(b)||Uo(b))return k!==null?null:u(v,x,b,S,null);Ql(v,b)}return null}function p(v,x,b,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(x,v,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bl:return v=v.get(S.key===null?b:S.key)||null,l(x,v,S,k);case js:return v=v.get(S.key===null?b:S.key)||null,c(x,v,S,k);case Zr:var C=S._init;return p(v,x,b,C(S._payload),k)}if(sa(S)||Uo(S))return v=v.get(b)||null,u(x,v,S,k,null);Ql(x,S)}return null}function g(v,x,b,S){for(var k=null,C=null,_=x,T=x=0,j=null;_!==null&&T<b.length;T++){_.index>T?(j=_,_=null):j=_.sibling;var R=f(v,_,b[T],S);if(R===null){_===null&&(_=j);break}t&&_&&R.alternate===null&&e(v,_),x=s(R,x,T),C===null?k=R:C.sibling=R,C=R,_=j}if(T===b.length)return n(v,_),Ue&&Oi(v,T),k;if(_===null){for(;T<b.length;T++)_=h(v,b[T],S),_!==null&&(x=s(_,x,T),C===null?k=_:C.sibling=_,C=_);return Ue&&Oi(v,T),k}for(_=r(v,_);T<b.length;T++)j=p(_,v,T,b[T],S),j!==null&&(t&&j.alternate!==null&&_.delete(j.key===null?T:j.key),x=s(j,x,T),C===null?k=j:C.sibling=j,C=j);return t&&_.forEach(function(O){return e(v,O)}),Ue&&Oi(v,T),k}function m(v,x,b,S){var k=Uo(b);if(typeof k!="function")throw Error(G(150));if(b=k.call(b),b==null)throw Error(G(151));for(var C=k=null,_=x,T=x=0,j=null,R=b.next();_!==null&&!R.done;T++,R=b.next()){_.index>T?(j=_,_=null):j=_.sibling;var O=f(v,_,R.value,S);if(O===null){_===null&&(_=j);break}t&&_&&O.alternate===null&&e(v,_),x=s(O,x,T),C===null?k=O:C.sibling=O,C=O,_=j}if(R.done)return n(v,_),Ue&&Oi(v,T),k;if(_===null){for(;!R.done;T++,R=b.next())R=h(v,R.value,S),R!==null&&(x=s(R,x,T),C===null?k=R:C.sibling=R,C=R);return Ue&&Oi(v,T),k}for(_=r(v,_);!R.done;T++,R=b.next())R=p(_,v,T,R.value,S),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?T:R.key),x=s(R,x,T),C===null?k=R:C.sibling=R,C=R);return t&&_.forEach(function(A){return e(v,A)}),Ue&&Oi(v,T),k}function w(v,x,b,S){if(typeof b=="object"&&b!==null&&b.type===Ms&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Bl:e:{for(var k=b.key,C=x;C!==null;){if(C.key===k){if(k=b.type,k===Ms){if(C.tag===7){n(v,C.sibling),x=i(C,b.props.children),x.return=v,v=x;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Zr&&jy(k)===C.type){n(v,C.sibling),x=i(C,b.props),x.ref=Yo(v,C,b),x.return=v,v=x;break e}n(v,C);break}else e(v,C);C=C.sibling}b.type===Ms?(x=Hi(b.props.children,v.mode,S,b.key),x.return=v,v=x):(S=Lc(b.type,b.key,b.props,null,v.mode,S),S.ref=Yo(v,x,b),S.return=v,v=S)}return o(v);case js:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(v,x.sibling),x=i(x,b.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=Nh(b,v.mode,S),x.return=v,v=x}return o(v);case Zr:return C=b._init,w(v,x,C(b._payload),S)}if(sa(b))return g(v,x,b,S);if(Uo(b))return m(v,x,b,S);Ql(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,b),x.return=v,v=x):(n(v,x),x=_h(b,v.mode,S),x.return=v,v=x),o(v)):n(v,x)}return w}var mo=f1(!0),p1=f1(!1),ou=Ni(null),au=null,Fs=null,Um=null;function Hm(){Um=Fs=au=null}function Wm(t){var e=ou.current;Ve(ou),t._currentValue=e}function np(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zs(t,e){au=t,Um=Fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(Um!==t)if(t={context:t,memoizedValue:e,next:null},Fs===null){if(au===null)throw Error(G(308));Fs=t,au.dependencies={lanes:0,firstContext:t}}else Fs=Fs.next=t;return e}var Fi=null;function qm(t){Fi===null?Fi=[t]:Fi.push(t)}function m1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qm(e)):(n.next=i.next,i.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xr=!1;function Km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jr(t,n)}return i=r.interleaved,i===null?(e.next=e,qm(r)):(e.next=i.next,i.next=e),r.interleaved=e,jr(t,n)}function Ac(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mm(t,n)}}function My(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lu(t,e,n,r){var i=t.updateQueue;Xr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(f=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Ye({},h,f);break e;case 2:Xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qi|=o,t.lanes=o,t.memoizedState=h}}function Ry(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var El={},Jn=Ni(El),Ha=Ni(El),Wa=Ni(El);function Bi(t){if(t===El)throw Error(G(174));return t}function Ym(t,e){switch($e(Wa,e),$e(Ha,t),$e(Jn,El),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lf(e,t)}Ve(Jn),$e(Jn,e)}function go(){Ve(Jn),Ve(Ha),Ve(Wa)}function v1(t){Bi(Wa.current);var e=Bi(Jn.current),n=Lf(e,t.type);e!==n&&($e(Ha,t),$e(Jn,n))}function Gm(t){Ha.current===t&&(Ve(Jn),Ve(Ha))}var We=Ni(0);function cu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wh=[];function Zm(){for(var t=0;t<wh.length;t++)wh[t]._workInProgressVersionPrimary=null;wh.length=0}var jc=Lr.ReactCurrentDispatcher,bh=Lr.ReactCurrentBatchConfig,Xi=0,qe=null,rt=null,ot=null,uu=!1,xa=!1,qa=0,xj=0;function vt(){throw Error(G(321))}function Xm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!In(t[n],e[n]))return!1;return!0}function Qm(t,e,n,r,i,s){if(Xi=s,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?kj:Cj,t=n(r,i),xa){s=0;do{if(xa=!1,qa=0,25<=s)throw Error(G(301));s+=1,ot=rt=null,e.updateQueue=null,jc.current=Ej,t=n(r,i)}while(xa)}if(jc.current=du,e=rt!==null&&rt.next!==null,Xi=0,ot=rt=qe=null,uu=!1,e)throw Error(G(300));return t}function Jm(){var t=qa!==0;return qa=0,t}function qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?qe.memoizedState=ot=t:ot=ot.next=t,ot}function xn(){if(rt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=ot===null?qe.memoizedState:ot.next;if(e!==null)ot=e,rt=t;else{if(t===null)throw Error(G(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ot===null?qe.memoizedState=ot=t:ot=ot.next=t}return ot}function Ka(t,e){return typeof e=="function"?e(t):e}function Sh(t){var e=xn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Xi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,qe.lanes|=u,Qi|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,In(r,e.memoizedState)||(Dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qe.lanes|=s,Qi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kh(t){var e=xn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);In(s,e.memoizedState)||(Dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function y1(){}function x1(t,e){var n=qe,r=xn(),i=e(),s=!In(r.memoizedState,i);if(s&&(r.memoizedState=i,Dt=!0),r=r.queue,eg(S1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Ya(9,b1.bind(null,n,r,i,e),void 0,null),lt===null)throw Error(G(349));Xi&30||w1(n,e,i)}return i}function w1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b1(t,e,n,r){e.value=n,e.getSnapshot=r,k1(e)&&C1(t)}function S1(t,e,n){return n(function(){k1(e)&&C1(t)})}function k1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!In(t,n)}catch{return!0}}function C1(t){var e=jr(t,1);e!==null&&jn(e,t,1,-1)}function Iy(t){var e=qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:t},e.queue=t,t=t.dispatch=Sj.bind(null,qe,t),[e.memoizedState,t]}function Ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function E1(){return xn().memoizedState}function Mc(t,e,n,r){var i=qn();qe.flags|=t,i.memoizedState=Ya(1|e,n,void 0,r===void 0?null:r)}function Zu(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(rt!==null){var o=rt.memoizedState;if(s=o.destroy,r!==null&&Xm(r,o.deps)){i.memoizedState=Ya(e,n,s,r);return}}qe.flags|=t,i.memoizedState=Ya(1|e,n,s,r)}function Oy(t,e){return Mc(8390656,8,t,e)}function eg(t,e){return Zu(2048,8,t,e)}function _1(t,e){return Zu(4,2,t,e)}function N1(t,e){return Zu(4,4,t,e)}function T1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P1(t,e,n){return n=n!=null?n.concat([t]):null,Zu(4,4,T1.bind(null,e,t),n)}function tg(){}function A1(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function j1(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M1(t,e,n){return Xi&21?(In(n,e)||(n=$b(),qe.lanes|=n,Qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function wj(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=bh.transition;bh.transition={};try{t(!1),e()}finally{Me=n,bh.transition=r}}function R1(){return xn().memoizedState}function bj(t,e,n){var r=ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},I1(t))O1(e,n);else if(n=m1(t,e,n,r),n!==null){var i=Tt();jn(n,t,r,i),L1(n,e,r)}}function Sj(t,e,n){var r=ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(I1(t))O1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,In(a,o)){var l=e.interleaved;l===null?(i.next=i,qm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=m1(t,e,i,r),n!==null&&(i=Tt(),jn(n,t,r,i),L1(n,e,r))}}function I1(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function O1(t,e){xa=uu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function L1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mm(t,n)}}var du={readContext:yn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},kj={readContext:yn,useCallback:function(t,e){return qn().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:Oy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mc(4194308,4,T1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mc(4,2,t,e)},useMemo:function(t,e){var n=qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bj.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=qn();return t={current:t},e.memoizedState=t},useState:Iy,useDebugValue:tg,useDeferredValue:function(t){return qn().memoizedState=t},useTransition:function(){var t=Iy(!1),e=t[0];return t=wj.bind(null,t[1]),qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=qn();if(Ue){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),lt===null)throw Error(G(349));Xi&30||w1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Oy(S1.bind(null,r,s,t),[t]),r.flags|=2048,Ya(9,b1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=qn(),e=lt.identifierPrefix;if(Ue){var n=Cr,r=kr;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Cj={readContext:yn,useCallback:A1,useContext:yn,useEffect:eg,useImperativeHandle:P1,useInsertionEffect:_1,useLayoutEffect:N1,useMemo:j1,useReducer:Sh,useRef:E1,useState:function(){return Sh(Ka)},useDebugValue:tg,useDeferredValue:function(t){var e=xn();return M1(e,rt.memoizedState,t)},useTransition:function(){var t=Sh(Ka)[0],e=xn().memoizedState;return[t,e]},useMutableSource:y1,useSyncExternalStore:x1,useId:R1,unstable_isNewReconciler:!1},Ej={readContext:yn,useCallback:A1,useContext:yn,useEffect:eg,useImperativeHandle:P1,useInsertionEffect:_1,useLayoutEffect:N1,useMemo:j1,useReducer:kh,useRef:E1,useState:function(){return kh(Ka)},useDebugValue:tg,useDeferredValue:function(t){var e=xn();return rt===null?e.memoizedState=t:M1(e,rt.memoizedState,t)},useTransition:function(){var t=kh(Ka)[0],e=xn().memoizedState;return[t,e]},useMutableSource:y1,useSyncExternalStore:x1,useId:R1,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xu={isMounted:function(t){return(t=t._reactInternals)?fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tt(),i=ui(t),s=Tr(r,i);s.payload=e,n!=null&&(s.callback=n),e=li(t,s,i),e!==null&&(jn(e,t,i,r),Ac(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tt(),i=ui(t),s=Tr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=li(t,s,i),e!==null&&(jn(e,t,i,r),Ac(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tt(),r=ui(t),i=Tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=li(t,i,r),e!==null&&(jn(e,t,r,n),Ac(e,t,r))}};function Ly(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fa(n,r)||!Fa(i,s):!0}function $1(t,e,n){var r=!1,i=vi,s=e.contextType;return typeof s=="object"&&s!==null?s=yn(s):(i=Ft(e)?Gi:kt.current,r=e.contextTypes,s=(r=r!=null)?fo(t,i):vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $y(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xu.enqueueReplaceState(e,e.state,null)}function ip(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Km(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yn(s):(s=Ft(e)?Gi:kt.current,i.context=fo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xu.enqueueReplaceState(i,i.state,null),lu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e){try{var n="",r=e;do n+=JP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ch(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _j=typeof WeakMap=="function"?WeakMap:Map;function D1(t,e,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fu||(fu=!0,mp=r),sp(t,e)},n}function z1(t,e,n){n=Tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sp(t,e),typeof r!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Dy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _j;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Fj.bind(null,t,e,n),e.then(t,t))}function zy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tr(-1,1),e.tag=2,li(n,e,1))),n.lanes|=1),t)}var Nj=Lr.ReactCurrentOwner,Dt=!1;function Nt(t,e,n,r){e.child=t===null?p1(e,null,n,r):mo(e,t.child,n,r)}function By(t,e,n,r,i){n=n.render;var s=e.ref;return Zs(e,i),r=Qm(t,e,n,r,s,i),n=Jm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Ue&&n&&Fm(e),e.flags|=1,Nt(t,e,r,i),e.child)}function Vy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!cg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,F1(t,e,s,r,i)):(t=Lc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(o,r)&&t.ref===e.ref)return Mr(t,e,i)}return e.flags|=1,t=di(s,r),t.ref=e.ref,t.return=e,e.child=t}function F1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fa(s,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,Mr(t,e,i)}return op(t,e,n,r,i)}function B1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Vs,Zt),Zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Vs,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(Vs,Zt),Zt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$e(Vs,Zt),Zt|=r;return Nt(t,e,i,n),e.child}function V1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function op(t,e,n,r,i){var s=Ft(n)?Gi:kt.current;return s=fo(e,s),Zs(e,i),n=Qm(t,e,n,r,s,i),r=Jm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mr(t,e,i)):(Ue&&r&&Fm(e),e.flags|=1,Nt(t,e,n,i),e.child)}function Uy(t,e,n,r,i){if(Ft(n)){var s=!0;ru(e)}else s=!1;if(Zs(e,i),e.stateNode===null)Rc(t,e),$1(e,n,r),ip(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=yn(c):(c=Ft(n)?Gi:kt.current,c=fo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&$y(e,o,r,c),Xr=!1;var f=e.memoizedState;o.state=f,lu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||zt.current||Xr?(typeof u=="function"&&(rp(e,n,u,r),l=e.memoizedState),(a=Xr||Ly(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,g1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_n(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yn(l):(l=Ft(n)?Gi:kt.current,l=fo(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&$y(e,o,r,l),Xr=!1,f=e.memoizedState,o.state=f,lu(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||zt.current||Xr?(typeof p=="function"&&(rp(e,n,p,r),g=e.memoizedState),(c=Xr||Ly(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ap(t,e,n,r,s,i)}function ap(t,e,n,r,i,s){V1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ty(e,n,!1),Mr(t,e,s);r=e.stateNode,Nj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mo(e,t.child,null,s),e.child=mo(e,null,a,s)):Nt(t,e,a,s),e.memoizedState=r.state,i&&Ty(e,n,!0),e.child}function U1(t){var e=t.stateNode;e.pendingContext?Ny(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ny(t,e.context,!1),Ym(t,e.containerInfo)}function Hy(t,e,n,r,i){return po(),Vm(i),e.flags|=256,Nt(t,e,n,r),e.child}var lp={dehydrated:null,treeContext:null,retryLane:0};function cp(t){return{baseLanes:t,cachePool:null,transitions:null}}function H1(t,e,n){var r=e.pendingProps,i=We.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(We,i&1),t===null)return tp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ed(o,r,0,null),t=Hi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cp(n),e.memoizedState=lp,t):ng(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Tj(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=di(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=di(a,s):(s=Hi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?cp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=lp,r}return s=t.child,t=s.sibling,r=di(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ng(t,e){return e=ed({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jl(t,e,n,r){return r!==null&&Vm(r),mo(e,t.child,null,n),t=ng(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tj(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ch(Error(G(422))),Jl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ed({mode:"visible",children:r.children},i,0,null),s=Hi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mo(e,t.child,null,o),e.child.memoizedState=cp(o),e.memoizedState=lp,s);if(!(e.mode&1))return Jl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=Ch(s,r,void 0),Jl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Dt||a){if(r=lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jr(t,i),jn(r,t,i,-1))}return lg(),r=Ch(Error(G(421))),Jl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Bj.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Qt=ai(i.nextSibling),tn=e,Ue=!0,Tn=null,t!==null&&(hn[fn++]=kr,hn[fn++]=Cr,hn[fn++]=Zi,kr=t.id,Cr=t.overflow,Zi=e),e=ng(e,r.children),e.flags|=4096,e)}function Wy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),np(t.return,e,n)}function Eh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function W1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,n,e);else if(t.tag===19)Wy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(We,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Eh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Eh(e,!0,n,null,s);break;case"together":Eh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Pj(t,e,n){switch(e.tag){case 3:U1(e),po();break;case 5:v1(e);break;case 1:Ft(e.type)&&ru(e);break;case 4:Ym(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(ou,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?H1(t,e,n):($e(We,We.current&1),t=Mr(t,e,n),t!==null?t.sibling:null);$e(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return W1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,B1(t,e,n)}return Mr(t,e,n)}var q1,up,K1,Y1;q1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};up=function(){};K1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bi(Jn.current);var s=null;switch(n){case"input":i=Mf(t,i),r=Mf(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=Of(t,i),r=Of(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tu)}$f(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ra.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ra.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Y1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Go(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Aj(t,e,n){var r=e.pendingProps;switch(Bm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Ft(e.type)&&nu(),yt(e),null;case 3:return r=e.stateNode,go(),Ve(zt),Ve(kt),Zm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(yp(Tn),Tn=null))),up(t,e),yt(e),null;case 5:Gm(e);var i=Bi(Wa.current);if(n=e.type,t!==null&&e.stateNode!=null)K1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return yt(e),null}if(t=Bi(Jn.current),Xl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yn]=e,r[Ua]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<aa.length;i++)Fe(aa[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":ey(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":ny(r,s),Fe("invalid",r)}$f(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zl(r.textContent,a,t),i=["children",""+a]):Ra.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Vl(r),ty(r,s,!0);break;case"textarea":Vl(r),ry(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yn]=e,t[Ua]=r,q1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Df(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<aa.length;i++)Fe(aa[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":ey(t,r),i=Mf(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":ny(t,r),i=Of(t,r),Fe("invalid",t);break;default:i=r}$f(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Eb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ia(t,l):typeof l=="number"&&Ia(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ra.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fe("scroll",t):l!=null&&_m(t,s,l,o))}switch(n){case"input":Vl(t),ty(t,r,!1);break;case"textarea":Vl(t),ry(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qs(t,!!r.multiple,s,!1):r.defaultValue!=null&&qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)Y1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Bi(Wa.current),Bi(Jn.current),Xl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yn]=e,(s=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:Zl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=e,e.stateNode=r}return yt(e),null;case 13:if(Ve(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&Qt!==null&&e.mode&1&&!(e.flags&128))h1(),po(),e.flags|=98560,s=!1;else if(s=Xl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[Yn]=e}else po(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),s=!1}else Tn!==null&&(yp(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?it===0&&(it=3):lg())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return go(),up(t,e),t===null&&Ba(e.stateNode.containerInfo),yt(e),null;case 10:return Wm(e.type._context),yt(e),null;case 17:return Ft(e.type)&&nu(),yt(e),null;case 19:if(Ve(We),s=e.memoizedState,s===null)return yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Go(s,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cu(t),o!==null){for(e.flags|=128,Go(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(We,We.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>yo&&(e.flags|=128,r=!0,Go(s,!1),e.lanes=4194304)}else{if(!r)if(t=cu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Go(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return yt(e),null}else 2*Xe()-s.renderingStartTime>yo&&n!==1073741824&&(e.flags|=128,r=!0,Go(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=We.current,$e(We,r?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return ag(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function jj(t,e){switch(Bm(e),e.tag){case 1:return Ft(e.type)&&nu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return go(),Ve(zt),Ve(kt),Zm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gm(e),null;case 13:if(Ve(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));po()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(We),null;case 4:return go(),null;case 10:return Wm(e.type._context),null;case 22:case 23:return ag(),null;case 24:return null;default:return null}}var ec=!1,xt=!1,Mj=typeof WeakSet=="function"?WeakSet:Set,re=null;function Bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function dp(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var qy=!1;function Rj(t,e){if(Yf=Qc,t=Jb(),zm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gf={focusedElem:t,selectionRange:n},Qc=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:_n(e.type,m),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(S){Ge(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return g=qy,qy=!1,g}function wa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dp(e,n,s)}i=i.next}while(i!==r)}}function Qu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function G1(t){var e=t.alternate;e!==null&&(t.alternate=null,G1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yn],delete e[Ua],delete e[Qf],delete e[mj],delete e[gj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Z1(t){return t.tag===5||t.tag===3||t.tag===4}function Ky(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tu));else if(r!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}function pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}var ut=null,Nn=!1;function Ur(t,e,n){for(n=n.child;n!==null;)X1(t,e,n),n=n.sibling}function X1(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Hu,n)}catch{}switch(n.tag){case 5:xt||Bs(n,e);case 6:var r=ut,i=Nn;ut=null,Ur(t,e,n),ut=r,Nn=i,ut!==null&&(Nn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Nn?(t=ut,n=n.stateNode,t.nodeType===8?yh(t.parentNode,n):t.nodeType===1&&yh(t,n),Da(t)):yh(ut,n.stateNode));break;case 4:r=ut,i=Nn,ut=n.stateNode.containerInfo,Nn=!0,Ur(t,e,n),ut=r,Nn=i;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dp(n,e,o),i=i.next}while(i!==r)}Ur(t,e,n);break;case 1:if(!xt&&(Bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}Ur(t,e,n);break;case 21:Ur(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Ur(t,e,n),xt=r):Ur(t,e,n);break;default:Ur(t,e,n)}}function Yy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Mj),e.forEach(function(r){var i=Vj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,Nn=!1;break e;case 3:ut=a.stateNode.containerInfo,Nn=!0;break e;case 4:ut=a.stateNode.containerInfo,Nn=!0;break e}a=a.return}if(ut===null)throw Error(G(160));X1(s,o,i),ut=null,Nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ge(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Q1(e,t),e=e.sibling}function Q1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(e,t),Un(t),r&4){try{wa(3,t,t.return),Qu(3,t)}catch(m){Ge(t,t.return,m)}try{wa(5,t,t.return)}catch(m){Ge(t,t.return,m)}}break;case 1:Cn(e,t),Un(t),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(Cn(e,t),Un(t),r&512&&n!==null&&Bs(n,n.return),t.flags&32){var i=t.stateNode;try{Ia(i,"")}catch(m){Ge(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&wb(i,s),Df(a,o);var c=Df(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Eb(i,h):u==="dangerouslySetInnerHTML"?kb(i,h):u==="children"?Ia(i,h):_m(i,u,h,c)}switch(a){case"input":Rf(i,s);break;case"textarea":bb(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?qs(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?qs(i,!!s.multiple,s.defaultValue,!0):qs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ua]=s}catch(m){Ge(t,t.return,m)}}break;case 6:if(Cn(e,t),Un(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Ge(t,t.return,m)}}break;case 3:if(Cn(e,t),Un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Da(e.containerInfo)}catch(m){Ge(t,t.return,m)}break;case 4:Cn(e,t),Un(t);break;case 13:Cn(e,t),Un(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sg=Xe())),r&4&&Yy(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(c=xt)||u,Cn(e,t),xt=c):Cn(e,t),Un(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(re=t,u=t.child;u!==null;){for(h=re=u;re!==null;){switch(f=re,p=f.child,f.tag){case 0:case 11:case 14:case 15:wa(4,f,f.return);break;case 1:Bs(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Ge(r,n,m)}}break;case 5:Bs(f,f.return);break;case 22:if(f.memoizedState!==null){Zy(h);continue}}p!==null?(p.return=f,re=p):Zy(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Cb("display",o))}catch(m){Ge(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Ge(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Cn(e,t),Un(t),r&4&&Yy(t);break;case 21:break;default:Cn(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Z1(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ia(i,""),r.flags&=-33);var s=Ky(t);pp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ky(t);fp(t,a,o);break;default:throw Error(G(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ij(t,e,n){re=t,J1(t)}function J1(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ec;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xt;a=ec;var c=xt;if(ec=o,(xt=l)&&!c)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?Xy(i):l!==null?(l.return=o,re=l):Xy(i);for(;s!==null;)re=s,J1(s),s=s.sibling;re=i,ec=a,xt=c}Gy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):Gy(t)}}function Gy(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Qu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ry(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ry(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Da(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}xt||e.flags&512&&hp(e)}catch(f){Ge(e,e.return,f)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Zy(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Xy(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qu(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{hp(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{hp(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var Oj=Math.ceil,hu=Lr.ReactCurrentDispatcher,rg=Lr.ReactCurrentOwner,vn=Lr.ReactCurrentBatchConfig,Ne=0,lt=null,nt=null,ht=0,Zt=0,Vs=Ni(0),it=0,Ga=null,Qi=0,Ju=0,ig=0,ba=null,$t=null,sg=0,yo=1/0,xr=null,fu=!1,mp=null,ci=null,tc=!1,ni=null,pu=0,Sa=0,gp=null,Ic=-1,Oc=0;function Tt(){return Ne&6?Xe():Ic!==-1?Ic:Ic=Xe()}function ui(t){return t.mode&1?Ne&2&&ht!==0?ht&-ht:yj.transition!==null?(Oc===0&&(Oc=$b()),Oc):(t=Me,t!==0||(t=window.event,t=t===void 0?16:Hb(t.type)),t):1}function jn(t,e,n,r){if(50<Sa)throw Sa=0,gp=null,Error(G(185));Sl(t,n,r),(!(Ne&2)||t!==lt)&&(t===lt&&(!(Ne&2)&&(Ju|=n),it===4&&Jr(t,ht)),Bt(t,r),n===1&&Ne===0&&!(e.mode&1)&&(yo=Xe()+500,Gu&&Ti()))}function Bt(t,e){var n=t.callbackNode;yA(t,e);var r=Xc(t,t===lt?ht:0);if(r===0)n!==null&&oy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&oy(n),e===1)t.tag===0?vj(Qy.bind(null,t)):c1(Qy.bind(null,t)),fj(function(){!(Ne&6)&&Ti()}),n=null;else{switch(Db(r)){case 1:n=jm;break;case 4:n=Ob;break;case 16:n=Zc;break;case 536870912:n=Lb;break;default:n=Zc}n=aS(n,eS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eS(t,e){if(Ic=-1,Oc=0,Ne&6)throw Error(G(327));var n=t.callbackNode;if(Xs()&&t.callbackNode!==n)return null;var r=Xc(t,t===lt?ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mu(t,r);else{e=r;var i=Ne;Ne|=2;var s=nS();(lt!==t||ht!==e)&&(xr=null,yo=Xe()+500,Ui(t,e));do try{Dj();break}catch(a){tS(t,a)}while(!0);Hm(),hu.current=s,Ne=i,nt!==null?e=0:(lt=null,ht=0,e=it)}if(e!==0){if(e===2&&(i=Uf(t),i!==0&&(r=i,e=vp(t,i))),e===1)throw n=Ga,Ui(t,0),Jr(t,r),Bt(t,Xe()),n;if(e===6)Jr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Lj(i)&&(e=mu(t,r),e===2&&(s=Uf(t),s!==0&&(r=s,e=vp(t,s))),e===1))throw n=Ga,Ui(t,0),Jr(t,r),Bt(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Li(t,$t,xr);break;case 3:if(Jr(t,r),(r&130023424)===r&&(e=sg+500-Xe(),10<e)){if(Xc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xf(Li.bind(null,t,$t,xr),e);break}Li(t,$t,xr);break;case 4:if(Jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-An(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Oj(r/1960))-r,10<r){t.timeoutHandle=Xf(Li.bind(null,t,$t,xr),r);break}Li(t,$t,xr);break;case 5:Li(t,$t,xr);break;default:throw Error(G(329))}}}return Bt(t,Xe()),t.callbackNode===n?eS.bind(null,t):null}function vp(t,e){var n=ba;return t.current.memoizedState.isDehydrated&&(Ui(t,e).flags|=256),t=mu(t,e),t!==2&&(e=$t,$t=n,e!==null&&yp(e)),t}function yp(t){$t===null?$t=t:$t.push.apply($t,t)}function Lj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!In(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jr(t,e){for(e&=~ig,e&=~Ju,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function Qy(t){if(Ne&6)throw Error(G(327));Xs();var e=Xc(t,0);if(!(e&1))return Bt(t,Xe()),null;var n=mu(t,e);if(t.tag!==0&&n===2){var r=Uf(t);r!==0&&(e=r,n=vp(t,r))}if(n===1)throw n=Ga,Ui(t,0),Jr(t,e),Bt(t,Xe()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,$t,xr),Bt(t,Xe()),null}function og(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(yo=Xe()+500,Gu&&Ti())}}function Ji(t){ni!==null&&ni.tag===0&&!(Ne&6)&&Xs();var e=Ne;Ne|=1;var n=vn.transition,r=Me;try{if(vn.transition=null,Me=1,t)return t()}finally{Me=r,vn.transition=n,Ne=e,!(Ne&6)&&Ti()}}function ag(){Zt=Vs.current,Ve(Vs)}function Ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hj(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Bm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nu();break;case 3:go(),Ve(zt),Ve(kt),Zm();break;case 5:Gm(r);break;case 4:go();break;case 13:Ve(We);break;case 19:Ve(We);break;case 10:Wm(r.type._context);break;case 22:case 23:ag()}n=n.return}if(lt=t,nt=t=di(t.current,null),ht=Zt=e,it=0,Ga=null,ig=Ju=Qi=0,$t=ba=null,Fi!==null){for(e=0;e<Fi.length;e++)if(n=Fi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Fi=null}return t}function tS(t,e){do{var n=nt;try{if(Hm(),jc.current=du,uu){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uu=!1}if(Xi=0,ot=rt=qe=null,xa=!1,qa=0,rg.current=null,n===null||n.return===null){it=1,Ga=e,nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=zy(o);if(p!==null){p.flags&=-257,Fy(p,o,a,s,e),p.mode&1&&Dy(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Dy(s,c,e),lg();break e}l=Error(G(426))}}else if(Ue&&a.mode&1){var w=zy(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Fy(w,o,a,s,e),Vm(vo(l,a));break e}}s=l=vo(l,a),it!==4&&(it=2),ba===null?ba=[s]:ba.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=D1(s,l,e);My(s,v);break e;case 1:a=l;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ci===null||!ci.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=z1(s,a,e);My(s,S);break e}}s=s.return}while(s!==null)}iS(n)}catch(k){e=k,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function nS(){var t=hu.current;return hu.current=du,t===null?du:t}function lg(){(it===0||it===3||it===2)&&(it=4),lt===null||!(Qi&268435455)&&!(Ju&268435455)||Jr(lt,ht)}function mu(t,e){var n=Ne;Ne|=2;var r=nS();(lt!==t||ht!==e)&&(xr=null,Ui(t,e));do try{$j();break}catch(i){tS(t,i)}while(!0);if(Hm(),Ne=n,hu.current=r,nt!==null)throw Error(G(261));return lt=null,ht=0,it}function $j(){for(;nt!==null;)rS(nt)}function Dj(){for(;nt!==null&&!cA();)rS(nt)}function rS(t){var e=oS(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?iS(t):nt=e,rg.current=null}function iS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jj(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,nt=null;return}}else if(n=Aj(n,e,Zt),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);it===0&&(it=5)}function Li(t,e,n){var r=Me,i=vn.transition;try{vn.transition=null,Me=1,zj(t,e,n,r)}finally{vn.transition=i,Me=r}return null}function zj(t,e,n,r){do Xs();while(ni!==null);if(Ne&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(xA(t,s),t===lt&&(nt=lt=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tc||(tc=!0,aS(Zc,function(){return Xs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=Me;Me=1;var a=Ne;Ne|=4,rg.current=null,Rj(t,n),Q1(n,t),sj(Gf),Qc=!!Yf,Gf=Yf=null,t.current=n,Ij(n),uA(),Ne=a,Me=o,vn.transition=s}else t.current=n;if(tc&&(tc=!1,ni=t,pu=i),s=t.pendingLanes,s===0&&(ci=null),fA(n.stateNode),Bt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fu)throw fu=!1,t=mp,mp=null,t;return pu&1&&t.tag!==0&&Xs(),s=t.pendingLanes,s&1?t===gp?Sa++:(Sa=0,gp=t):Sa=0,Ti(),null}function Xs(){if(ni!==null){var t=Db(pu),e=vn.transition,n=Me;try{if(vn.transition=null,Me=16>t?16:t,ni===null)var r=!1;else{if(t=ni,ni=null,pu=0,Ne&6)throw Error(G(331));var i=Ne;for(Ne|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:wa(8,u,s)}var h=u.child;if(h!==null)h.return=u,re=h;else for(;re!==null;){u=re;var f=u.sibling,p=u.return;if(G1(u),u===c){re=null;break}if(f!==null){f.return=p,re=f;break}re=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wa(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,re=v;break e}re=s.return}}var x=t.current;for(re=x;re!==null;){o=re;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,re=b;else e:for(o=x;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qu(9,a)}}catch(k){Ge(a,a.return,k)}if(a===o){re=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,re=S;break e}re=a.return}}if(Ne=i,Ti(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Hu,t)}catch{}r=!0}return r}finally{Me=n,vn.transition=e}}return!1}function Jy(t,e,n){e=vo(n,e),e=D1(t,e,1),t=li(t,e,1),e=Tt(),t!==null&&(Sl(t,1,e),Bt(t,e))}function Ge(t,e,n){if(t.tag===3)Jy(t,t,n);else for(;e!==null;){if(e.tag===3){Jy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ci===null||!ci.has(r))){t=vo(n,t),t=z1(e,t,1),e=li(e,t,1),t=Tt(),e!==null&&(Sl(e,1,t),Bt(e,t));break}}e=e.return}}function Fj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(ht&n)===n&&(it===4||it===3&&(ht&130023424)===ht&&500>Xe()-sg?Ui(t,0):ig|=n),Bt(t,e)}function sS(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var n=Tt();t=jr(t,e),t!==null&&(Sl(t,e,n),Bt(t,n))}function Bj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sS(t,n)}function Vj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),sS(t,n)}var oS;oS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,Pj(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,Ue&&e.flags&1048576&&u1(e,su,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rc(t,e),t=e.pendingProps;var i=fo(e,kt.current);Zs(e,n),i=Qm(null,e,r,t,i,n);var s=Jm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(s=!0,ru(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Km(e),i.updater=Xu,e.stateNode=i,i._reactInternals=e,ip(e,r,t,n),e=ap(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&Fm(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Hj(r),t=_n(r,t),i){case 0:e=op(null,e,r,t,n);break e;case 1:e=Uy(null,e,r,t,n);break e;case 11:e=By(null,e,r,t,n);break e;case 14:e=Vy(null,e,r,_n(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),op(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Uy(t,e,r,i,n);case 3:e:{if(U1(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,g1(t,e),lu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vo(Error(G(423)),e),e=Hy(t,e,r,n,i);break e}else if(r!==i){i=vo(Error(G(424)),e),e=Hy(t,e,r,n,i);break e}else for(Qt=ai(e.stateNode.containerInfo.firstChild),tn=e,Ue=!0,Tn=null,n=p1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(po(),r===i){e=Mr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return v1(e),t===null&&tp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Zf(r,i)?o=null:s!==null&&Zf(r,s)&&(e.flags|=32),V1(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&tp(e),null;case 13:return H1(t,e,n);case 4:return Ym(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mo(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),By(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$e(ou,r._currentValue),r._currentValue=o,s!==null)if(In(s.value,o)){if(s.children===i.children&&!zt.current){e=Mr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Tr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),np(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),np(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zs(e,n),i=yn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=_n(r,e.pendingProps),i=_n(r.type,i),Vy(t,e,r,i,n);case 15:return F1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),Rc(t,e),e.tag=1,Ft(r)?(t=!0,ru(e)):t=!1,Zs(e,n),$1(e,r,i),ip(e,r,i,n),ap(null,e,r,!0,t,n);case 19:return W1(t,e,n);case 22:return B1(t,e,n)}throw Error(G(156,e.tag))};function aS(t,e){return Ib(t,e)}function Uj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new Uj(t,e,n,r)}function cg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hj(t){if(typeof t=="function")return cg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tm)return 11;if(t===Pm)return 14}return 2}function di(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")cg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ms:return Hi(n.children,i,s,e);case Nm:o=8,i|=8;break;case Tf:return t=gn(12,n,e,i|2),t.elementType=Tf,t.lanes=s,t;case Pf:return t=gn(13,n,e,i),t.elementType=Pf,t.lanes=s,t;case Af:return t=gn(19,n,e,i),t.elementType=Af,t.lanes=s,t;case vb:return ed(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mb:o=10;break e;case gb:o=9;break e;case Tm:o=11;break e;case Pm:o=14;break e;case Zr:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hi(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function ed(t,e,n,r){return t=gn(22,t,r,e),t.elementType=vb,t.lanes=n,t.stateNode={isHidden:!1},t}function _h(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function Nh(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Wj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ah(0),this.expirationTimes=ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ah(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ug(t,e,n,r,i,s,o,a,l){return t=new Wj(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(s),t}function qj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lS(t){if(!t)return vi;t=t._reactInternals;e:{if(fs(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Ft(n))return l1(t,n,e)}return e}function cS(t,e,n,r,i,s,o,a,l){return t=ug(n,r,!0,t,i,s,o,a,l),t.context=lS(null),n=t.current,r=Tt(),i=ui(n),s=Tr(r,i),s.callback=e??null,li(n,s,i),t.current.lanes=i,Sl(t,i,r),Bt(t,r),t}function td(t,e,n,r){var i=e.current,s=Tt(),o=ui(i);return n=lS(n),e.context===null?e.context=n:e.pendingContext=n,e=Tr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=li(i,e,o),t!==null&&(jn(t,i,o,s),Ac(t,i,o)),o}function gu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ex(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dg(t,e){ex(t,e),(t=t.alternate)&&ex(t,e)}function Kj(){return null}var uS=typeof reportError=="function"?reportError:function(t){console.error(t)};function hg(t){this._internalRoot=t}nd.prototype.render=hg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));td(t,e,null,null)};nd.prototype.unmount=hg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ji(function(){td(null,t,null,null)}),e[Ar]=null}};function nd(t){this._internalRoot=t}nd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qr.length&&e!==0&&e<Qr[n].priority;n++);Qr.splice(n,0,t),n===0&&Ub(t)}};function fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tx(){}function Yj(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=gu(o);s.call(c)}}var o=cS(e,r,t,0,null,!1,!1,"",tx);return t._reactRootContainer=o,t[Ar]=o.current,Ba(t.nodeType===8?t.parentNode:t),Ji(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=gu(l);a.call(c)}}var l=ug(t,0,!1,null,null,!1,!1,"",tx);return t._reactRootContainer=l,t[Ar]=l.current,Ba(t.nodeType===8?t.parentNode:t),Ji(function(){td(e,l,n,r)}),l}function id(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=gu(o);a.call(l)}}td(e,o,t,i)}else o=Yj(n,e,t,i,r);return gu(o)}zb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=oa(e.pendingLanes);n!==0&&(Mm(e,n|1),Bt(e,Xe()),!(Ne&6)&&(yo=Xe()+500,Ti()))}break;case 13:Ji(function(){var r=jr(t,1);if(r!==null){var i=Tt();jn(r,t,1,i)}}),dg(t,1)}};Rm=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=Tt();jn(e,t,134217728,n)}dg(t,134217728)}};Fb=function(t){if(t.tag===13){var e=ui(t),n=jr(t,e);if(n!==null){var r=Tt();jn(n,t,e,r)}dg(t,e)}};Bb=function(){return Me};Vb=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Ff=function(t,e,n){switch(e){case"input":if(Rf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yu(r);if(!i)throw Error(G(90));xb(r),Rf(r,i)}}}break;case"textarea":bb(t,n);break;case"select":e=n.value,e!=null&&qs(t,!!n.multiple,e,!1)}};Tb=og;Pb=Ji;var Gj={usingClientEntryPoint:!1,Events:[Cl,Ls,Yu,_b,Nb,og]},Zo={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zj={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mb(t),t===null?null:t.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||Kj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Hu=nc.inject(Zj),Qn=nc}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gj;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fg(e))throw Error(G(200));return qj(t,e,null,n)};an.createRoot=function(t,e){if(!fg(t))throw Error(G(299));var n=!1,r="",i=uS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ug(t,1,!1,null,null,n,!1,r,i),t[Ar]=e.current,Ba(t.nodeType===8?t.parentNode:t),new hg(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Mb(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return Ji(t)};an.hydrate=function(t,e,n){if(!rd(e))throw Error(G(200));return id(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!fg(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=uS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=cS(e,null,t,1,n??null,i,!1,s,o),t[Ar]=e.current,Ba(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new nd(e)};an.render=function(t,e,n){if(!rd(e))throw Error(G(200));return id(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!rd(t))throw Error(G(40));return t._reactRootContainer?(Ji(function(){id(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};an.unstable_batchedUpdates=og;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rd(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return id(t,e,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function dS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dS)}catch(t){console.error(t)}}dS(),db.exports=an;var ps=db.exports;const Xj=cr(ps);var nx=ps;_f.createRoot=nx.createRoot,_f.hydrateRoot=nx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}var ri;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ri||(ri={}));const rx="popstate";function Qj(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=ms(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),xp("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:vu(s))}function r(i,s){pg(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return e2(e,n,r,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jj(){return Math.random().toString(36).substr(2,8)}function ix(t,e){return{usr:t.state,key:t.key,idx:e}}function xp(t,e,n,r){return n===void 0&&(n=null),Za({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ms(e):e,{state:n,key:e&&e.key||r||Jj()})}function vu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ms(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function e2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ri.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Za({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=ri.Pop;let w=u(),v=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:v})}function f(w,v){a=ri.Push;let x=xp(m.location,w,v);n&&n(x,w),c=u()+1;let b=ix(x,c),S=m.createHref(x);try{o.pushState(b,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}s&&l&&l({action:a,location:m.location,delta:1})}function p(w,v){a=ri.Replace;let x=xp(m.location,w,v);n&&n(x,w),c=u();let b=ix(x,c),S=m.createHref(x);o.replaceState(b,"",S),s&&l&&l({action:a,location:m.location,delta:0})}function g(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:vu(w);return x=x.replace(/ $/,"%20"),Ke(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let m={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rx,h),l=w,()=>{i.removeEventListener(rx,h),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(w){return o.go(w)}};return m}var sx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sx||(sx={}));function t2(t,e,n){return n===void 0&&(n="/"),n2(t,e,n)}function n2(t,e,n,r){let i=typeof e=="string"?ms(e):e,s=xo(i.pathname||"/",n);if(s==null)return null;let o=hS(t);r2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=p2(s);a=h2(o[l],c)}return a}function hS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ke(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=hi([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ke(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hS(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:u2(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of fS(s.path))i(s,o,l)}),e}function fS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=fS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function r2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i2=/^:[\w-]+$/,s2=3,o2=2,a2=1,l2=10,c2=-2,ox=t=>t==="*";function u2(t,e){let n=t.split("/"),r=n.length;return n.some(ox)&&(r+=c2),e&&(r+=o2),n.filter(i=>!ox(i)).reduce((i,s)=>i+(i2.test(s)?s2:s===""?a2:l2),r)}function d2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function h2(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=wp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:hi([s,h.pathname]),pathnameBase:y2(hi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=hi([s,h.pathnameBase]))}return o}function wp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=f2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=a[h]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function f2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function p2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function m2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ms(t):t;return{pathname:n?n.startsWith("/")?n:g2(n,e):e,search:x2(r),hash:w2(i)}}function g2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Th(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mg(t,e){let n=v2(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ms(t):(i=Za({},t),Ke(!i.pathname||!i.pathname.includes("?"),Th("?","pathname","search",i)),Ke(!i.pathname||!i.pathname.includes("#"),Th("#","pathname","hash",i)),Ke(!i.search||!i.search.includes("#"),Th("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=m2(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const hi=t=>t.join("/").replace(/\/\/+/g,"/"),y2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pS=["post","put","patch","delete"];new Set(pS);const S2=["get",...pS];new Set(S2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}const sd=y.createContext(null),mS=y.createContext(null),$r=y.createContext(null),od=y.createContext(null),Dr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),gS=y.createContext(null);function k2(t,e){let{relative:n}=e===void 0?{}:e;jo()||Ke(!1);let{basename:r,navigator:i}=y.useContext($r),{hash:s,pathname:o,search:a}=ad(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:hi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function jo(){return y.useContext(od)!=null}function cn(){return jo()||Ke(!1),y.useContext(od).location}function vS(t){y.useContext($r).static||y.useLayoutEffect(t)}function ct(){let{isDataRoute:t}=y.useContext(Dr);return t?L2():C2()}function C2(){jo()||Ke(!1);let t=y.useContext(sd),{basename:e,future:n,navigator:r}=y.useContext($r),{matches:i}=y.useContext(Dr),{pathname:s}=cn(),o=JSON.stringify(mg(i,n.v7_relativeSplatPath)),a=y.useRef(!1);return vS(()=>{a.current=!0}),y.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=gg(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:hi([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function gs(){let{matches:t}=y.useContext(Dr),e=t[t.length-1];return e?e.params:{}}function ad(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext($r),{matches:i}=y.useContext(Dr),{pathname:s}=cn(),o=JSON.stringify(mg(i,r.v7_relativeSplatPath));return y.useMemo(()=>gg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function E2(t,e){return _2(t,e)}function _2(t,e,n,r){jo()||Ke(!1);let{navigator:i,static:s}=y.useContext($r),{matches:o}=y.useContext(Dr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=cn(),h;if(e){var f;let v=typeof e=="string"?ms(e):e;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Ke(!1),h=v}else h=u;let p=h.pathname||"/",g=p;if(c!=="/"){let v=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=t2(t,{pathname:g}),w=j2(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:hi([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:hi([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&w?y.createElement(od.Provider,{value:{location:Xa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ri.Pop}},w):w}function N2(){let t=O2(),e=b2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,null)}const T2=y.createElement(N2,null);class P2 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Dr.Provider,{value:this.props.routeContext},y.createElement(gS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A2(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(sd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Dr.Provider,{value:e},r)}function j2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Ke(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,m=null,w=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||T2,l&&(c<0&&f===0?($2("route-fallback"),g=!0,w=null):c===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),x=()=>{let b;return p?b=m:g?b=w:h.route.Component?b=y.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,y.createElement(A2,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(P2,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var yS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yS||{}),xS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xS||{});function M2(t){let e=y.useContext(sd);return e||Ke(!1),e}function R2(t){let e=y.useContext(mS);return e||Ke(!1),e}function I2(t){let e=y.useContext(Dr);return e||Ke(!1),e}function wS(t){let e=I2(),n=e.matches[e.matches.length-1];return n.route.id||Ke(!1),n.route.id}function O2(){var t;let e=y.useContext(gS),n=R2(),r=wS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function L2(){let{router:t}=M2(yS.UseNavigateStable),e=wS(xS.UseNavigateStable),n=y.useRef(!1);return vS(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xa({fromRouteId:e},s)))},[t,e])}const ax={};function $2(t,e,n){ax[t]||(ax[t]=!0)}function D2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fi(t){let{to:e,replace:n,state:r,relative:i}=t;jo()||Ke(!1);let{future:s,static:o}=y.useContext($r),{matches:a}=y.useContext(Dr),{pathname:l}=cn(),c=ct(),u=gg(e,mg(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return y.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function Ze(t){Ke(!1)}function z2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ri.Pop,navigator:s,static:o=!1,future:a}=t;jo()&&Ke(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:s,static:o,future:Xa({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ms(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,m=y.useMemo(()=>{let w=xo(u,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:g},navigationType:i}},[l,u,h,f,p,g,i]);return m==null?null:y.createElement($r.Provider,{value:c},y.createElement(od.Provider,{children:n,value:m}))}function bS(t){let{children:e,location:n}=t;return E2(bp(e),n)}new Promise(()=>{});function bp(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let s=[...e,i];if(r.type===y.Fragment){n.push.apply(n,bp(r.props.children,s));return}r.type!==Ze&&Ke(!1),!r.props.index||!r.props.children||Ke(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(this,arguments)}function SS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function F2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B2(t,e){return t.button===0&&(!e||e==="_self")&&!F2(t)}const V2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U2=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],H2="6";try{window.__reactRouterVersion=H2}catch{}const W2=y.createContext({isTransitioning:!1}),q2="startTransition",lx=cb[q2];function K2(t){let{basename:e,children:n,future:r,window:i}=t,s=y.useRef();s.current==null&&(s.current=Qj({window:i,v5Compat:!0}));let o=s.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=y.useCallback(h=>{c&&lx?lx(()=>l(h)):l(h)},[l,c]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.useEffect(()=>D2(r),[r]),y.createElement(z2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z2=y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,f=SS(e,V2),{basename:p}=y.useContext($r),g,m=!1;if(typeof c=="string"&&G2.test(c)&&(g=c,Y2))try{let b=new URL(window.location.href),S=c.startsWith("//")?new URL(b.protocol+c):new URL(c),k=xo(S.pathname,p);S.origin===b.origin&&k!=null?c=k+S.search+S.hash:m=!0}catch{}let w=k2(c,{relative:i}),v=J2(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function x(b){r&&r(b),b.defaultPrevented||v(b)}return y.createElement("a",yu({},f,{href:g||w,onClick:m||s?r:x,ref:n,target:l}))}),X2=y.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,h=SS(e,U2),f=ad(l,{relative:h.relative}),p=cn(),g=y.useContext(mS),{navigator:m,basename:w}=y.useContext($r),v=g!=null&&eM(f)&&c===!0,x=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,b=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(b=b.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&w&&(S=xo(S,w)||S);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let C=b===x||!o&&b.startsWith(x)&&b.charAt(k)==="/",_=S!=null&&(S===x||!o&&S.startsWith(x)&&S.charAt(x.length)==="/"),T={isActive:C,isPending:_,isTransitioning:v},j=C?r:void 0,R;typeof s=="function"?R=s(T):R=[s,C?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(T):a;return y.createElement(Z2,yu({},h,{"aria-current":j,className:R,ref:n,style:O,to:l,viewTransition:c}),typeof u=="function"?u(T):u)});var Sp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sp||(Sp={}));var cx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cx||(cx={}));function Q2(t){let e=y.useContext(sd);return e||Ke(!1),e}function J2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ct(),c=cn(),u=ad(t,{relative:o});return y.useCallback(h=>{if(B2(h,n)){h.preventDefault();let f=r!==void 0?r:vu(c)===vu(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function eM(t,e){e===void 0&&(e={});let n=y.useContext(W2);n==null&&Ke(!1);let{basename:r}=Q2(Sp.useViewTransitionState),i=ad(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=xo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=xo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wp(i.pathname,o)!=null||wp(i.pathname,s)!=null}const tM={},ux=t=>{let e;const n=new Set,r=(u,h)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(g=>g(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(tM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},nM=t=>t?ux(t):ux;var kS={exports:{}},CS={},ES={exports:{}},_S={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=y;function rM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iM=typeof Object.is=="function"?Object.is:rM,sM=wo.useState,oM=wo.useEffect,aM=wo.useLayoutEffect,lM=wo.useDebugValue;function cM(t,e){var n=e(),r=sM({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return aM(function(){i.value=n,i.getSnapshot=e,Ph(i)&&s({inst:i})},[t,n,e]),oM(function(){return Ph(i)&&s({inst:i}),t(function(){Ph(i)&&s({inst:i})})},[t]),lM(n),n}function Ph(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!iM(t,n)}catch{return!0}}function uM(t,e){return e()}var dM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uM:cM;_S.useSyncExternalStore=wo.useSyncExternalStore!==void 0?wo.useSyncExternalStore:dM;ES.exports=_S;var hM=ES.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld=y,fM=hM;function pM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mM=typeof Object.is=="function"?Object.is:pM,gM=fM.useSyncExternalStore,vM=ld.useRef,yM=ld.useEffect,xM=ld.useMemo,wM=ld.useDebugValue;CS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=vM(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=xM(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return h=g}return h=p}if(g=h,mM(u,p))return g;var m=r(p);return i!==void 0&&i(g,m)?(u=p,g):(u=p,h=m)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=gM(t,s[0],s[1]);return yM(function(){o.hasValue=!0,o.value=a},[a]),wM(a),a};kS.exports=CS;var bM=kS.exports;const NS=cr(bM),TS={},{useDebugValue:SM}=Le,{useSyncExternalStoreWithSelector:kM}=NS;let dx=!1;const CM=t=>t;function EM(t,e=CM,n){(TS?"production":void 0)!=="production"&&n&&!dx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),dx=!0);const r=kM(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return SM(r),r}const hx=t=>{(TS?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?nM(t):t,n=(r,i)=>EM(e,r,i);return Object.assign(n,e),n},ur=t=>t?hx(t):hx;function PS(t,e){return function(){return t.apply(e,arguments)}}const{toString:_M}=Object.prototype,{getPrototypeOf:vg}=Object,cd=(t=>e=>{const n=_M.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zn=t=>(t=t.toLowerCase(),e=>cd(e)===t),ud=t=>e=>typeof e===t,{isArray:Mo}=Array,Qa=ud("undefined");function NM(t){return t!==null&&!Qa(t)&&t.constructor!==null&&!Qa(t.constructor)&&nn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const AS=zn("ArrayBuffer");function TM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&AS(t.buffer),e}const PM=ud("string"),nn=ud("function"),jS=ud("number"),dd=t=>t!==null&&typeof t=="object",AM=t=>t===!0||t===!1,$c=t=>{if(cd(t)!=="object")return!1;const e=vg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jM=zn("Date"),MM=zn("File"),RM=zn("Blob"),IM=zn("FileList"),OM=t=>dd(t)&&nn(t.pipe),LM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||nn(t.append)&&((e=cd(t))==="formdata"||e==="object"&&nn(t.toString)&&t.toString()==="[object FormData]"))},$M=zn("URLSearchParams"),[DM,zM,FM,BM]=["ReadableStream","Request","Response","Headers"].map(zn),VM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _l(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Mo(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function MS(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RS=t=>!Qa(t)&&t!==Vi;function kp(){const{caseless:t}=RS(this)&&this||{},e={},n=(r,i)=>{const s=t&&MS(e,i)||i;$c(e[s])&&$c(r)?e[s]=kp(e[s],r):$c(r)?e[s]=kp({},r):Mo(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&_l(arguments[r],n);return e}const UM=(t,e,n,{allOwnKeys:r}={})=>(_l(e,(i,s)=>{n&&nn(i)?t[s]=PS(i,n):t[s]=i},{allOwnKeys:r}),t),HM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),WM=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},qM=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&vg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},KM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},YM=t=>{if(!t)return null;if(Mo(t))return t;let e=t.length;if(!jS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},GM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&vg(Uint8Array)),ZM=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},XM=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},QM=zn("HTMLFormElement"),JM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),fx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),eR=zn("RegExp"),IS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};_l(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},tR=t=>{IS(t,(e,n)=>{if(nn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(nn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nR=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Mo(t)?r(t):r(String(t).split(e)),n},rR=()=>{},iR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function sR(t){return!!(t&&nn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const oR=t=>{const e=new Array(10),n=(r,i)=>{if(dd(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Mo(r)?[]:{};return _l(r,(o,a)=>{const l=n(o,i+1);!Qa(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},aR=zn("AsyncFunction"),lR=t=>t&&(dd(t)||nn(t))&&nn(t.then)&&nn(t.catch),OS=((t,e)=>t?setImmediate:e?((n,r)=>(Vi.addEventListener("message",({source:i,data:s})=>{i===Vi&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Vi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",nn(Vi.postMessage)),cR=typeof queueMicrotask<"u"?queueMicrotask.bind(Vi):typeof process<"u"&&process.nextTick||OS,V={isArray:Mo,isArrayBuffer:AS,isBuffer:NM,isFormData:LM,isArrayBufferView:TM,isString:PM,isNumber:jS,isBoolean:AM,isObject:dd,isPlainObject:$c,isReadableStream:DM,isRequest:zM,isResponse:FM,isHeaders:BM,isUndefined:Qa,isDate:jM,isFile:MM,isBlob:RM,isRegExp:eR,isFunction:nn,isStream:OM,isURLSearchParams:$M,isTypedArray:GM,isFileList:IM,forEach:_l,merge:kp,extend:UM,trim:VM,stripBOM:HM,inherits:WM,toFlatObject:qM,kindOf:cd,kindOfTest:zn,endsWith:KM,toArray:YM,forEachEntry:ZM,matchAll:XM,isHTMLForm:QM,hasOwnProperty:fx,hasOwnProp:fx,reduceDescriptors:IS,freezeMethods:tR,toObjectSet:nR,toCamelCase:JM,noop:rR,toFiniteNumber:iR,findKey:MS,global:Vi,isContextDefined:RS,isSpecCompliantForm:sR,toJSONObject:oR,isAsyncFn:aR,isThenable:lR,setImmediate:OS,asap:cR};function ve(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}V.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const LS=ve.prototype,$S={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$S[t]={value:t}});Object.defineProperties(ve,$S);Object.defineProperty(LS,"isAxiosError",{value:!0});ve.from=(t,e,n,r,i,s)=>{const o=Object.create(LS);return V.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ve.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const uR=null;function Cp(t){return V.isPlainObject(t)||V.isArray(t)}function DS(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function px(t,e,n){return t?t.concat(e).map(function(i,s){return i=DS(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function dR(t){return V.isArray(t)&&!t.some(Cp)}const hR=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function hd(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,w){return!V.isUndefined(w[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(V.isDate(g))return g.toISOString();if(!l&&V.isBlob(g))throw new ve("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(g)||V.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,w){let v=g;if(g&&!w&&typeof g=="object"){if(V.endsWith(m,"{}"))m=r?m:m.slice(0,-2),g=JSON.stringify(g);else if(V.isArray(g)&&dR(g)||(V.isFileList(g)||V.endsWith(m,"[]"))&&(v=V.toArray(g)))return m=DS(m),v.forEach(function(b,S){!(V.isUndefined(b)||b===null)&&e.append(o===!0?px([m],S,s):o===null?m:m+"[]",c(b))}),!1}return Cp(g)?!0:(e.append(px(w,m,s),c(g)),!1)}const h=[],f=Object.assign(hR,{defaultVisitor:u,convertValue:c,isVisitable:Cp});function p(g,m){if(!V.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(g),V.forEach(g,function(v,x){(!(V.isUndefined(v)||v===null)&&i.call(e,v,V.isString(x)?x.trim():x,m,f))===!0&&p(v,m?m.concat(x):[x])}),h.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return p(t),e}function mx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function yg(t,e){this._pairs=[],t&&hd(t,this,e)}const zS=yg.prototype;zS.append=function(e,n){this._pairs.push([e,n])};zS.toString=function(e){const n=e?function(r){return e.call(this,r,mx)}:mx;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function fR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function FS(t,e,n){if(!e)return t;const r=n&&n.encode||fR;V.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=V.isURLSearchParams(e)?e.toString():new yg(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class gx{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(r){r!==null&&e(r)})}}const BS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pR=typeof URLSearchParams<"u"?URLSearchParams:yg,mR=typeof FormData<"u"?FormData:null,gR=typeof Blob<"u"?Blob:null,vR={isBrowser:!0,classes:{URLSearchParams:pR,FormData:mR,Blob:gR},protocols:["http","https","file","blob","url","data"]},xg=typeof window<"u"&&typeof document<"u",Ep=typeof navigator=="object"&&navigator||void 0,yR=xg&&(!Ep||["ReactNative","NativeScript","NS"].indexOf(Ep.product)<0),xR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wR=xg&&window.location.href||"http://localhost",bR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xg,hasStandardBrowserEnv:yR,hasStandardBrowserWebWorkerEnv:xR,navigator:Ep,origin:wR},Symbol.toStringTag,{value:"Module"})),bt={...bR,...vR};function SR(t,e){return hd(t,new bt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return bt.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function kR(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function CR(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function VS(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&V.isArray(i)?i.length:o,l?(V.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!V.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&V.isArray(i[o])&&(i[o]=CR(i[o])),!a)}if(V.isFormData(t)&&V.isFunction(t.entries)){const n={};return V.forEachEntry(t,(r,i)=>{e(kR(r),i,n,0)}),n}return null}function ER(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Nl={transitional:BS,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=V.isObject(e);if(s&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return i?JSON.stringify(VS(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return SR(e,this.formSerializer).toString();if((a=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hd(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),ER(e)):e}],transformResponse:[function(e){const n=this.transitional||Nl.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ve.from(a,ve.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bt.classes.FormData,Blob:bt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{Nl.headers[t]={}});const _R=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NR=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&_R[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},vx=Symbol("internals");function Xo(t){return t&&String(t).trim().toLowerCase()}function Dc(t){return t===!1||t==null?t:V.isArray(t)?t.map(Dc):String(t)}function TR(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const PR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ah(t,e,n,r,i){if(V.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!V.isString(e)){if(V.isString(r))return e.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(e)}}function AR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function jR(t,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Vt=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=Xo(l);if(!u)throw new Error("header name must be a non-empty string");const h=V.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Dc(a))}const o=(a,l)=>V.forEach(a,(c,u)=>s(c,u,l));if(V.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(V.isString(e)&&(e=e.trim())&&!PR(e))o(NR(e),n);else if(V.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Xo(e),e){const r=V.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return TR(i);if(V.isFunction(n))return n.call(this,i,r);if(V.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Xo(e),e){const r=V.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ah(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Xo(o),o){const a=V.findKey(r,o);a&&(!n||Ah(r,r[a],a,n))&&(delete r[a],i=!0)}}return V.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Ah(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return V.forEach(this,(i,s)=>{const o=V.findKey(r,s);if(o){n[o]=Dc(i),delete n[s];return}const a=e?AR(s):String(s).trim();a!==s&&delete n[s],n[a]=Dc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[vx]=this[vx]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Xo(o);r[a]||(jR(i,o),r[a]=!0)}return V.isArray(e)?e.forEach(s):s(e),this}};Vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Vt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});V.freezeMethods(Vt);function jh(t,e){const n=this||Nl,r=e||n,i=Vt.from(r.headers);let s=r.data;return V.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function US(t){return!!(t&&t.__CANCEL__)}function Ro(t,e,n){ve.call(this,t??"canceled",ve.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(Ro,ve,{__CANCEL__:!0});function HS(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function MR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function RR(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function IR(t,e){let n=0,r=1e3/e,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const xu=(t,e,n=3)=>{let r=0;const i=RR(50,250);return IR(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},yx=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},xx=t=>(...e)=>V.asap(()=>t(...e)),OR=bt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,bt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(bt.origin),bt.navigator&&/(msie|trident)/i.test(bt.navigator.userAgent)):()=>!0,LR=bt.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];V.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),V.isString(r)&&o.push("path="+r),V.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $R(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DR(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function WS(t,e,n){let r=!$R(e);return t&&(r||n==!1)?DR(t,e):e}const wx=t=>t instanceof Vt?{...t}:t;function es(t,e){e=e||{};const n={};function r(c,u,h,f){return V.isPlainObject(c)&&V.isPlainObject(u)?V.merge.call({caseless:f},c,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function i(c,u,h,f){if(V.isUndefined(u)){if(!V.isUndefined(c))return r(void 0,c,h,f)}else return r(c,u,h,f)}function s(c,u){if(!V.isUndefined(u))return r(void 0,u)}function o(c,u){if(V.isUndefined(u)){if(!V.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>i(wx(c),wx(u),h,!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||i,f=h(t[u],e[u],u);V.isUndefined(f)&&h!==a||(n[u]=f)}),n}const qS=t=>{const e=es({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Vt.from(o),e.url=FS(WS(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(V.isFormData(n)){if(bt.hasStandardBrowserEnv||bt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(bt.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(e)),r||r!==!1&&OR(e.url))){const c=i&&s&&LR.read(s);c&&o.set(i,c)}return e},zR=typeof XMLHttpRequest<"u",FR=zR&&function(t){return new Promise(function(n,r){const i=qS(t);let s=i.data;const o=Vt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,h,f,p,g;function m(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function v(){if(!w)return;const b=Vt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:b,config:t,request:w};HS(function(_){n(_),m()},function(_){r(_),m()},k),w=null}"onloadend"in w?w.onloadend=v:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(v)},w.onabort=function(){w&&(r(new ve("Request aborted",ve.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new ve("Network Error",ve.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||BS;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new ve(S,k.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,t,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&V.forEach(o.toJSON(),function(S,k){w.setRequestHeader(k,S)}),V.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),c&&([f,g]=xu(c,!0),w.addEventListener("progress",f)),l&&w.upload&&([h,p]=xu(l),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=b=>{w&&(r(!b||b.type?new Ro(null,t,w):b),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const x=MR(i.url);if(x&&bt.protocols.indexOf(x)===-1){r(new ve("Unsupported protocol "+x+":",ve.ERR_BAD_REQUEST,t));return}w.send(s||null)})},BR=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof ve?u:new Ro(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new ve(`timeout ${e} of ms exceeded`,ve.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>V.asap(a),l}},VR=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},UR=async function*(t,e){for await(const n of HR(t))yield*VR(n,e)},HR=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},bx=(t,e,n,r)=>{const i=UR(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let h=u.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},fd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",KS=fd&&typeof ReadableStream=="function",WR=fd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),YS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},qR=KS&&YS(()=>{let t=!1;const e=new Request(bt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Sx=64*1024,_p=KS&&YS(()=>V.isReadableStream(new Response("").body)),wu={stream:_p&&(t=>t.body)};fd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wu[e]&&(wu[e]=V.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ve(`Response type '${e}' is not supported`,ve.ERR_NOT_SUPPORT,r)})})})(new Response);const KR=async t=>{if(t==null)return 0;if(V.isBlob(t))return t.size;if(V.isSpecCompliantForm(t))return(await new Request(bt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(V.isArrayBufferView(t)||V.isArrayBuffer(t))return t.byteLength;if(V.isURLSearchParams(t)&&(t=t+""),V.isString(t))return(await WR(t)).byteLength},YR=async(t,e)=>{const n=V.toFiniteNumber(t.getContentLength());return n??KR(e)},GR=fd&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=qS(t);c=c?(c+"").toLowerCase():"text";let p=BR([i,s&&s.toAbortSignal()],o),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let w;try{if(l&&qR&&n!=="get"&&n!=="head"&&(w=await YR(u,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(V.isFormData(r)&&(C=k.headers.get("content-type"))&&u.setContentType(C),k.body){const[_,T]=yx(w,xu(xx(l)));r=bx(k.body,Sx,_,T)}}V.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;g=new Request(e,{...f,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?h:void 0});let x=await fetch(g);const b=_p&&(c==="stream"||c==="response");if(_p&&(a||b&&m)){const k={};["status","statusText","headers"].forEach(j=>{k[j]=x[j]});const C=V.toFiniteNumber(x.headers.get("content-length")),[_,T]=a&&yx(C,xu(xx(a),!0))||[];x=new Response(bx(x.body,Sx,_,()=>{T&&T(),m&&m()}),k)}c=c||"text";let S=await wu[V.findKey(wu,c)||"text"](x,t);return!b&&m&&m(),await new Promise((k,C)=>{HS(k,C,{data:S,headers:Vt.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:g})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,t,g),{cause:v.cause||v}):ve.from(v,v&&v.code,t,g)}}),Np={http:uR,xhr:FR,fetch:GR};V.forEach(Np,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kx=t=>`- ${t}`,ZR=t=>V.isFunction(t)||t===null||t===!1,GS={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!ZR(n)&&(r=Np[(o=String(n)).toLowerCase()],r===void 0))throw new ve(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(kx).join(`
`):" "+kx(s[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Np};function Mh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ro(null,t)}function Cx(t){return Mh(t),t.headers=Vt.from(t.headers),t.data=jh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),GS.getAdapter(t.adapter||Nl.adapter)(t).then(function(r){return Mh(t),r.data=jh.call(t,t.transformResponse,r),r.headers=Vt.from(r.headers),r},function(r){return US(r)||(Mh(t),r&&r.response&&(r.response.data=jh.call(t,t.transformResponse,r.response),r.response.headers=Vt.from(r.response.headers))),Promise.reject(r)})}const ZS="1.8.4",pd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Ex={};pd.transitional=function(e,n,r){function i(s,o){return"[Axios v"+ZS+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ve(i(o," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!Ex[o]&&(Ex[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};pd.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function XR(t,e,n){if(typeof t!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ve("option "+s+" must be "+l,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+s,ve.ERR_BAD_OPTION)}}const zc={assertOptions:XR,validators:pd},Hn=zc.validators;let Wi=class{constructor(e){this.defaults=e,this.interceptors={request:new gx,response:new gx}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=es(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&zc.assertOptions(r,{silentJSONParsing:Hn.transitional(Hn.boolean),forcedJSONParsing:Hn.transitional(Hn.boolean),clarifyTimeoutError:Hn.transitional(Hn.boolean)},!1),i!=null&&(V.isFunction(i)?n.paramsSerializer={serialize:i}:zc.assertOptions(i,{encode:Hn.function,serialize:Hn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zc.assertOptions(n,{baseUrl:Hn.spelling("baseURL"),withXsrfToken:Hn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&V.merge(s.common,s[n.method]);s&&V.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Vt.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,h=0,f;if(!l){const g=[Cx.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(n);h<f;)u=u.then(g[h++],g[h++]);return u}f=a.length;let p=n;for(h=0;h<f;){const g=a[h++],m=a[h++];try{p=g(p)}catch(w){m.call(this,w);break}}try{u=Cx.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=es(this.defaults,e);const n=WS(e.baseURL,e.url,e.allowAbsoluteUrls);return FS(n,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){Wi.prototype[e]=function(n,r){return this.request(es(r||{},{method:e,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(es(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Wi.prototype[e]=n(),Wi.prototype[e+"Form"]=n(!0)});let QR=class XS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Ro(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new XS(function(i){e=i}),cancel:e}}};function JR(t){return function(n){return t.apply(null,n)}}function eI(t){return V.isObject(t)&&t.isAxiosError===!0}const Tp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tp).forEach(([t,e])=>{Tp[e]=t});function QS(t){const e=new Wi(t),n=PS(Wi.prototype.request,e);return V.extend(n,Wi.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return QS(es(t,i))},n}const Je=QS(Nl);Je.Axios=Wi;Je.CanceledError=Ro;Je.CancelToken=QR;Je.isCancel=US;Je.VERSION=ZS;Je.toFormData=hd;Je.AxiosError=ve;Je.Cancel=Je.CanceledError;Je.all=function(e){return Promise.all(e)};Je.spread=JR;Je.isAxiosError=eI;Je.mergeConfig=es;Je.AxiosHeaders=Vt;Je.formToJSON=t=>VS(V.isHTMLForm(t)?new FormData(t):t);Je.getAdapter=GS.getAdapter;Je.HttpStatusCode=Tp;Je.default=Je;const{Axios:X9,AxiosError:Q9,CanceledError:J9,isCancel:e8,CancelToken:t8,VERSION:n8,all:r8,Cancel:i8,isAxiosError:s8,spread:o8,toFormData:a8,AxiosHeaders:l8,HttpStatusCode:c8,formToJSON:u8,getAdapter:d8,mergeConfig:h8}=Je,tI={};function vs(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Ja=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Ja(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ja(r)(n)}}}},nI=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,v)=>({...v,...w}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...w)},r,i);const u=Ja(s.serialize),h=()=>{const w=s.partialize({...r()});let v;const x=u({state:w,version:s.version}).then(b=>c.setItem(s.name,b)).catch(b=>{v=b});if(v)throw v;return x},f=i.setState;i.setState=(w,v)=>{f(w,v),h()};const p=t((...w)=>{n(...w),h()},r,i);let g;const m=()=>{var w;if(!c)return;o=!1,a.forEach(x=>x(r()));const v=((w=s.onRehydrateStorage)==null?void 0:w.call(s,r()))||void 0;return Ja(c.getItem.bind(c))(s.name).then(x=>{if(x)return s.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return s.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var b;return g=s.merge(x,(b=r())!=null?b:p),n(g,!0),h()}).then(()=>{v==null||v(g,void 0),o=!0,l.forEach(x=>x(g))}).catch(x=>{v==null||v(void 0,x)})};return i.persist={setOptions:w=>{s={...s,...w},w.getStorage&&(c=w.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},m(),g||p},rI=(t,e)=>(n,r,i)=>{let s={storage:vs(()=>localStorage),partialize:m=>m,version:0,merge:(m,w)=>({...w,...m}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=s.partialize({...r()});return c.setItem(s.name,{state:m,version:s.version})},h=i.setState;i.setState=(m,w)=>{h(m,w),u()};const f=t((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>f;let p;const g=()=>{var m,w;if(!c)return;o=!1,a.forEach(x=>{var b;return x((b=r())!=null?b:f)});const v=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(m=r())!=null?m:f))||void 0;return Ja(c.getItem.bind(c))(s.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==s.version){if(s.migrate)return[!0,s.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var b;const[S,k]=x;if(p=s.merge(k,(b=r())!=null?b:f),n(p,!0),S)return u()}).then(()=>{v==null||v(p,void 0),p=r(),o=!0,l.forEach(x=>x(p))}).catch(x=>{v==null||v(void 0,x)})};return i.persist={setOptions:m=>{s={...s,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},s.skipHydration||g(),p||f},iI=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((tI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),nI(t,e)):rI(t,e),Io=iI;class la extends Error{}la.prototype.name="InvalidTokenError";function sI(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function oI(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return sI(e)}catch{return atob(e)}}function aI(t,e){if(typeof t!="string")throw new la("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,r=t.split(".")[n];if(typeof r!="string")throw new la(`Invalid token specified: missing part #${n+1}`);let i;try{i=oI(r)}catch(s){throw new la(`Invalid token specified: invalid base64 for part #${n+1} (${s.message})`)}try{return JSON.parse(i)}catch(s){throw new la(`Invalid token specified: invalid json for part #${n+1} (${s.message})`)}}const Er=ur()(Io(t=>({isAdminAuthenticated:!1,isLoading:!0,login:()=>{console.log("[AdminAuthStore] Setting isAdminAuthenticated to true."),t({isAdminAuthenticated:!0,isLoading:!1})},logout:()=>{console.log("[AdminAuthStore] Setting isAdminAuthenticated to false."),t({isAdminAuthenticated:!1,isLoading:!1})}}),{name:"admin-auth-storage",storage:vs(()=>sessionStorage),onRehydrateStorage:()=>t=>{console.log("[AdminAuthStore] onRehydrateStorage: Hydration complete."),t?(t.isLoading=!1,console.log(`[AdminAuthStore] onRehydrateStorage: State initialized. isLoading: ${t.isLoading}, isAdminAuthenticated: ${t.isAdminAuthenticated}`)):(console.warn("[AdminAuthStore] onRehydrateStorage: Rehydrated state is null."),Er.setState({isLoading:!1,isAdminAuthenticated:!1}))},partialize:t=>({isAdminAuthenticated:t.isAdminAuthenticated})})),JS=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},ek=(t,e)=>{var r,i;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},lI=async()=>{var e;const t="Failed to fetch accounts.";console.log("[API/Portfolio] Fetching broker accounts...");try{const n=await et.get("/api/BrokerAccountUser/GetMyBrokerAccounts");console.log("[API/Portfolio] Fetched accounts raw response data:",n==null?void 0:n.data);const r=JS(n,t);return r.isSuccess&&r.resultObject===null&&(console.warn("[API/Portfolio] GetMyBrokerAccounts returned success but resultObject is null. Normalizing to an empty array []."),r.resultObject=[]),console.log("[API/Portfolio] Processed accounts:",r.isSuccess?`Success, ${((e=r.resultObject)==null?void 0:e.length)??0} accounts`:`Error: ${r.errorMessage}`),r}catch(n){return ek(n,t)}},cI=async()=>{const t="Failed to create account.";console.log("[API/Portfolio] Attempting to create initial broker account...");try{const e=await et.post("/api/BrokerAccountUser/CreateMyInitialBrokerAccount");return console.log("[API/Portfolio] Create account raw response data:",e==null?void 0:e.data),JS(e,t)}catch(e){return ek(e,t)}},ir=ur((t,e)=>({accounts:null,isLoading:!1,error:null,isFetching:!1,hasAttemptedFetch:!1,fetchPortfolio:async(n=!1)=>{if(!n&&e().isFetching){console.log("[PortfolioStore] Fetch already in progress. Skipping.");return}console.log(`[PortfolioStore] Starting fetchPortfolio (force=${n})...`),t({isLoading:!0,error:null,isFetching:!0,hasAttemptedFetch:!0});try{const r=await lI();if(console.log("[PortfolioStore] API response received:",r==null?void 0:r.isSuccess),!r||typeof r.isSuccess!="boolean")throw new Error("Invalid response structure from getMyBrokerAccounts API.");if(r.isSuccess){const i=r.resultObject||[];t({accounts:i,isLoading:!1,error:null,isFetching:!1}),console.log(`[PortfolioStore] Accounts updated successfully: ${i.length} accounts.`)}else console.error("[PortfolioStore] Fetch failed:",r.errorMessage),t({error:r.errorMessage||"Failed to load portfolio data.",isLoading:!1,isFetching:!1})}catch(r){console.error("[PortfolioStore] Fetch exception:",r),t({error:r.message||"Unexpected error fetching portfolio.",isLoading:!1,isFetching:!1})}}}));var _e;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(_e||(_e={}));var Pp;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Pp||(Pp={}));const ne=_e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),br=t=>{switch(typeof t){case"undefined":return ne.undefined;case"string":return ne.string;case"number":return isNaN(t)?ne.nan:ne.number;case"boolean":return ne.boolean;case"function":return ne.function;case"bigint":return ne.bigint;case"symbol":return ne.symbol;case"object":return Array.isArray(t)?ne.array:t===null?ne.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ne.promise:typeof Map<"u"&&t instanceof Map?ne.map:typeof Set<"u"&&t instanceof Set?ne.set:typeof Date<"u"&&t instanceof Date?ne.date:ne.object;default:return ne.unknown}},K=_e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),uI=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class rn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof rn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}rn.create=t=>new rn(t);const bo=(t,e)=>{let n;switch(t.code){case K.invalid_type:t.received===ne.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case K.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,_e.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:n=`Unrecognized key(s) in object: ${_e.joinValues(t.keys,", ")}`;break;case K.invalid_union:n="Invalid input";break;case K.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${_e.joinValues(t.options)}`;break;case K.invalid_enum_value:n=`Invalid enum value. Expected ${_e.joinValues(t.options)}, received '${t.received}'`;break;case K.invalid_arguments:n="Invalid function arguments";break;case K.invalid_return_type:n="Invalid function return type";break;case K.invalid_date:n="Invalid date";break;case K.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:_e.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case K.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case K.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case K.custom:n="Invalid input";break;case K.invalid_intersection_types:n="Intersection results could not be merged";break;case K.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case K.not_finite:n="Number must be finite";break;default:n=e.defaultError,_e.assertNever(t)}return{message:n}};let tk=bo;function dI(t){tk=t}function bu(){return tk}const Su=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},hI=[];function ee(t,e){const n=bu(),r=Su({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===bo?void 0:bo].filter(i=>!!i)});t.common.issues.push(r)}class Ct{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return de;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Ct.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return de;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const de=Object.freeze({status:"aborted"}),Us=t=>({status:"dirty",value:t}),Pt=t=>({status:"valid",value:t}),Ap=t=>t.status==="aborted",jp=t=>t.status==="dirty",ts=t=>t.status==="valid",el=t=>typeof Promise<"u"&&t instanceof Promise;function ku(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function nk(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));var ca,ua;class sr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _x=(t,e)=>{if(ts(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new rn(t.common.issues);return this._error=n,this._error}}};function ye(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class we{get description(){return this._def.description}_getType(e){return br(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:br(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ct,ctx:{common:e.parent.common,data:e.data,parsedType:br(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(el(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:br(e)},s=this._parseSync({data:e,path:i.path,parent:i});return _x(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:br(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return ts(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>ts(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:br(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(el(i)?i:Promise.resolve(i));return _x(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:K.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new On({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return er.create(this,this._def)}nullable(){return bi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mn.create(this)}promise(){return ko.create(this,this._def)}or(e){return il.create([this,e],this._def)}and(e){return sl.create(this,e,this._def)}transform(e){return new On({...ye(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ul({...ye(this._def),innerType:this,defaultValue:n,typeName:ce.ZodDefault})}brand(){return new wg({typeName:ce.ZodBranded,type:this,...ye(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new dl({...ye(this._def),innerType:this,catchValue:n,typeName:ce.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Tl.create(this,e)}readonly(){return hl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fI=/^c[^\s-]{8,}$/i,pI=/^[0-9a-z]+$/,mI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vI=/^[a-z0-9_-]{21}$/i,yI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rh;const SI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,CI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,EI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_I=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,NI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",TI=new RegExp(`^${rk}$`);function ik(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function PI(t){return new RegExp(`^${ik(t)}$`)}function sk(t){let e=`${rk}T${ik(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function AI(t,e){return!!((e==="v4"||!e)&&SI.test(t)||(e==="v6"||!e)&&CI.test(t))}function jI(t,e){if(!yI.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function MI(t,e){return!!((e==="v4"||!e)&&kI.test(t)||(e==="v6"||!e)&&EI.test(t))}class Pn extends we{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ne.string){const s=this._getOrReturnCtx(e);return ee(s,{code:K.invalid_type,expected:ne.string,received:s.parsedType}),de}const r=new Ct;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:K.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:K.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?ee(i,{code:K.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ee(i,{code:K.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")wI.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"email",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Rh||(Rh=new RegExp(bI,"u")),Rh.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"emoji",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")gI.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"uuid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")vI.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"nanoid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")fI.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"cuid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")pI.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"cuid2",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")mI.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"ulid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ee(i,{validation:"url",code:K.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"regex",code:K.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ee(i,{code:K.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ee(i,{code:K.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ee(i,{code:K.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?sk(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{code:K.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?TI.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{code:K.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?PI(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{code:K.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?xI.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"duration",code:K.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?AI(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"ip",code:K.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?jI(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"jwt",code:K.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?MI(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"cidr",code:K.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?_I.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"base64",code:K.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?NI.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"base64url",code:K.invalid_string,message:s.message}),r.dirty()):_e.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:K.invalid_string,...se.errToObj(r)})}_addCheck(e){return new Pn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...se.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...se.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...se.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...se.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...se.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...se.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...se.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...se.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...se.errToObj(n)})}nonempty(e){return this.min(1,se.errToObj(e))}trim(){return new Pn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Pn.create=t=>{var e;return new Pn({checks:[],typeName:ce.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ye(t)})};function RI(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class yi extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ne.number){const s=this._getOrReturnCtx(e);return ee(s,{code:K.invalid_type,expected:ne.number,received:s.parsedType}),de}let r;const i=new Ct;for(const s of this._def.checks)s.kind==="int"?_e.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ee(r,{code:K.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:K.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:K.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?RI(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ee(r,{code:K.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ee(r,{code:K.not_finite,message:s.message}),i.dirty()):_e.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,i){return new yi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new yi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&_e.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}yi.create=t=>new yi({checks:[],typeName:ce.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ye(t)});class xi extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ne.bigint)return this._getInvalidInput(e);let r;const i=new Ct;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:K.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:K.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:K.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):_e.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ee(n,{code:K.invalid_type,expected:ne.bigint,received:n.parsedType}),de}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,i){return new xi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(i)}]})}_addCheck(e){return new xi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xi.create=t=>{var e;return new xi({checks:[],typeName:ce.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ye(t)})};class tl extends we{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ne.boolean){const r=this._getOrReturnCtx(e);return ee(r,{code:K.invalid_type,expected:ne.boolean,received:r.parsedType}),de}return Pt(e.data)}}tl.create=t=>new tl({typeName:ce.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ye(t)});class ns extends we{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ne.date){const s=this._getOrReturnCtx(e);return ee(s,{code:K.invalid_type,expected:ne.date,received:s.parsedType}),de}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ee(s,{code:K.invalid_date}),de}const r=new Ct;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:K.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:K.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):_e.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ns({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ns.create=t=>new ns({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ce.ZodDate,...ye(t)});class Cu extends we{_parse(e){if(this._getType(e)!==ne.symbol){const r=this._getOrReturnCtx(e);return ee(r,{code:K.invalid_type,expected:ne.symbol,received:r.parsedType}),de}return Pt(e.data)}}Cu.create=t=>new Cu({typeName:ce.ZodSymbol,...ye(t)});class nl extends we{_parse(e){if(this._getType(e)!==ne.undefined){const r=this._getOrReturnCtx(e);return ee(r,{code:K.invalid_type,expected:ne.undefined,received:r.parsedType}),de}return Pt(e.data)}}nl.create=t=>new nl({typeName:ce.ZodUndefined,...ye(t)});class rl extends we{_parse(e){if(this._getType(e)!==ne.null){const r=this._getOrReturnCtx(e);return ee(r,{code:K.invalid_type,expected:ne.null,received:r.parsedType}),de}return Pt(e.data)}}rl.create=t=>new rl({typeName:ce.ZodNull,...ye(t)});class So extends we{constructor(){super(...arguments),this._any=!0}_parse(e){return Pt(e.data)}}So.create=t=>new So({typeName:ce.ZodAny,...ye(t)});class qi extends we{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Pt(e.data)}}qi.create=t=>new qi({typeName:ce.ZodUnknown,...ye(t)});class Rr extends we{_parse(e){const n=this._getOrReturnCtx(e);return ee(n,{code:K.invalid_type,expected:ne.never,received:n.parsedType}),de}}Rr.create=t=>new Rr({typeName:ce.ZodNever,...ye(t)});class Eu extends we{_parse(e){if(this._getType(e)!==ne.undefined){const r=this._getOrReturnCtx(e);return ee(r,{code:K.invalid_type,expected:ne.void,received:r.parsedType}),de}return Pt(e.data)}}Eu.create=t=>new Eu({typeName:ce.ZodVoid,...ye(t)});class Mn extends we{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ne.array)return ee(n,{code:K.invalid_type,expected:ne.array,received:n.parsedType}),de;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(ee(n,{code:o?K.too_big:K.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ee(n,{code:K.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ee(n,{code:K.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new sr(n,o,n.path,a)))).then(o=>Ct.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new sr(n,o,n.path,a)));return Ct.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Mn({...this._def,minLength:{value:e,message:se.toString(n)}})}max(e,n){return new Mn({...this._def,maxLength:{value:e,message:se.toString(n)}})}length(e,n){return new Mn({...this._def,exactLength:{value:e,message:se.toString(n)}})}nonempty(e){return this.min(1,e)}}Mn.create=(t,e)=>new Mn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...ye(e)});function Ts(t){if(t instanceof He){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=er.create(Ts(r))}return new He({...t._def,shape:()=>e})}else return t instanceof Mn?new Mn({...t._def,type:Ts(t.element)}):t instanceof er?er.create(Ts(t.unwrap())):t instanceof bi?bi.create(Ts(t.unwrap())):t instanceof or?or.create(t.items.map(e=>Ts(e))):t}class He extends we{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=_e.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ne.object){const c=this._getOrReturnCtx(e);return ee(c,{code:K.invalid_type,expected:ne.object,received:c.parsedType}),de}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Rr&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new sr(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Rr){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(ee(i,{code:K.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new sr(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,f=await u.value;c.push({key:h,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>Ct.mergeObjectSync(r,c)):Ct.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new He({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=se.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new He({...this._def,unknownKeys:"strip"})}passthrough(){return new He({...this._def,unknownKeys:"passthrough"})}extend(e){return new He({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new He({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ce.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new He({...this._def,catchall:e})}pick(e){const n={};return _e.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new He({...this._def,shape:()=>n})}omit(e){const n={};return _e.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new He({...this._def,shape:()=>n})}deepPartial(){return Ts(this)}partial(e){const n={};return _e.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new He({...this._def,shape:()=>n})}required(e){const n={};return _e.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof er;)s=s._def.innerType;n[r]=s}}),new He({...this._def,shape:()=>n})}keyof(){return ok(_e.objectKeys(this.shape))}}He.create=(t,e)=>new He({shape:()=>t,unknownKeys:"strip",catchall:Rr.create(),typeName:ce.ZodObject,...ye(e)});He.strictCreate=(t,e)=>new He({shape:()=>t,unknownKeys:"strict",catchall:Rr.create(),typeName:ce.ZodObject,...ye(e)});He.lazycreate=(t,e)=>new He({shape:t,unknownKeys:"strip",catchall:Rr.create(),typeName:ce.ZodObject,...ye(e)});class il extends we{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new rn(a.ctx.common.issues));return ee(n,{code:K.invalid_union,unionErrors:o}),de}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new rn(l));return ee(n,{code:K.invalid_union,unionErrors:a}),de}}get options(){return this._def.options}}il.create=(t,e)=>new il({options:t,typeName:ce.ZodUnion,...ye(e)});const vr=t=>t instanceof al?vr(t.schema):t instanceof On?vr(t.innerType()):t instanceof ll?[t.value]:t instanceof wi?t.options:t instanceof cl?_e.objectValues(t.enum):t instanceof ul?vr(t._def.innerType):t instanceof nl?[void 0]:t instanceof rl?[null]:t instanceof er?[void 0,...vr(t.unwrap())]:t instanceof bi?[null,...vr(t.unwrap())]:t instanceof wg||t instanceof hl?vr(t.unwrap()):t instanceof dl?vr(t._def.innerType):[];class md extends we{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ne.object)return ee(n,{code:K.invalid_type,expected:ne.object,received:n.parsedType}),de;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(ee(n,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),de)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=vr(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new md({typeName:ce.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...ye(r)})}}function Mp(t,e){const n=br(t),r=br(e);if(t===e)return{valid:!0,data:t};if(n===ne.object&&r===ne.object){const i=_e.objectKeys(e),s=_e.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=Mp(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ne.array&&r===ne.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=Mp(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ne.date&&r===ne.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class sl extends we{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Ap(s)||Ap(o))return de;const a=Mp(s.value,o.value);return a.valid?((jp(s)||jp(o))&&n.dirty(),{status:n.value,value:a.data}):(ee(r,{code:K.invalid_intersection_types}),de)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}sl.create=(t,e,n)=>new sl({left:t,right:e,typeName:ce.ZodIntersection,...ye(n)});class or extends we{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.array)return ee(r,{code:K.invalid_type,expected:ne.array,received:r.parsedType}),de;if(r.data.length<this._def.items.length)return ee(r,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),de;!this._def.rest&&r.data.length>this._def.items.length&&(ee(r,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new sr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Ct.mergeArray(n,o)):Ct.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new or({...this._def,rest:e})}}or.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new or({items:t,typeName:ce.ZodTuple,rest:null,...ye(e)})};class ol extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.object)return ee(r,{code:K.invalid_type,expected:ne.object,received:r.parsedType}),de;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new sr(r,a,r.path,a)),value:o._parse(new sr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ct.mergeObjectAsync(n,i):Ct.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof we?new ol({keyType:e,valueType:n,typeName:ce.ZodRecord,...ye(r)}):new ol({keyType:Pn.create(),valueType:e,typeName:ce.ZodRecord,...ye(n)})}}class _u extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.map)return ee(r,{code:K.invalid_type,expected:ne.map,received:r.parsedType}),de;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new sr(r,a,r.path,[c,"key"])),value:s._parse(new sr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return de;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return de;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}_u.create=(t,e,n)=>new _u({valueType:e,keyType:t,typeName:ce.ZodMap,...ye(n)});class rs extends we{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ne.set)return ee(r,{code:K.invalid_type,expected:ne.set,received:r.parsedType}),de;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ee(r,{code:K.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ee(r,{code:K.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return de;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new sr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new rs({...this._def,minSize:{value:e,message:se.toString(n)}})}max(e,n){return new rs({...this._def,maxSize:{value:e,message:se.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}rs.create=(t,e)=>new rs({valueType:t,minSize:null,maxSize:null,typeName:ce.ZodSet,...ye(e)});class Qs extends we{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ne.function)return ee(n,{code:K.invalid_type,expected:ne.function,received:n.parsedType}),de;function r(a,l){return Su({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,bu(),bo].filter(c=>!!c),issueData:{code:K.invalid_arguments,argumentsError:l}})}function i(a,l){return Su({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,bu(),bo].filter(c=>!!c),issueData:{code:K.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ko){const a=this;return Pt(async function(...l){const c=new rn([]),u=await a._def.args.parseAsync(l,s).catch(p=>{throw c.addIssue(r(l,p)),c}),h=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(h,s).catch(p=>{throw c.addIssue(i(h,p)),c})})}else{const a=this;return Pt(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new rn([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(u,s);if(!h.success)throw new rn([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qs({...this._def,args:or.create(e).rest(qi.create())})}returns(e){return new Qs({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Qs({args:e||or.create([]).rest(qi.create()),returns:n||qi.create(),typeName:ce.ZodFunction,...ye(r)})}}class al extends we{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}al.create=(t,e)=>new al({getter:t,typeName:ce.ZodLazy,...ye(e)});class ll extends we{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ee(n,{received:n.data,code:K.invalid_literal,expected:this._def.value}),de}return{status:"valid",value:e.data}}get value(){return this._def.value}}ll.create=(t,e)=>new ll({value:t,typeName:ce.ZodLiteral,...ye(e)});function ok(t,e){return new wi({values:t,typeName:ce.ZodEnum,...ye(e)})}class wi extends we{constructor(){super(...arguments),ca.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ee(n,{expected:_e.joinValues(r),received:n.parsedType,code:K.invalid_type}),de}if(ku(this,ca)||nk(this,ca,new Set(this._def.values)),!ku(this,ca).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ee(n,{received:n.data,code:K.invalid_enum_value,options:r}),de}return Pt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return wi.create(e,{...this._def,...n})}exclude(e,n=this._def){return wi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ca=new WeakMap;wi.create=ok;class cl extends we{constructor(){super(...arguments),ua.set(this,void 0)}_parse(e){const n=_e.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ne.string&&r.parsedType!==ne.number){const i=_e.objectValues(n);return ee(r,{expected:_e.joinValues(i),received:r.parsedType,code:K.invalid_type}),de}if(ku(this,ua)||nk(this,ua,new Set(_e.getValidEnumValues(this._def.values))),!ku(this,ua).has(e.data)){const i=_e.objectValues(n);return ee(r,{received:r.data,code:K.invalid_enum_value,options:i}),de}return Pt(e.data)}get enum(){return this._def.values}}ua=new WeakMap;cl.create=(t,e)=>new cl({values:t,typeName:ce.ZodNativeEnum,...ye(e)});class ko extends we{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ne.promise&&n.common.async===!1)return ee(n,{code:K.invalid_type,expected:ne.promise,received:n.parsedType}),de;const r=n.parsedType===ne.promise?n.data:Promise.resolve(n.data);return Pt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ko.create=(t,e)=>new ko({type:t,typeName:ce.ZodPromise,...ye(e)});class On extends we{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{ee(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return de;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?de:l.status==="dirty"||n.value==="dirty"?Us(l.value):l});{if(n.value==="aborted")return de;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?de:a.status==="dirty"||n.value==="dirty"?Us(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?de:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?de:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ts(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ts(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);_e.assertNever(i)}}On.create=(t,e,n)=>new On({schema:t,typeName:ce.ZodEffects,effect:e,...ye(n)});On.createWithPreprocess=(t,e,n)=>new On({schema:e,effect:{type:"preprocess",transform:t},typeName:ce.ZodEffects,...ye(n)});class er extends we{_parse(e){return this._getType(e)===ne.undefined?Pt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}er.create=(t,e)=>new er({innerType:t,typeName:ce.ZodOptional,...ye(e)});class bi extends we{_parse(e){return this._getType(e)===ne.null?Pt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bi.create=(t,e)=>new bi({innerType:t,typeName:ce.ZodNullable,...ye(e)});class ul extends we{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ne.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ul.create=(t,e)=>new ul({innerType:t,typeName:ce.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ye(e)});class dl extends we{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return el(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new rn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new rn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}dl.create=(t,e)=>new dl({innerType:t,typeName:ce.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ye(e)});class Nu extends we{_parse(e){if(this._getType(e)!==ne.nan){const r=this._getOrReturnCtx(e);return ee(r,{code:K.invalid_type,expected:ne.nan,received:r.parsedType}),de}return{status:"valid",value:e.data}}}Nu.create=t=>new Nu({typeName:ce.ZodNaN,...ye(t)});const II=Symbol("zod_brand");class wg extends we{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Tl extends we{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?de:s.status==="dirty"?(n.dirty(),Us(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?de:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Tl({in:e,out:n,typeName:ce.ZodPipeline})}}class hl extends we{_parse(e){const n=this._def.innerType._parse(e),r=i=>(ts(i)&&(i.value=Object.freeze(i.value)),i);return el(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}hl.create=(t,e)=>new hl({innerType:t,typeName:ce.ZodReadonly,...ye(e)});function Nx(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function ak(t,e={},n){return t?So.create().superRefine((r,i)=>{var s,o;const a=t(r);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){const h=Nx(e,r),f=(u=(c=h.fatal)!==null&&c!==void 0?c:n)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...h,fatal:f})}});if(!a){const l=Nx(e,r),c=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...l,fatal:c})}}):So.create()}const OI={object:He.lazycreate};var ce;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ce||(ce={}));const LI=(t,e={message:`Input not instance of ${t.name}`})=>ak(n=>n instanceof t,e),lk=Pn.create,ck=yi.create,$I=Nu.create,DI=xi.create,uk=tl.create,zI=ns.create,FI=Cu.create,BI=nl.create,VI=rl.create,UI=So.create,HI=qi.create,WI=Rr.create,qI=Eu.create,KI=Mn.create,YI=He.create,GI=He.strictCreate,ZI=il.create,XI=md.create,QI=sl.create,JI=or.create,eO=ol.create,tO=_u.create,nO=rs.create,rO=Qs.create,iO=al.create,sO=ll.create,oO=wi.create,aO=cl.create,lO=ko.create,Tx=On.create,cO=er.create,uO=bi.create,dO=On.createWithPreprocess,hO=Tl.create,fO=()=>lk().optional(),pO=()=>ck().optional(),mO=()=>uk().optional(),gO={string:t=>Pn.create({...t,coerce:!0}),number:t=>yi.create({...t,coerce:!0}),boolean:t=>tl.create({...t,coerce:!0}),bigint:t=>xi.create({...t,coerce:!0}),date:t=>ns.create({...t,coerce:!0})},vO=de;var Qo=Object.freeze({__proto__:null,defaultErrorMap:bo,setErrorMap:dI,getErrorMap:bu,makeIssue:Su,EMPTY_PATH:hI,addIssueToContext:ee,ParseStatus:Ct,INVALID:de,DIRTY:Us,OK:Pt,isAborted:Ap,isDirty:jp,isValid:ts,isAsync:el,get util(){return _e},get objectUtil(){return Pp},ZodParsedType:ne,getParsedType:br,ZodType:we,datetimeRegex:sk,ZodString:Pn,ZodNumber:yi,ZodBigInt:xi,ZodBoolean:tl,ZodDate:ns,ZodSymbol:Cu,ZodUndefined:nl,ZodNull:rl,ZodAny:So,ZodUnknown:qi,ZodNever:Rr,ZodVoid:Eu,ZodArray:Mn,ZodObject:He,ZodUnion:il,ZodDiscriminatedUnion:md,ZodIntersection:sl,ZodTuple:or,ZodRecord:ol,ZodMap:_u,ZodSet:rs,ZodFunction:Qs,ZodLazy:al,ZodLiteral:ll,ZodEnum:wi,ZodNativeEnum:cl,ZodPromise:ko,ZodEffects:On,ZodTransformer:On,ZodOptional:er,ZodNullable:bi,ZodDefault:ul,ZodCatch:dl,ZodNaN:Nu,BRAND:II,ZodBranded:wg,ZodPipeline:Tl,ZodReadonly:hl,custom:ak,Schema:we,ZodSchema:we,late:OI,get ZodFirstPartyTypeKind(){return ce},coerce:gO,any:UI,array:KI,bigint:DI,boolean:uk,date:zI,discriminatedUnion:XI,effect:Tx,enum:oO,function:rO,instanceof:LI,intersection:QI,lazy:iO,literal:sO,map:tO,nan:$I,nativeEnum:aO,never:WI,null:VI,nullable:uO,number:ck,object:YI,oboolean:mO,onumber:pO,optional:cO,ostring:fO,pipeline:hO,preprocess:dO,promise:lO,record:eO,set:nO,strictObject:GI,string:lk,symbol:FI,transformer:Tx,tuple:JI,undefined:BI,union:ZI,unknown:HI,void:qI,NEVER:vO,ZodIssueCode:K,quotelessJson:uI,ZodError:rn});const yO=Qo.object({apiUrl:Qo.string().url(),useMock:Qo.boolean().default(!1),mockInitData:Qo.string().optional().default(""),enableDebugLogging:Qo.boolean().optional().default(!1)});let Tu=null,Ih=null;async function xO(){try{const t="config.json";F.log(`[Config] Fetching config from: ${t}`);const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.json();F.log("[Config] Raw config data:",n);const r=yO.parse(n);return F.log("[Config] Parsed config:",r),r}catch(t){throw F.error("[Config] Error loading or parsing config.json:",t),new Error(`Application configuration is invalid or missing. Details: ${t instanceof Error?t.message:String(t)}`)}}function gd(){if(!Tu)throw F.error("[Config] getConfig called before initialization!"),new Error("Configuration not loaded");return Tu}async function wO(){if(Tu){F.warn("[Config] Already initialized.");return}Ih||(Ih=xO());try{Tu=await Ih,F.log("[Config] Initialization complete.")}catch(t){const e=t instanceof Error?t.message:"Unknown error loading configuration.";throw console.error("CRITICAL CONFIG ERROR:",e),document.body.innerHTML=`<div style="padding: 20px; text-align: center; color: red; font-family: sans-serif;">Failed to load application configuration. Please contact support.<br><small style='color: #666;'>Details: ${e}</small></div>`,t}}const rc=()=>{try{return gd().enableDebugLogging}catch{return!1}},F={log:(...t)=>{rc()&&console.log("[APP LOG]",...t)},warn:(...t)=>{rc()&&console.warn("[APP WARN]",...t)},error:(...t)=>{console.error("[APP ERROR]",...t)},info:(...t)=>{rc()&&console.info("[APP INFO]",...t)},debug:(...t)=>{rc()&&(console.debug||console.log)("[APP DEBUG]",...t)}},dk=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){F.error("[API Helper Notif] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},hk=(t,e)=>{var r,i;F.error(`[API Error Handler Notif] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},Px=async t=>{var n;const e="Failed to get notifications.";F.log("[API/Notifications] getMyNotifications called with params:",t);try{const r=await et.post("/api/UserNotifications/GetMyNotifications",t);F.log("[API/Notifications] getMyNotifications response received:",(n=r==null?void 0:r.data)==null?void 0:n.isSuccess);const i=dk(r,e);return i.isSuccess&&i.resultObject?i.resultObject.userNotifications=i.resultObject.userNotifications||[]:i.isSuccess&&!i.resultObject&&(F.warn("[API/Notifications] getMyNotifications success but resultObject is null. Normalizing."),i.resultObject={userNotificationSearchParams:t,foundCount:0,userNotifications:[]}),i}catch(r){return hk(r,e)}},bO=async t=>{var n;const e=`Failed to mark notification ${t.UserNotificationId} as read.`;F.log("[API/Notifications] markNotificationAsRead called with payload:",t);try{const r=await et.post("/api/UserNotifications/MarkMyNotificationAsRead",t);return F.log("[API/Notifications] markNotificationAsRead response received:",(n=r==null?void 0:r.data)==null?void 0:n.isSuccess),dk(r,e)}catch(r){return hk(r,e)}},SO=20,Ax=6e4,jx={notifications:[],unreadCount:0,totalCount:0,currentPage:1,filterReadStatus:null,isLoading:!1,isMarkingAsRead:new Set,error:null,hasFetchedInitialCount:!1,notificationsEnabled:!0,countPollingTimeoutId:null},mn=ur()(Io((t,e)=>({...jx,_scheduleNextCountFetch:()=>{const{stopCountPolling:n,countPollingTimeoutId:r,notificationsEnabled:i}=e();if(r&&clearTimeout(r),i){F.log(`[NotificationStore _scheduleNextCountFetch] Scheduling next count fetch in ${Ax}ms`);const s=setTimeout(async()=>{wn.getState().isAuthenticated&&e().notificationsEnabled?(F.log("[NotificationStore Polling Timeout] Fetching unread count..."),await e().fetchUnreadCount(!0)):(F.log("[NotificationStore Polling Timeout] Not fetching (auth or enabled changed). Stopping polling."),n())},Ax);t({countPollingTimeoutId:s})}else F.log("[NotificationStore _scheduleNextCountFetch] Notifications disabled, not scheduling next fetch."),t({countPollingTimeoutId:null})},fetchUnreadCount:async(n=!1)=>{F.log(`[NotificationStore fetchUnreadCount] Fetching unread count (force=${n})...`);try{const i=await Px({PageNumber:1,PageItemsCount:0,MarkedAsRead:!1});if(i.isSuccess&&i.resultObject){const s=i.resultObject.foundCount;t({unreadCount:e().notificationsEnabled?s:0,hasFetchedInitialCount:!0}),F.log(`[NotificationStore fetchUnreadCount] Success. Raw count: ${s}, Stored count: ${e().unreadCount}`)}else F.error("[NotificationStore fetchUnreadCount] Failed to fetch unread count:",i.errorMessage),e().hasFetchedInitialCount||t({hasFetchedInitialCount:!0})}catch(r){F.error("[NotificationStore fetchUnreadCount] Exception:",r),e().hasFetchedInitialCount||t({hasFetchedInitialCount:!0})}finally{(e().countPollingTimeoutId!==null||n)&&e()._scheduleNextCountFetch()}},fetchNotifications:async(n,r,i=!1)=>{var c;const{filterReadStatus:s,currentPage:o}=e(),a=n??(i?o+1:1),l=r!==void 0?r:s;if(e().isLoading){F.log("[NotificationStore fetchNotifications] Fetch skipped, already loading.");return}t({isLoading:!0,error:null}),i||t({notifications:[],totalCount:0}),F.log(`[NotificationStore fetchNotifications] Fetching: page=${a}, readStatus=${l}, append=${i}`);try{const h=await Px({PageNumber:a,PageItemsCount:SO,MarkedAsRead:l});if(h.isSuccess&&h.resultObject){const f=h.resultObject.userNotifications||[];t(p=>{var g;return{notifications:i?[...p.notifications,...f]:f,totalCount:((g=h.resultObject)==null?void 0:g.foundCount)??p.totalCount,currentPage:a,isLoading:!1,error:null}}),F.log(`[NotificationStore fetchNotifications] Success. Fetched ${f.length}. Total: ${((c=h.resultObject)==null?void 0:c.foundCount)??"N/A"}. Current page: ${a}`)}else throw new Error(h.errorMessage||"   .")}catch(u){F.error("[NotificationStore fetchNotifications] Fetch error:",u),t(h=>({error:u.message||"  .",isLoading:!1,notifications:i?h.notifications:[],totalCount:i?h.totalCount:0,currentPage:i?h.currentPage:1}))}},markAsRead:async n=>{if(e().isMarkingAsRead.has(n))return F.log(`[NotificationStore markAsRead] Marking already in progress for ID: ${n}`),!1;t(i=>({isMarkingAsRead:new Set(i.isMarkingAsRead).add(n)})),F.log(`[NotificationStore markAsRead] Started marking ${n} as read.`);let r=!1;try{const i=await bO({UserNotificationId:n});if(i.isSuccess)F.log(`[NotificationStore markAsRead] API confirmation for ID: ${n}`),t(s=>({notifications:s.notifications.map(o=>o.id===n?{...o,readByUserAt:new Date().toISOString()}:o),unreadCount:s.notificationsEnabled?Math.max(0,s.unreadCount-1):0})),r=!0;else throw new Error(i.errorMessage||`Failed to mark notification ${n} as read.`)}catch(i){F.error(`[NotificationStore markAsRead] API error for ID ${n}:`,i),t({error:`   #${n}: ${i.message}`}),r=!1}finally{t(i=>{const s=new Set(i.isMarkingAsRead);return s.delete(n),{isMarkingAsRead:s}}),F.log(`[NotificationStore markAsRead] Finished marking attempt for ${n}. Success: ${r}`)}return r},setFilter:n=>{e().filterReadStatus!==n?(F.log(`[NotificationStore setFilter] Setting filter to: ${n}`),t({filterReadStatus:n,currentPage:1}),e().fetchNotifications(1,n,!1)):F.log(`[NotificationStore setFilter] Filter already set to: ${n}. Skipping fetch.`)},goToPage:n=>{e().currentPage!==n&&!e().isLoading&&(F.log(`[NotificationStore goToPage] Going to page: ${n}`),t({currentPage:n}),e().fetchNotifications(n,e().filterReadStatus,!1))},startCountPolling:()=>{const{stopCountPolling:n,_scheduleNextCountFetch:r}=e();n(),F.log("[NotificationStore startCountPolling] Starting count polling."),r()},stopCountPolling:()=>{const{countPollingTimeoutId:n}=e();n?(F.log("[NotificationStore stopCountPolling] Stopping count polling."),clearTimeout(n),t({countPollingTimeoutId:null})):F.log("[NotificationStore stopCountPolling] Polling was not active.")},setNotificationsEnabled:n=>{F.log(`[NotificationStore setNotificationsEnabled] Setting enabled to: ${n}`);const r=e().notificationsEnabled;t({notificationsEnabled:n}),n?!r&&n&&(e().fetchUnreadCount(!0),e().startCountPolling()):(e().stopCountPolling(),t({unreadCount:0}))},resetNotifications:()=>{F.log("[NotificationStore resetNotifications] Resetting state and stopping polling."),e().stopCountPolling(),t(n=>({...jx,notificationsEnabled:n.notificationsEnabled}))}}),{name:"notification-storage",storage:vs(()=>localStorage),partialize:t=>({notificationsEnabled:t.notificationsEnabled}),onRehydrateStorage:()=>t=>{F.log("[NotificationStore] Hydration finished."),t&&(t.notifications=[],t.unreadCount=0,t.totalCount=0,t.currentPage=1,t.filterReadStatus=null,t.isLoading=!1,t.isMarkingAsRead=new Set,t.error=null,t.hasFetchedInitialCount=!1,t.countPollingTimeoutId=null,t.notificationsEnabled||(t.unreadCount=0),F.log(`[NotificationStore] Rehydrated state. Enabled: ${t.notificationsEnabled}`))}})),wn=ur()(Io((t,e)=>({userId:null,jwt:null,isAuthenticated:!1,isLoading:!0,_checkAdminRole:n=>{if(!n)return!1;try{const r=aI(n),i=r["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||r.role;if(i)return Array.isArray(i)?i.includes("Administrator"):i==="Administrator"}catch(r){F.error("[AuthStore _checkAdminRole] Failed to decode JWT:",r)}return!1},login:(n,r)=>{F.log("[AuthStore] Login action called.");const i=e()._checkAdminRole(r);F.log(`[AuthStore] User ${n} logged in. Is admin: ${i}`),t({userId:n,jwt:r,isAuthenticated:!0,isLoading:!1});const s=Er.getState();i?s.isAdminAuthenticated||(F.log("[AuthStore login] Calling adminAuthStore.login()"),s.login()):s.isAdminAuthenticated&&(F.log("[AuthStore login] User is not admin, calling adminAuthStore.logout()"),s.logout()),ir.setState({hasAttemptedFetch:!1}),F.log("[AuthStore login] Reset portfolio hasAttemptedFetch flag.");const{fetchUnreadCount:o,startCountPolling:a}=mn.getState();o(!0),a(),F.log("[AuthStore login] Triggered fetchUnreadCount and started count polling.")},logout:()=>{F.log("[AuthStore] Logout action called."),t({userId:null,jwt:null,isAuthenticated:!1,isLoading:!1});const n=Er.getState();n.isAdminAuthenticated&&(F.log("[AuthStore logout] Calling adminAuthStore.logout()"),n.logout()),ir.setState({accounts:null,error:null,isFetching:!1,hasAttemptedFetch:!1,isLoading:!1}),F.log("[AuthStore logout] Reset portfolio state.");const{stopCountPolling:r,resetNotifications:i}=mn.getState();r(),i(),F.log("[AuthStore logout] Stopped count polling and reset notification state.")}}),{name:"auth-storage",storage:vs(()=>sessionStorage),onRehydrateStorage:()=>(t,e)=>{if(e){F.error("[AuthStore] onRehydrateStorage: Error during hydration:",e),t?t.isLoading=!1:wn.setState({isLoading:!1,isAuthenticated:!1});return}if(F.log("[AuthStore] onRehydrateStorage: Hydration start."),t){if(t.jwt){const n=t._checkAdminRole(t.jwt);F.log(`[AuthStore] onRehydrateStorage: JWT found. Is admin: ${n}`),t.isAuthenticated=!0;const r=Er.getState();n?r.isAdminAuthenticated||(F.log("[AuthStore onRehydrate] Calling adminAuthStore.login()"),r.login()):r.isAdminAuthenticated&&(F.log("[AuthStore onRehydrate] User is not admin, calling adminAuthStore.logout()"),r.logout());const{fetchUnreadCount:i,startCountPolling:s}=mn.getState();i(!0),s(),F.log("[AuthStore onRehydrate] Triggered fetchUnreadCount and started count polling.")}else F.warn("[AuthStore] onRehydrateStorage: JWT not found."),t.isAuthenticated=!1,Er.getState().logout(),mn.getState().resetNotifications(),F.log("[AuthStore onRehydrate] Reset notification state (no JWT).");t.isLoading=!1,F.log(`[AuthStore] onRehydrateStorage: Hydration finished. isLoading: ${t.isLoading}, isAuthenticated: ${t.isAuthenticated}`)}else F.warn("[AuthStore] onRehydrateStorage: State is undefined after hydration."),wn.setState({isLoading:!1,isAuthenticated:!1}),mn.getState().resetNotifications(),F.log("[AuthStore onRehydrate] Reset notification state (undefined state).")},partialize:t=>({userId:t.userId,jwt:t.jwt})})),et=Je.create({});et.interceptors.request.use(t=>{if(!t.baseURL)try{const r=gd();t.baseURL=r.apiUrl}catch(r){return console.error("[API Interceptor] Failed to get config to set baseURL:",r),Promise.reject(new Error("Configuration not loaded, cannot set API base URL."))}const e=wn.getState().jwt,n=t.url==="/Account/LoginByTelegramUserInfo"||t.url==="/Account/LoginByLogPassPair";return e&&!n?t.headers.Authorization=`Bearer ${e}`:!e&&!n&&console.warn(`[API Interceptor] No token found for protected URL: ${t.url}`),t.url==="/Account/LoginByTelegramUserInfo"&&typeof t.data=="string"&&(t.headers["Content-Type"]="text/plain"),t},t=>(console.error("[Axios Interceptor] Request Setup Error:",t),Promise.reject(t)));et.interceptors.response.use(t=>t,t=>{var e,n,r;if(t.response){if(console.error(`[Axios Interceptor] Response Error ${t.response.status} for ${(e=t.config)==null?void 0:e.url}:`,t.response.data),t.response.status===401)return console.error("[Axios Interceptor] Unauthorized (401). Logging out."),wn.getState().logout(),Promise.reject(new Error("Unauthorized: Please log in again."));const i=((n=t.response.data)==null?void 0:n.errorMessage)||((r=t.response.data)==null?void 0:r.title)||(typeof t.response.data=="string"?t.response.data:null)||t.response.statusText||`Request failed with status ${t.response.status}`;return Promise.reject(new Error(i))}else return t.request?(console.error("[Axios Interceptor] No response received (Network Error? Backend Down?):",t.request),Promise.reject(new Error("Network error or backend unavailable."))):(console.error("[Axios Interceptor] Request setup error:",t.message),Promise.reject(new Error(t.message||"Request setup error")))});var fk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rr,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",h="month",f="quarter",p="year",g="date",m="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(I){var L=["th","st","nd","rd"],M=I%100;return"["+I+(L[(M-20)%10]||L[M]||L[0])+"]"}},b=function(I,L,M){var D=String(I);return!D||D.length>=L?I:""+Array(L+1-D.length).join(M)+I},S={s:b,z:function(I){var L=-I.utcOffset(),M=Math.abs(L),D=Math.floor(M/60),P=M%60;return(L<=0?"+":"-")+b(D,2,"0")+":"+b(P,2,"0")},m:function I(L,M){if(L.date()<M.date())return-I(M,L);var D=12*(M.year()-L.year())+(M.month()-L.month()),P=L.clone().add(D,h),$=M-P<0,E=L.clone().add(D+($?-1:1),h);return+(-(D+(M-P)/($?P-E:E-P))||0)},a:function(I){return I<0?Math.ceil(I)||0:Math.floor(I)},p:function(I){return{M:h,y:p,w:u,d:c,D:g,h:l,m:a,s:o,ms:s,Q:f}[I]||String(I||"").toLowerCase().replace(/s$/,"")},u:function(I){return I===void 0}},k="en",C={};C[k]=x;var _="$isDayjsObject",T=function(I){return I instanceof A||!(!I||!I[_])},j=function I(L,M,D){var P;if(!L)return k;if(typeof L=="string"){var $=L.toLowerCase();C[$]&&(P=$),M&&(C[$]=M,P=$);var E=L.split("-");if(!P&&E.length>1)return I(E[0])}else{var z=L.name;C[z]=L,P=z}return!D&&P&&(k=P),P||!D&&k},R=function(I,L){if(T(I))return I.clone();var M=typeof L=="object"?L:{};return M.date=I,M.args=arguments,new A(M)},O=S;O.l=j,O.i=T,O.w=function(I,L){return R(I,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var A=function(){function I(M){this.$L=j(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[_]=!0}var L=I.prototype;return L.parse=function(M){this.$d=function(D){var P=D.date,$=D.utc;if(P===null)return new Date(NaN);if(O.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var E=P.match(w);if(E){var z=E[2]-1||0,X=(E[7]||"0").substring(0,3);return $?new Date(Date.UTC(E[1],z,E[3]||1,E[4]||0,E[5]||0,E[6]||0,X)):new Date(E[1],z,E[3]||1,E[4]||0,E[5]||0,E[6]||0,X)}}return new Date(P)}(M),this.init()},L.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},L.$utils=function(){return O},L.isValid=function(){return this.$d.toString()!==m},L.isSame=function(M,D){var P=R(M);return this.startOf(D)<=P&&P<=this.endOf(D)},L.isAfter=function(M,D){return R(M)<this.startOf(D)},L.isBefore=function(M,D){return this.endOf(D)<R(M)},L.$g=function(M,D,P){return O.u(M)?this[D]:this.set(P,M)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(M,D){var P=this,$=!!O.u(D)||D,E=O.p(M),z=function(q,U){var J=O.w(P.$u?Date.UTC(P.$y,U,q):new Date(P.$y,U,q),P);return $?J:J.endOf(c)},X=function(q,U){return O.w(P.toDate()[q].apply(P.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(U)),P)},N=this.$W,oe=this.$M,be=this.$D,he="set"+(this.$u?"UTC":"");switch(E){case p:return $?z(1,0):z(31,11);case h:return $?z(1,oe):z(0,oe+1);case u:var te=this.$locale().weekStart||0,ue=(N<te?N+7:N)-te;return z($?be-ue:be+(6-ue),oe);case c:case g:return X(he+"Hours",0);case l:return X(he+"Minutes",1);case a:return X(he+"Seconds",2);case o:return X(he+"Milliseconds",3);default:return this.clone()}},L.endOf=function(M){return this.startOf(M,!1)},L.$set=function(M,D){var P,$=O.p(M),E="set"+(this.$u?"UTC":""),z=(P={},P[c]=E+"Date",P[g]=E+"Date",P[h]=E+"Month",P[p]=E+"FullYear",P[l]=E+"Hours",P[a]=E+"Minutes",P[o]=E+"Seconds",P[s]=E+"Milliseconds",P)[$],X=$===c?this.$D+(D-this.$W):D;if($===h||$===p){var N=this.clone().set(g,1);N.$d[z](X),N.init(),this.$d=N.set(g,Math.min(this.$D,N.daysInMonth())).$d}else z&&this.$d[z](X);return this.init(),this},L.set=function(M,D){return this.clone().$set(M,D)},L.get=function(M){return this[O.p(M)]()},L.add=function(M,D){var P,$=this;M=Number(M);var E=O.p(D),z=function(oe){var be=R($);return O.w(be.date(be.date()+Math.round(oe*M)),$)};if(E===h)return this.set(h,this.$M+M);if(E===p)return this.set(p,this.$y+M);if(E===c)return z(1);if(E===u)return z(7);var X=(P={},P[a]=r,P[l]=i,P[o]=n,P)[E]||1,N=this.$d.getTime()+M*X;return O.w(N,this)},L.subtract=function(M,D){return this.add(-1*M,D)},L.format=function(M){var D=this,P=this.$locale();if(!this.isValid())return P.invalidDate||m;var $=M||"YYYY-MM-DDTHH:mm:ssZ",E=O.z(this),z=this.$H,X=this.$m,N=this.$M,oe=P.weekdays,be=P.months,he=P.meridiem,te=function(U,J,ie,Te){return U&&(U[J]||U(D,$))||ie[J].slice(0,Te)},ue=function(U){return O.s(z%12||12,U,"0")},q=he||function(U,J,ie){var Te=U<12?"AM":"PM";return ie?Te.toLowerCase():Te};return $.replace(v,function(U,J){return J||function(ie){switch(ie){case"YY":return String(D.$y).slice(-2);case"YYYY":return O.s(D.$y,4,"0");case"M":return N+1;case"MM":return O.s(N+1,2,"0");case"MMM":return te(P.monthsShort,N,be,3);case"MMMM":return te(be,N);case"D":return D.$D;case"DD":return O.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return te(P.weekdaysMin,D.$W,oe,2);case"ddd":return te(P.weekdaysShort,D.$W,oe,3);case"dddd":return oe[D.$W];case"H":return String(z);case"HH":return O.s(z,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return q(z,X,!0);case"A":return q(z,X,!1);case"m":return String(X);case"mm":return O.s(X,2,"0");case"s":return String(D.$s);case"ss":return O.s(D.$s,2,"0");case"SSS":return O.s(D.$ms,3,"0");case"Z":return E}return null}(U)||E.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(M,D,P){var $,E=this,z=O.p(D),X=R(M),N=(X.utcOffset()-this.utcOffset())*r,oe=this-X,be=function(){return O.m(E,X)};switch(z){case p:$=be()/12;break;case h:$=be();break;case f:$=be()/3;break;case u:$=(oe-N)/6048e5;break;case c:$=(oe-N)/864e5;break;case l:$=oe/i;break;case a:$=oe/r;break;case o:$=oe/n;break;default:$=oe}return P?$:O.a($)},L.daysInMonth=function(){return this.endOf(h).$D},L.$locale=function(){return C[this.$L]},L.locale=function(M,D){if(!M)return this.$L;var P=this.clone(),$=j(M,D,!0);return $&&(P.$L=$),P},L.clone=function(){return O.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},I}(),B=A.prototype;return R.prototype=B,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",h],["$y",p],["$D",g]].forEach(function(I){B[I[1]]=function(L){return this.$g(L,I[0],I[1])}}),R.extend=function(I,L){return I.$i||(I(L,A,R),I.$i=!0),R},R.locale=j,R.isDayjs=T,R.unix=function(I){return R(1e3*I)},R.en=C[k],R.Ls=C,R.p={},R})})(fk);var pk=fk.exports;const Et=cr(pk);var mk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rr,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(m){var w={date:m,utc:!0,args:arguments};return new o(w)},l.utc=function(m){var w=a(this.toDate(),{locale:this.$L,utc:!0});return m?w.add(this.utcOffset(),n):w},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),c.call(this,m)};var u=l.init;l.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else u.call(this)};var h=l.utcOffset;l.utcOffset=function(m,w){var v=this.$utils().u;if(v(m))return this.$u?0:v(this.$offset)?h.call(this):this.$offset;if(typeof m=="string"&&(m=function(k){k===void 0&&(k="");var C=k.match(r);if(!C)return null;var _=(""+C[0]).match(i)||["-",0,0],T=_[0],j=60*+_[1]+ +_[2];return j===0?0:T==="+"?j:-j}(m),m===null))return this;var x=Math.abs(m)<=16?60*m:m,b=this;if(w)return b.$offset=x,b.$u=m===0,b;if(m!==0){var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(b=this.local().add(x+S,n)).$offset=x,b.$x.$localOffset=S}else b=this.utc();return b};var f=l.format;l.format=function(m){var w=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,w)},l.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(m){return m==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var g=l.diff;l.diff=function(m,w,v){if(m&&this.$u===m.$u)return g.call(this,m,w,v);var x=this.local(),b=a(m).local();return g.call(x,b,w,v)}}})})(mk);var kO=mk.exports;const gk=cr(kO);var vk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rr,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,s,o){var a,l=function(f,p,g){g===void 0&&(g={});var m=new Date(f),w=function(v,x){x===void 0&&(x={});var b=x.timeZoneName||"short",S=v+"|"+b,k=r[S];return k||(k=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:b}),r[S]=k),k}(p,g);return w.formatToParts(m)},c=function(f,p){for(var g=l(f,p),m=[],w=0;w<g.length;w+=1){var v=g[w],x=v.type,b=v.value,S=n[x];S>=0&&(m[S]=parseInt(b,10))}var k=m[3],C=k===24?0:k,_=m[0]+"-"+m[1]+"-"+m[2]+" "+C+":"+m[4]+":"+m[5]+":000",T=+f;return(o.utc(_).valueOf()-(T-=T%1e3))/6e4},u=s.prototype;u.tz=function(f,p){f===void 0&&(f=a);var g,m=this.utcOffset(),w=this.toDate(),v=w.toLocaleString("en-US",{timeZone:f}),x=Math.round((w-new Date(v))/1e3/60),b=15*-Math.round(w.getTimezoneOffset()/15)-x;if(!Number(b))g=this.utcOffset(0,p);else if(g=o(v,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(b,!0),p){var S=g.utcOffset();g=g.add(m-S,"minute")}return g.$x.$timezone=f,g},u.offsetName=function(f){var p=this.$x.$timezone||o.tz.guess(),g=l(this.valueOf(),p,{timeZoneName:f}).find(function(m){return m.type.toLowerCase()==="timezonename"});return g&&g.value};var h=u.startOf;u.startOf=function(f,p){if(!this.$x||!this.$x.$timezone)return h.call(this,f,p);var g=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return h.call(g,f,p).tz(this.$x.$timezone,!0)},o.tz=function(f,p,g){var m=g&&p,w=g||p||a,v=c(+o(),w);if(typeof f!="string")return o(f).tz(w);var x=function(C,_,T){var j=C-60*_*1e3,R=c(j,T);if(_===R)return[j,_];var O=c(j-=60*(R-_)*1e3,T);return R===O?[j,R]:[C-60*Math.min(R,O)*1e3,Math.max(R,O)]}(o.utc(f,m).valueOf(),v,w),b=x[0],S=x[1],k=o(b).utcOffset(S);return k.$x.$timezone=w,k},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(f){a=f}}})})(vk);var CO=vk.exports;const yk=cr(CO);var xk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,s=/\d\d/,o=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},c=function(w){return(w=+w)+(w>68?1900:2e3)},u=function(w){return function(v){this[w]=+v}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(w){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),b=60*x[1]+(+x[2]||0);return b===0?0:x[0]==="+"?-b:b}(w)}],f=function(w){var v=l[w];return v&&(v.indexOf?v:v.s.concat(v.f))},p=function(w,v){var x,b=l.meridiem;if(b){for(var S=1;S<=24;S+=1)if(w.indexOf(b(S,0,v))>-1){x=S>12;break}}else x=w===(v?"pm":"PM");return x},g={A:[a,function(w){this.afternoon=p(w,!1)}],a:[a,function(w){this.afternoon=p(w,!0)}],Q:[i,function(w){this.month=3*(w-1)+1}],S:[i,function(w){this.milliseconds=100*+w}],SS:[s,function(w){this.milliseconds=10*+w}],SSS:[/\d{3}/,function(w){this.milliseconds=+w}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[s,u("day")],Do:[a,function(w){var v=l.ordinal,x=w.match(/\d+/);if(this.day=x[0],v)for(var b=1;b<=31;b+=1)v(b).replace(/\[|\]/g,"")===w&&(this.day=b)}],w:[o,u("week")],ww:[s,u("week")],M:[o,u("month")],MM:[s,u("month")],MMM:[a,function(w){var v=f("months"),x=(f("monthsShort")||v.map(function(b){return b.slice(0,3)})).indexOf(w)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[a,function(w){var v=f("months").indexOf(w)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,u("year")],YY:[s,function(w){this.year=c(w)}],YYYY:[/\d{4}/,u("year")],Z:h,ZZ:h};function m(w){var v,x;v=w,x=l&&l.formats;for(var b=(w=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(R,O,A){var B=A&&A.toUpperCase();return O||x[A]||n[A]||x[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(I,L,M){return L||M.slice(1)})})).match(r),S=b.length,k=0;k<S;k+=1){var C=b[k],_=g[C],T=_&&_[0],j=_&&_[1];b[k]=j?{regex:T,parser:j}:C.replace(/^\[|\]$/g,"")}return function(R){for(var O={},A=0,B=0;A<S;A+=1){var I=b[A];if(typeof I=="string")B+=I.length;else{var L=I.regex,M=I.parser,D=R.slice(B),P=L.exec(D)[0];M.call(O,P),R=R.replace(P,"")}}return function($){var E=$.afternoon;if(E!==void 0){var z=$.hours;E?z<12&&($.hours+=12):z===12&&($.hours=0),delete $.afternoon}}(O),O}}return function(w,v,x){x.p.customParseFormat=!0,w&&w.parseTwoDigitYear&&(c=w.parseTwoDigitYear);var b=v.prototype,S=b.parse;b.parse=function(k){var C=k.date,_=k.utc,T=k.args;this.$u=_;var j=T[1];if(typeof j=="string"){var R=T[2]===!0,O=T[3]===!0,A=R||O,B=T[2];O&&(B=T[2]),l=this.$locale(),!R&&B&&(l=x.Ls[B]),this.$d=function(D,P,$,E){try{if(["x","X"].indexOf(P)>-1)return new Date((P==="X"?1e3:1)*D);var z=m(P)(D),X=z.year,N=z.month,oe=z.day,be=z.hours,he=z.minutes,te=z.seconds,ue=z.milliseconds,q=z.zone,U=z.week,J=new Date,ie=oe||(X||N?1:J.getDate()),Te=X||J.getFullYear(),Re=0;X&&!N||(Re=N>0?N-1:J.getMonth());var gt,Ot=be||0,un=he||0,Mi=te||0,Sn=ue||0;return q?new Date(Date.UTC(Te,Re,ie,Ot,un,Mi,Sn+60*q.offset*1e3)):$?new Date(Date.UTC(Te,Re,ie,Ot,un,Mi,Sn)):(gt=new Date(Te,Re,ie,Ot,un,Mi,Sn),U&&(gt=E(gt).week(U).toDate()),gt)}catch{return new Date("")}}(C,j,_,x),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),A&&C!=this.format(j)&&(this.$d=new Date("")),l={}}else if(j instanceof Array)for(var I=j.length,L=1;L<=I;L+=1){T[1]=j[L-1];var M=x.apply(this,T);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}L===I&&(this.$d=new Date(""))}else S.call(this,k)}}})})(xk);var EO=xk.exports;const _O=cr(EO);Et.extend(gk);Et.extend(yk);Et.extend(_O);const Pl=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},Al=(t,e)=>{var r,i;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},NO=async t=>{const e={pageNumber:t.pageNumber??1,pageItemsCount:t.pageItemsCount??30,searchString:t.searchString||null,assetTypes:t.assetTypes||null},n="Failed to search assets.";try{const r=await et.post("/api/BrokerAccountUser/SearchAssets",e),i=Pl(r,n);return i.isSuccess&&(i.resultObject?i.resultObject.assets=i.resultObject.assets||[]:(console.warn("[API/Assets] searchAssets success but resultObject is null. Normalizing."),i.resultObject={searchAssetsParameters:e,foundCount:0,assets:[]})),i}catch(r){return Al(r,n)}},wk=async t=>{const e=`Failed to get asset with ID ${t}.`;console.log(`[API/Assets] Fetching asset by ID: ${t}`);try{const n=await et.get(`/api/Assets/${t}`),r=Pl(n,e);return r.isSuccess&&r.resultObject===null&&console.warn(`[API/Assets] getAssetById(${t}) returned success but resultObject is null.`),r}catch(n){return Al(n,e)}},bk=async()=>{const t="Failed to get asset types.";try{const e=await et.get("/api/BrokerAccountUser/GetAllAssetTypes"),n=Pl(e,t);return n.isSuccess&&n.resultObject===null&&(console.warn("[API/Assets] getAllAssetTypes success but resultObject is null. Normalizing to empty array."),n.resultObject=[]),n}catch(e){return Al(e,t)}},TO=async t=>{const e="Failed to get last prices.";if(!t||t.length===0)return console.log("[API/Assets] getLastPrices called with empty tickers, returning empty array."),{isSuccess:!0,errorMessage:null,resultObject:[]};try{const n=await et.get("/api/BrokerAccountUser/GetLastPrices",{params:{assetTickers:t.join(",")}}),r=Pl(n,e);return r.isSuccess&&r.resultObject===null&&(console.warn("[API/Assets] getLastPrices success but resultObject is null. Normalizing to empty array."),r.resultObject=[]),r}catch(n){return Al(n,e)}},Sk=async(t,e,n)=>{var u,h;const r=`Failed to get price history for asset ${t}, period ${e}.`;console.log(`[API/Assets] getPriceHistory called for asset ${t}, period ${e}. Requesting from backend...`);const i=Et();let s,o;switch(e){case"1D":s=i.startOf("day"),o=i.endOf("day");break;case"1W":s=i.subtract(1,"week").startOf("day"),o=i.endOf("day");break;case"1M":s=i.subtract(1,"month").startOf("day"),o=i.endOf("day");break;case"1Y":s=i.subtract(1,"year").startOf("day"),o=i.endOf("day");break;case"5Y":s=i.subtract(5,"year").startOf("day"),o=i.endOf("day");break;case"ALL":s=i.subtract(20,"year").startOf("day"),o=i.endOf("day");break;default:console.warn(`[API/Assets getPriceHistory] Unknown period: ${e}. Defaulting to 1M.`),s=i.subtract(1,"month").startOf("day"),o=i.endOf("day")}const a=s.format("YYYY-MM-DDTHH:mm:ss"),l=o.format("YYYY-MM-DDTHH:mm:ss");console.log(`[API/Assets getPriceHistory] Requesting backend with AssetId: ${t}, From: ${a}, Till: ${l}`);const c={AssetId:t,From:a,Till:l};try{const f=await et.post("/api/Assets/GetPriceDataForFrontChartFromMoex",c,{signal:n==null?void 0:n.signal}),p=Pl(f,r);if(!p.isSuccess||!p.resultObject)return console.error("[API/Assets getPriceHistory] Backend request failed or returned null:",p.errorMessage),{isSuccess:!1,errorMessage:p.errorMessage||r,resultObject:null};const g=p.resultObject;if(!((u=g==null?void 0:g.candles)!=null&&u.columns)||!((h=g==null?void 0:g.candles)!=null&&h.data))return console.error("[API/Assets getPriceHistory] Invalid MOEX data structure:",g),{isSuccess:!1,errorMessage:"Invalid data structure received from server.",resultObject:null};const m=g.candles.columns,w=m.indexOf("begin"),v=m.indexOf("open"),x=m.indexOf("high"),b=m.indexOf("low"),S=m.indexOf("close");if(w===-1||v===-1||x===-1||b===-1||S===-1){const _=`Required columns missing in history data: ${["begin","open","high","low","close"].filter(T=>m.indexOf(T)===-1).join(", ")}`;return console.error(`[API/Assets getPriceHistory] ${_}`,m),{isSuccess:!1,errorMessage:_,resultObject:null}}const k=g.candles.data.map(C=>{const _=C[w];let T=C[v],j=C[x],R=C[b],O=C[S];if(!_||T===null||j===null||R===null||O===null||isNaN(T)||isNaN(j)||isNaN(R)||isNaN(O))return console.warn("[API/Assets getPriceHistory] Skipping row due to invalid data:",C),null;try{const B=Et.tz(_,"YYYY-MM-DD HH:mm:ss","Europe/Moscow");if(!B.isValid())return console.warn(`[API/Assets getPriceHistory] Skipping row due to invalid date string after dayjs parsing: ${_}`),null;const M=B.utc().unix(),D=Math.max(T,j,R,O),P=Math.min(T,j,R,O);return j=D,R=P,T=Math.max(R,Math.min(j,T)),O=Math.max(R,Math.min(j,O)),{time:M,open:T,high:j,low:R,close:O}}catch(A){return console.error(`[API/Assets getPriceHistory] Error converting row: ${C}`,A),null}}).filter(C=>C!==null).sort((C,_)=>C.time-_.time);return console.log(`[API/Assets getPriceHistory] Successfully processed ${k.length} history points.`),{isSuccess:!0,errorMessage:null,resultObject:k}}catch(f){return f.name==="AbortError"?(console.log(`[API/Assets getPriceHistory] Request aborted for asset ${t}, period ${e}.`),{isSuccess:!1,errorMessage:"Request aborted",resultObject:null}):Al(f,r)}},PO=20,Pu="all",Mx={searchTerm:"",activeTabValue:Pu,apiAssetTypes:null,currentPage:1,didPerformSearch:!1,marketTabs:[{value:Pu,label:"",apiTitles:null}],isTypesLoading:!1,typesError:null,searchResults:[],totalResults:0,isLoading:!1,error:null},yr=ur((t,e)=>({...Mx,fetchMarketTabs:async(n=!1)=>{if(!n&&(e().marketTabs.length>1||e().isTypesLoading)){console.log("[MarketPageStore fetchMarketTabs] Skipped fetching tabs.");return}t({isTypesLoading:!0,typesError:null}),console.log("[MarketPageStore fetchMarketTabs] Fetching asset types...");try{const r=await bk();if(r.isSuccess&&r.resultObject){const i=r.resultObject.map(o=>({value:o.title,label:o.description,apiTitles:[o.title]})),s=[{value:Pu,label:"",apiTitles:null},...i];t({marketTabs:s,isTypesLoading:!1}),console.log("[MarketPageStore fetchMarketTabs] Tabs loaded successfully.")}else throw new Error(r.errorMessage||"Failed to load asset types.")}catch(r){console.error("[MarketPageStore fetchMarketTabs] Error:",r),t({typesError:r.message||"Error fetching types.",isTypesLoading:!1,marketTabs:[{value:Pu,label:"",apiTitles:null}]})}},setSearchTerm:n=>{t({searchTerm:n,currentPage:1,didPerformSearch:!1}),e().fetchMarketAssets(!1)},setActiveTab:(n,r)=>{t({activeTabValue:n,apiAssetTypes:r,currentPage:1,didPerformSearch:!1}),e().fetchMarketAssets(!1),console.log(`[MarketPageStore setActiveTab] Tab set to: ${n}`)},fetchMarketAssets:async(n=!1)=>{var a;const{searchTerm:r,apiAssetTypes:i,currentPage:s}=e(),o=n?s+1:1;if(e().isLoading){console.log("[MarketPageStore fetchMarketAssets] Fetch skipped, already loading.");return}t({isLoading:!0,error:null,didPerformSearch:!0}),n||t({searchResults:[],totalResults:0}),console.log(`[MarketPageStore fetchMarketAssets] Fetching: term='${r}', types=${JSON.stringify(i)}, page=${o}, append=${n}`);try{const l={searchString:r.trim()||null,assetTypes:i,pageNumber:o,pageItemsCount:PO},c=await NO(l);if(c!=null&&c.isSuccess&&c.resultObject){const u=c.resultObject.assets||[];t(h=>{var f;return{searchResults:n?[...h.searchResults,...u]:u,totalResults:((f=c.resultObject)==null?void 0:f.foundCount)??h.totalResults,currentPage:o,isLoading:!1,error:null}}),console.log(`[MarketPageStore fetchMarketAssets] Success. Fetched ${u.length}. New total: ${((a=c.resultObject)==null?void 0:a.foundCount)??"N/A"}. Current page: ${o}`)}else throw new Error((c==null?void 0:c.errorMessage)||"     .")}catch(l){console.error("[MarketPageStore fetchMarketAssets] Fetch error:",l),t(c=>({error:l.message||"  .",isLoading:!1,searchResults:n?c.searchResults:[],totalResults:n?c.totalResults:0,currentPage:n?c.currentPage:1}))}},resetMarketState:()=>{console.log("[MarketPageStore] Resetting state."),t(Mx)}}));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kk=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...jO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:kk("lucide",i),...a},[...o.map(([c,u])=>y.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,e)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(MO,{ref:s,iconNode:e,className:kk(`lucide-${AO(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=pe("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=pe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=pe("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=pe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=pe("CandlestickChart",[["path",{d:"M9 5v4",key:"14uxtq"}],["rect",{width:"4",height:"6",x:"7",y:"9",rx:"1",key:"f4fvz0"}],["path",{d:"M9 15v2",key:"r5rk32"}],["path",{d:"M17 3v2",key:"1l2re6"}],["rect",{width:"4",height:"8",x:"15",y:"5",rx:"1",key:"z38je5"}],["path",{d:"M17 13v3",key:"5l0wba"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=pe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=pe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=pe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=pe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=pe("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=pe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=pe("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=pe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=pe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=pe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=pe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=pe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=pe("WalletCards",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2",key:"4125el"}],["path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21",key:"1dpki6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=pe("WalletMinimal",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=pe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ce=({size:t="default"})=>{const e={sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8"};return d.jsx(WO,{className:`animate-spin text-primary ${e[t]}`})},ft=({message:t,className:e})=>d.jsxs("div",{className:`flex items-center text-destructive p-4 border border-destructive/50 rounded-md bg-destructive/10 ${e}`,children:[d.jsx(Lk,{className:"h-5 w-5 mr-2"}),d.jsx("span",{children:t||"  ."})]});function $k(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$k(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Dk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$k(t))&&(r&&(r+=" "),r+=e);return r}const kg="-",rL=t=>{const e=sL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(kg);return a[0]===""&&a.length!==1&&a.shift(),zk(a,e)||iL(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},zk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?zk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(kg);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Ox=/^\[(.+)\]$/,iL=t=>{if(Ox.test(t)){const e=Ox.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},sL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return aL(Object.entries(t.classGroups),n).forEach(([s,o])=>{Op(o,r,s,e)}),r},Op=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Lx(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(oL(i)){Op(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Op(o,Lx(e,s),n,r)})})},Lx=(t,e)=>{let n=t;return e.split(kg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},oL=t=>t.isThemeGetter,aL=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,lL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Fk="!",cL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let w=0;w<a.length;w++){let v=a[w];if(c===0){if(v===i&&(r||a.slice(w,w+s)===e)){l.push(a.slice(u,w)),u=w+s;continue}if(v==="/"){h=w;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?a:a.substring(u),p=f.startsWith(Fk),g=p?f.substring(1):f,m=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},uL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},dL=t=>({cache:lL(t.cacheSize),parseClassName:cL(t),...rL(t)}),hL=/\s+/,fL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(hL);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let g=!!p,m=r(g?f.substring(0,p):f);if(!m){if(!g){a=c+(a.length>0?" "+a:a);continue}if(m=r(f),!m){a=c+(a.length>0?" "+a:a);continue}g=!1}const w=uL(u).join(":"),v=h?w+Fk:w,x=v+m;if(s.includes(x))continue;s.push(x);const b=i(m,g);for(let S=0;S<b.length;++S){const k=b[S];s.push(v+k)}a=c+(a.length>0?" "+a:a)}return a};function pL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Bk(e))&&(r&&(r+=" "),r+=n);return r}const Bk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Bk(t[r]))&&(n&&(n+=" "),n+=e);return n};function mL(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=dL(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=fL(l,n);return i(l,u),u}return function(){return s(pL.apply(null,arguments))}}const ze=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Vk=/^\[(?:([a-z-]+):)?(.+)\]$/i,gL=/^\d+\/\d+$/,vL=new Set(["px","full","screen"]),yL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mr=t=>Js(t)||vL.has(t)||gL.test(t),Hr=t=>Oo(t,"length",AL),Js=t=>!!t&&!Number.isNaN(Number(t)),Oh=t=>Oo(t,"number",Js),Jo=t=>!!t&&Number.isInteger(Number(t)),kL=t=>t.endsWith("%")&&Js(t.slice(0,-1)),xe=t=>Vk.test(t),Wr=t=>yL.test(t),CL=new Set(["length","size","percentage"]),EL=t=>Oo(t,CL,Uk),_L=t=>Oo(t,"position",Uk),NL=new Set(["image","url"]),TL=t=>Oo(t,NL,ML),PL=t=>Oo(t,"",jL),ea=()=>!0,Oo=(t,e,n)=>{const r=Vk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},AL=t=>xL.test(t)&&!wL.test(t),Uk=()=>!1,jL=t=>bL.test(t),ML=t=>SL.test(t),RL=()=>{const t=ze("colors"),e=ze("spacing"),n=ze("blur"),r=ze("brightness"),i=ze("borderColor"),s=ze("borderRadius"),o=ze("borderSpacing"),a=ze("borderWidth"),l=ze("contrast"),c=ze("grayscale"),u=ze("hueRotate"),h=ze("invert"),f=ze("gap"),p=ze("gradientColorStops"),g=ze("gradientColorStopPositions"),m=ze("inset"),w=ze("margin"),v=ze("opacity"),x=ze("padding"),b=ze("saturate"),S=ze("scale"),k=ze("sepia"),C=ze("skew"),_=ze("space"),T=ze("translate"),j=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",xe,e],A=()=>[xe,e],B=()=>["",mr,Hr],I=()=>["auto",Js,xe],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",xe],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Js,xe];return{cacheSize:500,separator:":",theme:{colors:[ea],spacing:[mr,Hr],blur:["none","",Wr,xe],brightness:z(),borderColor:[t],borderRadius:["none","","full",Wr,xe],borderSpacing:A(),borderWidth:B(),contrast:z(),grayscale:$(),hueRotate:z(),invert:$(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[kL,Hr],inset:O(),margin:O(),opacity:z(),padding:A(),saturate:z(),scale:z(),sepia:$(),skew:z(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[Wr]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),xe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jo,xe]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Jo,xe]}],"grid-cols":[{"grid-cols":[ea]}],"col-start-end":[{col:["auto",{span:["full",Jo,xe]},xe]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[ea]}],"row-start-end":[{row:["auto",{span:[Jo,xe]},xe]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,e]}],"min-w":[{"min-w":[xe,e,"min","max","fit"]}],"max-w":[{"max-w":[xe,e,"none","full","min","max","fit","prose",{screen:[Wr]},Wr]}],h:[{h:[xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Wr,Hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Oh]}],"font-family":[{font:[ea]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",Js,Oh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mr,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mr,Hr]}],"underline-offset":[{"underline-offset":["auto",mr,xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),_L]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[mr,xe]}],"outline-w":[{outline:[mr,Hr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[mr,Hr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Wr,PL]}],"shadow-color":[{shadow:[ea]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Wr,xe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Jo,xe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mr,Hr,Oh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IL=mL(RL);function W(...t){return IL(Dk(t))}const mt=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:W("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));mt.displayName="Card";const dr=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:W("flex flex-col space-y-1.5 p-4 md:p-6",t),...e}));dr.displayName="CardHeader";const zr=y.forwardRef(({className:t,children:e,...n},r)=>d.jsx("h3",{ref:r,className:W("text-lg font-semibold leading-none tracking-tight",t),...n,children:e}));zr.displayName="CardTitle";const yd=y.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:W("text-sm text-muted-foreground",t),...e}));yd.displayName="CardDescription";const Wt=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:W("p-4 md:p-6 pt-0",t),...e}));Wt.displayName="CardContent";const OL=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:W("flex items-center p-4 md:p-6 pt-0",t),...e}));OL.displayName="CardFooter";const Hk=t=>new Intl.NumberFormat("ru-RU",t),Sr=(t,e=2)=>t===null||typeof t>"u"||isNaN(t)?"-":Hk({minimumFractionDigits:0,maximumFractionDigits:e}).format(t),pi=(t,e="",n=!0)=>{if(t===null||typeof t>"u"||isNaN(t))return"-";const r=t/100,s=Hk({minimumFractionDigits:2,maximumFractionDigits:2}).format(r);return n&&e?`${s} ${e}`:s};function ic(t){if(!t)return null;let e=t;e=e.replace(/\s*\(.*\)\s*/g," "),e=e.replace(/^["]|["]$/g,""),e=e.replace(/["]/g,"");const n=["ORD SHS","ORD","SHS","","","","","","","","PLC","GDR"];for(const i of n){const s=new RegExp(`\\s+${i}(?:\\b|$)`,"i");e=e.replace(s,"")}const r=["","","i"];for(const i of r){const s=new RegExp(`^${i}(?:\\s+|(?=[A-Z-]))`,"i");e=e.replace(s,"")}return e=e.trim().replace(/\s{2,}/g," "),!e||e.length<2||/^[^a-zA-Z--0-9]+$/.test(e)?null:e}function Co(t){var s;if(!t)return"N/A";if(t.displayName)return t.displayName;const e=(s=t.assetType)==null?void 0:s.title,n=t.title,r=t.shortName,i=t.ticker||"N/A";try{if(e==="currency_pair"){const l=/([A-Z]{3})\/([-]{3})/i,c=(i==null?void 0:i.match(l))||(n==null?void 0:n.match(l));if(c&&c[0])return c[0].toUpperCase();const u=n==null?void 0:n.replace(//i,"").replace(/[-_]/g," ").replace(/\s+/g," ").trim();return u&&u.includes("/")?u:i}if(e==="fund_share"){const l=" ",c=" ";let u=n||r;return u!=null&&u.startsWith(l)?u.substring(l.length).trim():u!=null&&u.startsWith(c)?u.substring(c.length).trim():ic(n)||ic(r)||i}if(e==="currency")return n||r||i;const o=ic(r);if(o)return o;const a=ic(n);return a||i}catch(o){return F.error("Error formatting asset name:",t,o),i}}const St=({value:t,currencySymbol:e="",showSign:n=!1,showColor:r=!1,includeSymbol:i=!0,className:s,valueClassName:o,signClassName:a,placeholder:l=""})=>{if(t===null||typeof t>"u"||isNaN(t))return d.jsx("span",{className:W("text-muted-foreground",s),children:l});const c=pi(t,null,!1);if(c==="-")return d.jsx("span",{className:W("text-muted-foreground",s),children:l});const u=t>0,h=t<0,f=n&&u?"+":"",p=r?u?"text-success":h?"text-destructive":"text-foreground":"";return d.jsxs("span",{className:W("inline-flex items-baseline tabular-nums-font",p,s),children:[f&&d.jsx("span",{className:W(a),children:f}),d.jsx("span",{className:W("font-medium",o),children:c}),i&&e&&d.jsx("span",{className:W("ml-0.5 text-xs align-baseline",r&&p?p:"text-muted-foreground"),children:e})]})};function eo(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const LL=(t,e)=>{let n=null;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>{t(...r),n=null},e)}},$L=3e4,DL=300,da=new Map;let zL=0;const FL=()=>`price-sub-${zL++}`,$x=()=>{const t=new Set;return da.forEach(e=>{e.forEach(n=>t.add(n))}),t},Lh=ur((t,e)=>({prices:new Map,neededTickers:new Set,isLoading:!1,error:null,lastFetchTime:null,fetchIntervalId:null,isPollingActive:!1,_debouncedFetchOnSubscriptionChange:LL(()=>{const{neededTickers:n,_fetchPricesInternal:r}=e(),i=Array.from(n);console.log(`[PriceStore _debouncedFetchOnSubscriptionChange] Triggered. Needed: ${i.length}`),i.length>0&&r(i,!1)},DL),subscribeTickers:(n,r)=>{const i=new Set(r.filter(o=>o&&o!=="RUB")),s=da.get(n);if(!s||!eo(s,i)){console.log(`[PriceStore subscribeTickers] Updating subscription for ${n} with ${i.size} tickers.`),da.set(n,i);const o=$x(),a=e().neededTickers;eo(a,o)?(console.log("[PriceStore subscribeTickers] neededTickers set did not change."),e()._checkPollingStatus()):(t({neededTickers:o}),e()._debouncedFetchOnSubscriptionChange(),e()._checkPollingStatus())}else console.log(`[PriceStore subscribeTickers] No change for ${n}, skipping update.`),e()._checkPollingStatus()},unsubscribeTickers:n=>{if(da.delete(n)){console.log(`[PriceStore unsubscribeTickers] Removed subscription for ${n}.`);const r=$x(),i=e().neededTickers;eo(i,r)?(console.log("[PriceStore unsubscribeTickers] neededTickers set did not change."),e()._checkPollingStatus()):(t({neededTickers:r}),e()._checkPollingStatus())}},_fetchPricesInternal:async(n,r=!1)=>{if(e().isLoading&&!r){console.log("[PriceStore _fetchPricesInternal] Non-poll fetch skipped, already loading.");return}if(!n||n.length===0){console.log("[PriceStore _fetchPricesInternal] No tickers provided to fetch."),e().isLoading&&!r&&t({isLoading:!1});return}r||t({isLoading:!0,error:null}),console.log(`[PriceStore _fetchPricesInternal] Fetching ${n.length} tickers... (isPoll: ${r})`);try{const i=await TO(n),s=Date.now();i.isSuccess&&i.resultObject?t(o=>{const a=new Map(o.prices);return i.resultObject.forEach(l=>a.set(l.ticker,l)),console.log(`[PriceStore _fetchPricesInternal] Success. Updated ${i.resultObject.length} prices. Total cached: ${a.size}`),{prices:a,isLoading:r?o.isLoading:!1,error:null,lastFetchTime:s}}):(console.warn("[PriceStore _fetchPricesInternal] Fetch failed:",i.errorMessage),t(o=>({error:i.errorMessage||"Failed to load prices",isLoading:r?o.isLoading:!1,lastFetchTime:s})))}catch(i){console.error("[PriceStore _fetchPricesInternal] Exception:",i),t(s=>({error:i.message||"Failed to fetch prices",isLoading:r?s.isLoading:!1,lastFetchTime:Date.now()}))}},_checkPollingStatus:()=>{const{neededTickers:n,fetchIntervalId:r,isPollingActive:i}=e(),s=n.size>0;if(s&&!i){console.log("[PriceStore _checkPollingStatus] Starting polling.");const o=setInterval(()=>{const a=e().neededTickers;a.size>0?e()._fetchPricesInternal(Array.from(a),!0):(console.warn("[PriceStore poll interval] No tickers needed, but interval still running. Stopping."),e()._checkPollingStatus())},$L);t({fetchIntervalId:o,isPollingActive:!0})}else!s&&i&&(console.log("[PriceStore _checkPollingStatus] Stopping polling."),r&&clearInterval(r),t({fetchIntervalId:null,isPollingActive:!1}))},clearAll:()=>{console.log("[PriceStore clearAll] Clearing all subscriptions and prices, stopping polling.");const{fetchIntervalId:n}=e();n&&clearInterval(n),da.clear(),t({prices:new Map,neededTickers:new Set,isLoading:!1,error:null,lastFetchTime:null,fetchIntervalId:null,isPollingActive:!1})}})),{useDebugValue:BL}=Le,{useSyncExternalStoreWithSelector:VL}=NS,UL=t=>t;function HL(t,e=UL,n){const r=VL(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return BL(r),r}const xd=t=>{const e=y.useRef(FL()).current,n=y.useMemo(()=>t.filter(c=>typeof c=="string"&&c!=="RUB"),[t]),r=Lh.getState().subscribeTickers,i=Lh.getState().unsubscribeTickers,{storePrices:s,isLoading:o,error:a}=HL(Lh,c=>({storePrices:c.prices,isLoading:c.isLoading,error:c.error}),eo);return y.useEffect(()=>(console.log(`[useAssetPrices Effect ${e}] Running effect. Subscribing to:`,n),r(e,n),()=>{console.log(`[useAssetPrices Cleanup ${e}] Unsubscribing.`),i(e)}),[e,n,r,i]),{prices:y.useMemo(()=>{const c=new Map;return n.forEach(u=>{s.has(u)&&c.set(u,s.get(u))}),c},[n,s]),isLoading:o,error:a}},Wk=()=>{const{accounts:t}=ir(),e=y.useMemo(()=>{if(!t)return[];const l=new Set;return t.forEach(c=>{var u;(u=c.portfolioItems)==null||u.forEach(h=>{var f;(f=h.asset)!=null&&f.ticker&&h.asset.ticker!=="RUB"&&l.add(h.asset.ticker)})}),Array.from(l)},[t]),{prices:n,isLoading:r,error:i}=xd(e),s=y.useCallback((l,c)=>{let u=0,h=0,f=0;return Array.isArray(l)?(l.forEach(g=>{if(!(g!=null&&g.asset))return;const m=g.asset.ticker,w=g.quantity||0,v=g.averagePriceCopecks??0;if(m==="RUB")u=w;else{const x=c.get(m);if(x){const b=x.price*100,S=b*w;if(h+=S,v>0){const k=(b-v)*w;f+=k}}}}),{totalValue:u+h,totalProfitLoss:f}):{totalValue:0,totalProfitLoss:0}},[]),o=y.useCallback(l=>{const c=t==null?void 0:t.find(u=>{var h;return((h=u.brokerAccount)==null?void 0:h.id)===l});return c?s(c.portfolioItems,n):{totalValue:0,totalProfitLoss:0}},[t,n,s]),a=y.useMemo(()=>{if(!t)return 0;let l=0;return t.forEach(c=>{var u;if((u=c==null?void 0:c.brokerAccount)!=null&&u.id){const h=s(c.portfolioItems,n);l+=h.totalValue}}),l},[t,n,s]);return{prices:n,isPriceLoading:r,priceError:i,getAccountTotals:o,totalPortfolioValue:a,calculateAccountTotals:s}},qk=({count:t,className:e,positionClasses:n="absolute -top-1 -right-1"})=>{if(t<=0)return null;const r=t>9?"9+":t.toString();return d.jsx("span",{className:W("inline-flex items-center justify-center rounded-full bg-red-500 text-white","text-[10px] font-bold leading-none",r.length>1?"px-1 min-w-[18px] h-[18px]":"w-[18px] h-[18px]","ring-2 ring-background",n,e),"aria-label":`${t}  `,children:r})};function Dx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Kk(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Dx(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Dx(t[i],null)}}}}function Pe(...t){return y.useCallback(Kk(...t),t)}var is=y.forwardRef((t,e)=>{const{children:n,...r}=t,i=y.Children.toArray(n),s=i.find(WL);if(s){const o=s.props.children,a=i.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return d.jsx(Lp,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return d.jsx(Lp,{...r,ref:e,children:n})});is.displayName="Slot";var Lp=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const i=KL(n),s=qL(r,n.props);return n.type!==y.Fragment&&(s.ref=e?Kk(e,i):i),y.cloneElement(n,s)}return y.Children.count(n)>1?y.Children.only(null):null});Lp.displayName="SlotClone";var Yk=({children:t})=>d.jsx(d.Fragment,{children:t});function WL(t){return y.isValidElement(t)&&t.type===Yk}function qL(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function KL(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const zx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Fx=Dk,Cg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Fx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=s==null?void 0:s[c];if(u===null)return null;const f=zx(u)||zx(h);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(g=>{let[m,w]=g;return Array.isArray(w)?w.includes({...s,...a}[m]):{...s,...a}[m]===w})?[...c,h,f]:c},[]);return Fx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},jl=Cg("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",success:"bg-success text-success-foreground hover:bg-success/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?is:"button";return d.jsx(o,{className:W(jl({variant:e,size:n,className:t})),ref:s,...i})});Se.displayName="Button";const Bx=()=>d.jsxs(mt,{className:"rounded-xl border border-border/60 bg-card shadow-md animate-pulse",children:[" ",d.jsxs("div",{className:"p-5 space-y-5",children:[" ",d.jsxs("div",{className:"flex items-center justify-between",children:[" ",d.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[" ",d.jsx("div",{className:"flex-shrink-0 h-9 w-9 bg-muted rounded-lg"})," ",d.jsx("div",{className:"h-5 bg-muted rounded w-3/5"})," "]})," ",d.jsx("div",{className:"flex-shrink-0 h-6 w-16 bg-muted rounded-md ml-2"})," "]})," ",d.jsxs("div",{className:"flex items-end justify-between gap-4 pt-1",children:[" ",d.jsxs("div",{className:"space-y-2",children:[" ",d.jsx("div",{className:"h-9 bg-muted rounded w-32"})," "]})," ",d.jsxs("div",{className:"text-right flex flex-col items-end flex-shrink-0",children:[" ",d.jsx("div",{className:"h-6 bg-muted rounded w-24 mb-1"})," ",d.jsx("div",{className:"h-4 bg-muted rounded w-16"})," "]})," "]})," "]})," "]}),YL=()=>{const{accounts:t,isLoading:e,error:n,fetchPortfolio:r}=ir(),i=ct(),{getAccountTotals:s,isPriceLoading:o}=Wk(),{unreadCount:a,notificationsEnabled:l}=mn(h=>({unreadCount:h.unreadCount,notificationsEnabled:h.notificationsEnabled}));F.log("[AccountsListPage] Rendering. notificationsEnabled:",l,"unreadCount:",a),y.useEffect(()=>{t===null&&!e&&!n&&r()},[t,e,n,r]);const c=h=>{typeof h=="number"&&i(`/portfolio/${h}`)},u=()=>{F.log("[AccountsListPage] Navigating to /notifications"),i("/notifications")};return e&&t===null?d.jsxs("div",{className:"p-4 space-y-5 pb-24",children:[d.jsxs("div",{className:"flex justify-between items-center mb-5 px-1",children:[d.jsx("h1",{className:"text-2xl font-semibold text-foreground tracking-tight",children:" "}),d.jsx("div",{className:"h-9 w-9 bg-muted rounded-full animate-pulse"})]}),d.jsx(Bx,{}),d.jsx(Bx,{})]}):t===null&&n?d.jsx("div",{className:"p-6 pt-10",children:d.jsx(ft,{message:`   : ${n}`})}):!e&&(t==null?void 0:t.length)===0?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-8rem)] p-6 text-center",children:[d.jsx(Ix,{className:"w-16 h-16 text-muted-foreground mb-4",strokeWidth:1}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"    ."})]}):d.jsxs("div",{className:"p-4 space-y-4 pb-24",children:[d.jsxs("div",{className:"flex justify-between items-center mb-5 px-1",children:[d.jsx("h1",{className:"text-2xl font-semibold text-foreground tracking-tight",children:" "}),d.jsxs(Se,{variant:"ghost",size:"icon",className:"relative h-9 w-9 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted/50",onClick:u,"aria-label":` (${l?a:0} )`,children:[d.jsx(Ip,{className:"h-5 w-5"}),l&&d.jsx(qk,{count:a,positionClasses:"absolute top-0 right-0"})]})]}),o&&t&&t.length>0&&d.jsx("div",{className:"fixed top-4 right-4 p-1 bg-card/80 rounded-full shadow z-20 animate-pulse backdrop-blur-sm",children:d.jsx(Ce,{size:"sm"})}),Array.isArray(t)&&t.map(h=>{var k;if(!((k=h==null?void 0:h.brokerAccount)!=null&&k.id))return null;const f=h.brokerAccount.id,{totalValue:p,totalProfitLoss:g}=s(f);let m=0;h.portfolioItems&&h.portfolioItems.forEach(C=>{var _;((_=C.asset)==null?void 0:_.ticker)!=="RUB"&&C.averagePriceCopecks&&C.averagePriceCopecks>0&&C.quantity&&C.quantity>0&&(m+=C.averagePriceCopecks*C.quantity)});const w=m>0?g/m*100:0,v=g>0,x=g<0,b=v?"text-success":x?"text-destructive":"text-muted-foreground",S=(h.brokerAccount.title||` #${f}`).replace(/["]/g,"");return d.jsx("div",{onClick:()=>c(f),className:"cursor-pointer group",children:d.jsx(mt,{className:W("rounded-xl border border-border/60 bg-card text-card-foreground shadow-md overflow-hidden","group-hover:border-primary/50 group-hover:shadow-md transition-all duration-200 group-active:scale-[0.98]"),children:d.jsxs(dr,{className:"p-5 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[d.jsxs("div",{className:"flex-shrink-0 grid place-items-center h-9 w-9 bg-primary/10 text-primary rounded-lg",children:[" ",t.length>1?d.jsx(Ix,{size:20,strokeWidth:1.75}):d.jsx(nL,{size:20,strokeWidth:1.75})," "]}),d.jsxs("div",{className:"min-w-0",children:[" ",d.jsx("h3",{className:"text-lg font-medium text-foreground truncate",children:S})," "]})]}),d.jsxs("span",{className:"flex-shrink-0 text-xs font-medium bg-muted/70 text-muted-foreground/90 px-2.5 py-1 rounded-md ml-2",children:[" ID:",f," "]})]}),d.jsxs("div",{className:"flex items-baseline justify-between gap-2 pt-1",children:[d.jsx("div",{className:"text-3xl text-foreground tracking-tight leading-none",children:d.jsx(St,{value:p})}),d.jsxs("div",{className:W("text-right flex flex-col items-end flex-shrink-0",b),children:[d.jsxs("div",{className:"text-base font-medium",children:[" ",g!==0?d.jsx(St,{value:g,showSign:!0}):d.jsx("span",{children:""})," "]}),d.jsxs("span",{className:"text-sm opacity-90 mt-0.5",children:[" (",Sr(w,2),"%) "]})]})]})]})})},f)})]})},GL="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-landmark'%3e%3cline%20x1='3'%20x2='21'%20y1='22'%20y2='22'/%3e%3cline%20x1='6'%20x2='6'%20y1='18'%20y2='11'/%3e%3cline%20x1='10'%20x2='10'%20y1='18'%20y2='11'/%3e%3cline%20x1='14'%20x2='14'%20y1='18'%20y2='11'/%3e%3cline%20x1='18'%20x2='18'%20y1='18'%20y2='11'/%3e%3cpolygon%20points='12%202%2020%207%204%207'/%3e%3c/svg%3e",ZL=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper Proxy] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},XL=(t,e)=>{var r,i;console.error(`[API Error Handler Proxy] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},QL=async t=>{var r;const e="Failed to fetch proxied image.";if(!t)return console.warn("[API/Proxy] fetchProxiedImageBase64 called with empty URL."),{isSuccess:!1,errorMessage:"Image URL is required.",resultObject:null};console.log(`[API/Proxy] Requesting Base64 for URL: ${t}`);const n={PictureUrl:t};try{const i=await et.post("/api/Proxy/DownloadPictureBase64",n);return console.log(`[API/Proxy] Response for ${t}: Success=${(r=i==null?void 0:i.data)==null?void 0:r.isSuccess}`),ZL(i,e)}catch(i){return XL(i,e)}},wd=({logoUrl:t,ticker:e,className:n="h-8 w-8 rounded-full"})=>{const[r,i]=y.useState(t||null),[s,o]=y.useState(!1),[a,l]=y.useState(null),[c,u]=y.useState(!1);y.useEffect(()=>{i(t||null),o(!1),l(null),u(!1),console.log(`[AssetIcon Effect] logoUrl changed for ${e}. Reset state. New URL: ${t}`)},[t,e]);const h=y.useCallback(()=>{if(console.log(`[AssetIcon handleError] Direct load failed for: ${t}`),c||s||!t){console.log(`[AssetIcon handleError] Aborting fallback: attemptedProxy=${c}, isLoadingProxy=${s}, no logoUrl=${!t}`),c&&!s&&(l(p=>p||"Direct load failed, proxy attempt already made or failed."),i(null));return}u(!0),o(!0),l(null),console.log(`[AssetIcon handleError] Attempting proxy load for: ${t}`),QL(t).then(p=>{if(p.isSuccess&&p.resultObject){console.log(`[AssetIcon handleError] Proxy load successful for: ${t}. Setting Data URL.`);const g=`data:image/png;base64,${p.resultObject}`;i(g),l(null)}else{const g=p.errorMessage||"Proxy fetch failed";console.warn(`[AssetIcon handleError] Proxy load failed for ${t}: ${g}`),l(g),i(null)}}).catch(p=>{const g=p.message||"Proxy network error";console.error(`[AssetIcon handleError] Proxy fetch exception for ${t}:`,p),l(g),i(null)}).finally(()=>{o(!1)})},[t,c,s]);if(s)return d.jsx("div",{className:W(n,"flex items-center justify-center bg-muted border border-border"),children:d.jsx(Ce,{size:"sm"})});if(r)return d.jsx("img",{src:r,alt:e?`${e} logo`:"Asset Logo",onError:r.startsWith("data:")?void 0:h,className:W(n,"object-cover"),loading:"lazy"},r.startsWith("data:")?"data-url":r);const f=a?`    (${e||"N/A"}): ${a}`:e?` ${e}`:" ";return d.jsx("img",{src:GL,alt:e?`Fallback icon for ${e}`:"Fallback Asset Icon",title:f,className:W(n,"object-contain p-1 bg-muted border border-border opacity-70")})},Eg=({asset:t,showLotSize:e=!0,className:n,nameClassName:r="text-sm font-medium",tickerClassName:i="text-xs",iconClassName:s="h-8 w-8 rounded-full flex-shrink-0"})=>{if(!t)return d.jsxs("div",{className:W("flex items-center space-x-2 animate-pulse",n),children:[d.jsx("div",{className:W("bg-muted",s)}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("div",{className:"h-3 w-24 rounded bg-muted"}),d.jsx("div",{className:"h-2.5 w-16 rounded bg-muted"})]})]});const o=Co(t);return d.jsxs("div",{className:W("flex items-center space-x-2 min-w-0",n),children:[d.jsx(wd,{logoUrl:t.logoUrl,ticker:t.ticker,className:s}),d.jsxs("div",{className:"overflow-hidden min-w-0",children:[d.jsx("p",{className:W("font-medium",r),title:t.title||t.shortName||t.ticker,children:o}),d.jsxs("p",{className:W("text-muted-foreground uppercase",i),children:[t.ticker,e&&t.lotSize>1&&d.jsxs("span",{className:"ml-1 normal-case opacity-70",children:["",Sr(t.lotSize,0)]})]})]})]})},JL=({item:t,currentPriceInfo:e})=>{const n=ct(),r=cn();if(!t||!t.asset)return d.jsx("div",{className:"p-4 text-muted-foreground",children:":    ."});const{asset:i,quantity:s,averagePriceCopecks:o}=t,a=e?Math.round(e.price*100):null,l=a!==null?a*s:null,c=o!==null?o*s:null,u=l!==null&&c!==null&&c>0?l-c:null,h=c&&c>0&&u!==null?u/c*100:null,f=u!==null&&u>0,p=u!==null&&u<0,g=f?"text-success":p?"text-destructive":"text-muted-foreground",m=()=>{i.id&&n(`/asset/${i.id}`,{state:{from:r.pathname}})};return d.jsxs("div",{className:"flex items-start justify-between py-1.5 px-2 space-x-2  cursor-pointer hover:bg-muted/50 transition-colors",onClick:m,role:"button",tabIndex:0,onKeyDown:w=>(w.key==="Enter"||w.key===" ")&&m(),children:[d.jsxs("div",{className:"flex-grow min-w-0",children:[" ",d.jsx(Eg,{asset:i,showLotSize:!1,className:"w-full",iconClassName:"h-8 w-8 rounded-full flex-shrink-0",nameClassName:"text-sm font-medium",tickerClassName:"text-xs"}),o!==null&&o>0&&d.jsxs("div",{className:"pl-10 -mt-1",children:[" ",d.jsxs("span",{className:"text-xs text-muted-foreground",children:[": ",d.jsx(St,{value:o,className:"font-normal"})]})]})]}),d.jsxs("div",{className:"text-right flex-shrink-0 ml-2 min-w-[90px] pt-1",children:[l!==null?d.jsx(St,{value:l,className:"text-sm font-medium tabular-nums-font"}):e===void 0?d.jsx(Ce,{size:"sm"}):d.jsx("span",{className:"text-xs text-muted-foreground",children:""}),u!==null?d.jsxs("div",{className:W("text-xs tabular-nums-font mt-0.5",g),children:[d.jsx(St,{value:u,showSign:!0,placeholder:pi(0)}),h!==null&&h!==0&&d.jsxs("span",{className:"ml-1 opacity-80",children:["(",Sr(h,1),"%)"]})]}):l!==null&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5 tabular-nums-font",children:[pi(0)," (0%)"]})]})]})};function e$(t,e){const n=y.createContext(e),r=s=>{const{children:o,...a}=s,l=y.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function It(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=h=>{var v;const{scope:f,children:p,...g}=h,m=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,w=y.useMemo(()=>g,Object.values(g));return d.jsx(m.Provider,{value:w,children:p})};c.displayName=s+"Provider";function u(h,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[l])||a,g=y.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,t$(i,...e)]}function t$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function bd(t){const e=t+"CollectionProvider",[n,r]=It(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:m}=p,w=Le.useRef(null),v=Le.useRef(new Map).current;return d.jsx(i,{scope:g,itemMap:v,collectionRef:w,children:m})};o.displayName=e;const a=t+"CollectionSlot",l=Le.forwardRef((p,g)=>{const{scope:m,children:w}=p,v=s(a,m),x=Pe(g,v.collectionRef);return d.jsx(is,{ref:x,children:w})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",h=Le.forwardRef((p,g)=>{const{scope:m,children:w,...v}=p,x=Le.useRef(null),b=Pe(g,x),S=s(c,m);return Le.useEffect(()=>(S.itemMap.set(x,{ref:x,...v}),()=>void S.itemMap.delete(x))),d.jsx(is,{[u]:"",ref:b,children:w})});h.displayName=c;function f(p){const g=s(t+"CollectionConsumer",p);return Le.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((S,k)=>v.indexOf(S.ref.current)-v.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function At(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function bn({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=n$({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=At(n),l=y.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function n$({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,i=y.useRef(r),s=At(e);return y.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var r$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ae=r$.reduce((t,e)=>{const n=y.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?is:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Gk(t,e){t&&ps.flushSync(()=>t.dispatchEvent(e))}var st=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function i$(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Fr=t=>{const{present:e,children:n}=t,r=s$(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=Pe(r.ref,o$(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};Fr.displayName="Presence";function s$(t){const[e,n]=y.useState(),r=y.useRef({}),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=i$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=sc(r.current);s.current=a==="mounted"?c:"none"},[a]),st(()=>{const c=r.current,u=i.current;if(u!==t){const f=s.current,p=sc(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),st(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=p=>{const m=sc(r.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=p=>{p.target===e&&(s.current=sc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function sc(t){return(t==null?void 0:t.animationName)||"none"}function o$(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var a$=cb.useId||(()=>{}),l$=0;function tr(t){const[e,n]=y.useState(a$());return st(()=>{n(r=>r??String(l$++))},[t]),e?`radix-${e}`:""}var _g="Collapsible",[c$,Zk]=It(_g),[u$,Ng]=c$(_g),Xk=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[l=!1,c]=bn({prop:r,defaultProp:i,onChange:o});return d.jsx(u$,{scope:n,disabled:s,contentId:tr(),open:l,onOpenToggle:y.useCallback(()=>c(u=>!u),[c]),children:d.jsx(ae.div,{"data-state":Pg(l),"data-disabled":s?"":void 0,...a,ref:e})})});Xk.displayName=_g;var Qk="CollapsibleTrigger",Jk=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=Ng(Qk,n);return d.jsx(ae.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Pg(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:le(t.onClick,i.onOpenToggle)})});Jk.displayName=Qk;var Tg="CollapsibleContent",eC=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ng(Tg,t.__scopeCollapsible);return d.jsx(Fr,{present:n||i.open,children:({present:s})=>d.jsx(d$,{...r,ref:e,present:s})})});eC.displayName=Tg;var d$=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=Ng(Tg,n),[a,l]=y.useState(r),c=y.useRef(null),u=Pe(e,c),h=y.useRef(0),f=h.current,p=y.useRef(0),g=p.current,m=o.open||a,w=y.useRef(m),v=y.useRef(void 0);return y.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),st(()=>{const x=c.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const b=x.getBoundingClientRect();h.current=b.height,p.current=b.width,w.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),l(r)}},[o.open,r]),d.jsx(ae.div,{"data-state":Pg(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...s,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:m&&i})});function Pg(t){return t?"open":"closed"}var h$=Xk,f$=Jk,p$=eC,m$=y.createContext(void 0);function Ml(t){const e=y.useContext(m$);return t||e||"ltr"}var Br="Accordion",g$=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ag,v$,y$]=bd(Br),[Sd,f8]=It(Br,[y$,Zk]),jg=Zk(),tC=Le.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return d.jsx(Ag.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?d.jsx(S$,{...s,ref:e}):d.jsx(b$,{...i,ref:e})})});tC.displayName=Br;var[nC,x$]=Sd(Br),[rC,w$]=Sd(Br,{collapsible:!1}),b$=Le.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,l]=bn({prop:n,defaultProp:r,onChange:i});return d.jsx(nC,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:Le.useCallback(()=>s&&l(""),[s,l]),children:d.jsx(rC,{scope:t.__scopeAccordion,collapsible:s,children:d.jsx(iC,{...o,ref:e})})})}),S$=Le.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=bn({prop:n,defaultProp:r,onChange:i}),l=Le.useCallback(u=>a((h=[])=>[...h,u]),[a]),c=Le.useCallback(u=>a((h=[])=>h.filter(f=>f!==u)),[a]);return d.jsx(nC,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:d.jsx(rC,{scope:t.__scopeAccordion,collapsible:!0,children:d.jsx(iC,{...s,ref:e})})})}),[k$,kd]=Sd(Br),iC=Le.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=Le.useRef(null),l=Pe(a,e),c=v$(n),h=Ml(i)==="ltr",f=le(t.onKeyDown,p=>{var T;if(!g$.includes(p.key))return;const g=p.target,m=c().filter(j=>{var R;return!((R=j.ref.current)!=null&&R.disabled)}),w=m.findIndex(j=>j.ref.current===g),v=m.length;if(w===-1)return;p.preventDefault();let x=w;const b=0,S=v-1,k=()=>{x=w+1,x>S&&(x=b)},C=()=>{x=w-1,x<b&&(x=S)};switch(p.key){case"Home":x=b;break;case"End":x=S;break;case"ArrowRight":s==="horizontal"&&(h?k():C());break;case"ArrowDown":s==="vertical"&&k();break;case"ArrowLeft":s==="horizontal"&&(h?C():k());break;case"ArrowUp":s==="vertical"&&C();break}const _=x%v;(T=m[_].ref.current)==null||T.focus()});return d.jsx(k$,{scope:n,disabled:r,direction:i,orientation:s,children:d.jsx(Ag.Slot,{scope:n,children:d.jsx(ae.div,{...o,"data-orientation":s,ref:l,onKeyDown:r?void 0:f})})})}),Au="AccordionItem",[C$,Mg]=Sd(Au),sC=Le.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=kd(Au,n),o=x$(Au,n),a=jg(n),l=tr(),c=r&&o.value.includes(r)||!1,u=s.disabled||t.disabled;return d.jsx(C$,{scope:n,open:c,disabled:u,triggerId:l,children:d.jsx(h$,{"data-orientation":s.orientation,"data-state":dC(c),...a,...i,ref:e,disabled:u,open:c,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});sC.displayName=Au;var oC="AccordionHeader",aC=Le.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=kd(Br,n),s=Mg(oC,n);return d.jsx(ae.h3,{"data-orientation":i.orientation,"data-state":dC(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});aC.displayName=oC;var $p="AccordionTrigger",lC=Le.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=kd(Br,n),s=Mg($p,n),o=w$($p,n),a=jg(n);return d.jsx(Ag.ItemSlot,{scope:n,children:d.jsx(f$,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});lC.displayName=$p;var cC="AccordionContent",uC=Le.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=kd(Br,n),s=Mg(cC,n),o=jg(n);return d.jsx(p$,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});uC.displayName=cC;function dC(t){return t?"open":"closed"}var E$=tC,_$=sC,N$=aC,hC=lC,fC=uC;const T$=E$,pC=y.forwardRef(({className:t,...e},n)=>d.jsx(_$,{ref:n,className:W("",t),...e}));pC.displayName="AccordionItem";const mC=y.forwardRef(({className:t,children:e,...n},r)=>d.jsx(N$,{className:"flex",children:d.jsx(hC,{ref:r,className:W("flex flex-1 items-center justify-between font-medium transition-all",t),...n,children:e})}));mC.displayName=hC.displayName;const gC=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(fC,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:[d.jsx("div",{className:W("",t),children:e})," "]}));gC.displayName=fC.displayName;const ha="  ",P$="",A$="",j$="",Vx="",M$=(t,e,n)=>{const r={};t.forEach(l=>{if(!l.asset)return;const c=l.asset.assetTypeId,u=l.asset.ticker;let h=Vx;if(u==="RUB")h=ha;else if(c){const g=e.get(c);g&&(g.id===1||g.id===2||g.title==="currency"||g.title==="currency_pair"?h=ha:g.id===3||g.title==="stock"?h=P$:g.id===4||g.title==="fund_share"?h=A$:g.id===5||g.title==="bond"?h=j$:h=g.description||Vx)}r[h]||(r[h]={items:[],groupTotalValue:0}),r[h].items.push(l);const f=n.get(l.asset.ticker),p=l.quantity||0;if(u==="RUB")h===ha&&(r[h].groupTotalValue+=p);else if(f&&p>0){const m=f.price*100*p;r[h].groupTotalValue+=m}}),Object.keys(r).forEach(l=>{r[l].items.sort((c,u)=>{var p,g;if(c.asset.ticker==="RUB")return-1;if(u.asset.ticker==="RUB")return 1;const h=(((p=n.get(c.asset.ticker))==null?void 0:p.price)??0)*100*(c.quantity??0);return(((g=n.get(u.asset.ticker))==null?void 0:g.price)??0)*100*(u.quantity??0)-h})});const i=Object.entries(r);let s;const o=[];i.forEach(l=>{l[0]===ha?s=l:o.push(l)}),o.sort(([,l],[,c])=>c.groupTotalValue-l.groupTotalValue);const a=[];return s&&a.push(s),a.push(...o),a},R$=({portfolioItems:t,assetTypesMap:e,prices:n,isPriceLoading:r,priceError:i})=>{const s=y.useMemo(()=>M$(t,e,n),[t,e,n]),o=t.length>0;return d.jsxs("div",{className:"space-y-3",children:[i&&d.jsx(ft,{message:`  : ${i}`,className:"mx-4 mb-3"}),!i&&!o&&!r&&d.jsx("p",{className:"p-4 pt-10 text-center text-muted-foreground",children:"   ."}),!i&&s.length>0&&d.jsx(T$,{type:"multiple",defaultValue:s.map(([a])=>a),className:"w-full space-y-3",children:s.map(([a,l])=>{const{items:c,groupTotalValue:u}=l,h=a!==ha||c.some(f=>{var p;return((p=f.asset)==null?void 0:p.ticker)!=="RUB"});return c.length===0?null:d.jsx(mt,{className:"border border-border/60 rounded-lg shadow-sm overflow-hidden",children:d.jsxs(pC,{value:a,className:"border-none",children:[d.jsx(mC,{className:W("px-4 py-3 text-sm font-medium border-b cursor-pointer","hover:bg-muted/30 active:bg-muted/50","data-[state=open]:bg-muted/20"),children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsx("span",{className:"text-base font-medium",children:a}),h&&d.jsx("div",{className:"text-right flex-shrink-0",children:d.jsx(St,{value:u,className:"text-base font-medium"})})]})}),d.jsx(gC,{className:"p-0",children:d.jsx("div",{className:"divide-y divide-border",children:c.map(f=>{var p;return((p=f.asset)==null?void 0:p.ticker)==="RUB"?d.jsxs("div",{className:"flex items-center justify-between p-2 space-x-3",children:[d.jsx(Eg,{asset:f.asset,showLotSize:!1,className:"flex-grow min-w-0",iconClassName:"h-8 w-8 rounded-full flex-shrink-0",nameClassName:"text-sm font-medium",tickerClassName:"text-xs"}),d.jsx("div",{className:"text-right flex-shrink-0 ml-2",children:d.jsx(St,{value:f.quantity,className:"text-base font-medium"})})]},f.id):f.asset&&d.jsx(JL,{item:f,currentPriceInfo:n.get(f.asset.ticker)},f.id)})})})]})},a)})}),r&&o&&d.jsx("div",{className:"flex justify-center p-4",children:d.jsx(Ce,{size:"sm"})})]})};var Qw;const Ae=typeof window<"u"?(Qw=window.Telegram)==null?void 0:Qw.WebApp:void 0;function qt(){var n,r;return{onClose:()=>{Ae==null||Ae.close()},onToggleButton:()=>{Ae!=null&&Ae.MainButton.isVisible?Ae==null||Ae.MainButton.hide():Ae==null||Ae.MainButton.show()},tg:Ae,user:(n=Ae==null?void 0:Ae.initDataUnsafe)==null?void 0:n.user,initDataUnsafe:Ae==null?void 0:Ae.initDataUnsafe,initData:Ae==null?void 0:Ae.initData,queryId:(r=Ae==null?void 0:Ae.initDataUnsafe)==null?void 0:r.query_id,themeParams:Ae==null?void 0:Ae.themeParams,colorScheme:Ae==null?void 0:Ae.colorScheme}}const I$=()=>{const{accountId:t}=gs(),e=Number(t),n=ct(),{accounts:r,isLoading:i,error:s}=ir(),{prices:o,isPriceLoading:a,priceError:l,getAccountTotals:c}=Wk(),[u,h]=y.useState(new Map),[f,p]=y.useState(!0),[g,m]=y.useState(null),{tg:w}=qt(),v=y.useMemo(()=>{if(!(!r||!e))return r.find(j=>{var R;return((R=j.brokerAccount)==null?void 0:R.id)===e})},[r,e]),{totalValue:x,totalProfitLoss:b}=y.useMemo(()=>!e||!c?{totalValue:0,totalProfitLoss:0}:c(e),[e,c]);if(y.useEffect(()=>{let j=!0;return p(!0),m(null),bk().then(R=>{j&&(R.isSuccess&&R.resultObject?h(new Map(R.resultObject.map(O=>[O.id,O]))):(F.error("Failed to load types:",R.errorMessage),m(R.errorMessage||"Failed to load asset categories.")))}).catch(R=>{j&&(F.error("Error loading types",R),m(R.message||"Error fetching asset categories."))}).finally(()=>{j&&p(!1)}),()=>{j=!1}},[]),y.useEffect(()=>{const j=()=>n("/portfolio");return w&&(w.BackButton.show(),w.onEvent("backButtonClicked",j)),()=>{w&&(w.BackButton.hide(),w.offEvent("backButtonClicked",j))}},[w,n]),i||f)return d.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-10rem)]",children:d.jsx(Ce,{size:"lg"})});if(s)return d.jsx("div",{className:"p-4",children:d.jsx(ft,{message:`   : ${s}`})});if(g)return d.jsx("div",{className:"p-4",children:d.jsx(ft,{message:`   : ${g}`})});if(!(v!=null&&v.brokerAccount))return d.jsxs("div",{className:"p-4 text-center",children:[" ",d.jsx(ft,{message:`  ID ${e}  .`})," "]});let k=0;v.portfolioItems&&v.portfolioItems.forEach(j=>{var R;((R=j.asset)==null?void 0:R.ticker)!=="RUB"&&j.averagePriceCopecks&&j.averagePriceCopecks>0&&j.quantity&&j.quantity>0&&(k+=j.averagePriceCopecks*j.quantity)});const C=k>0?b/k*100:0,_=b>0?"text-success":b<0?"text-destructive":"text-muted-foreground",T=(v.brokerAccount.title||` #${e}`).replace(/["]/g,"");return d.jsxs("div",{className:"p-4 space-y-3 pb-20",children:[d.jsxs("div",{className:"bg-card p-4 rounded-lg shadow-sm space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{className:"flex flex-col text-left",children:[d.jsxs("h2",{className:"text-2xl font-semibold leading-tight",children:[" ",T," "]}),d.jsxs("span",{className:"text-base text-muted-foreground leading-snug",children:[" ",v.brokerAccount.telegramUserId||"ID  "," "]})]}),d.jsxs(Se,{variant:"outline",onClick:()=>n(`/portfolio/${e}/operations`),className:W("flex items-center gap-1.5 min-w-[100px] h-9 px-3 py-1.5","text-sm font-medium rounded-xl","border border-border bg-background hover:bg-muted/50 shadow-sm","flex-shrink-0"),children:[d.jsx(HO,{className:"h-4 w-4"})," "]})]}),d.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[d.jsx("div",{className:"text-3xl tracking-tight leading-none",children:d.jsx(St,{value:x})}),d.jsxs("div",{className:W("text-right flex flex-col items-end",_),children:[d.jsx("div",{className:"text-base font-medium",children:d.jsx(St,{value:b,showSign:!0})}),b!==0&&k>0&&d.jsxs("span",{className:"text-sm opacity-90",children:[" (",Sr(C,2),"%) "]})]})]})]}),d.jsx(R$,{portfolioItems:v.portfolioItems||[],assetTypesMap:u,prices:o,isPriceLoading:a,priceError:l})]})},O$=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},L$=(t,e)=>{var r,i;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},$$=async t=>{const e="Failed to search market operations history.";try{const n=await et.post("/api/BrokerAccountUser/SearchMarketOperationsHistory",t),r=O$(n,e);return r.isSuccess&&r.resultObject?r.resultObject.marketOperations=r.resultObject.marketOperations||[]:r.isSuccess&&!r.resultObject&&(console.warn("[API/History] searchMarketOperationsHistory success but resultObject is null. Normalizing."),r.resultObject={marketOperationHistorySearchParameters:t,foundCount:0,marketOperations:[]}),r}catch(n){return L$(n,e)}},D$=20,Ux={operations:[],selectedAccountIds:[],filterOperationType:null,totalCount:0,currentPage:1,isLoading:!1,error:null,isInitialLoad:!0},z$=ur((t,e)=>({...Ux,setAccountFilter:n=>{const r=n===null?[]:[n];JSON.stringify(e().selectedAccountIds)!==JSON.stringify(r)&&(F.log(`[HistoryStore setAccountFilter] Setting account filter to: ${n===null?"All":n}`),t({selectedAccountIds:r,currentPage:1,isInitialLoad:!0}),e().fetchHistory(1,!1))},setOperationTypeFilter:n=>{e().filterOperationType!==n&&(F.log(`[HistoryStore setOperationTypeFilter] Setting type filter to: ${n}`),t({filterOperationType:n,currentPage:1,isInitialLoad:!0}),e().fetchHistory(1,!1))},fetchHistory:async(n,r=!1)=>{var l;const{selectedAccountIds:i,filterOperationType:s,currentPage:o}=e(),a=n??(r?o+1:1);if(i.length===0&&e().isInitialLoad){F.log("[HistoryStore fetchHistory] No account selected, skipping initial fetch."),t({isLoading:!1,isInitialLoad:!1});return}if(e().isLoading){F.log("[HistoryStore fetchHistory] Fetch skipped, already loading.");return}t(c=>({isLoading:!0,error:null,isInitialLoad:c.isInitialLoad&&!r})),r||t({operations:[],totalCount:0}),F.log(`[HistoryStore fetchHistory] Fetching: accounts=${JSON.stringify(i)}, type=${s}, page=${a}, append=${r}`);try{const c={BrokerAccountIds:i.length>0?i:null,MarketOperationType:s,PageNumber:a,PageItemsCount:D$},u=await $$(c);if(u.isSuccess&&u.resultObject){const h=u.resultObject.marketOperations||[];t(f=>{var p;return{operations:r?[...f.operations,...h]:h,totalCount:((p=u.resultObject)==null?void 0:p.foundCount)??f.totalCount,currentPage:a,isLoading:!1,error:null,isInitialLoad:!1}}),F.log(`[HistoryStore fetchHistory] Success. Fetched ${h.length}. Total: ${((l=u.resultObject)==null?void 0:l.foundCount)??"N/A"}. Current page: ${a}`)}else throw new Error(u.errorMessage||"    .")}catch(c){F.error("[HistoryStore fetchHistory] Fetch error:",c),t(u=>({error:c.message||"  .",isLoading:!1,operations:r?u.operations:[],totalCount:r?u.totalCount:0,currentPage:r?u.currentPage:1,isInitialLoad:!1}))}},goToPage:n=>{e().currentPage!==n&&!e().isLoading&&(F.log(`[HistoryStore goToPage] Going to page: ${n}`),t({currentPage:n}),e().fetchHistory(n,!1))},resetHistory:()=>{F.log("[HistoryStore resetHistory] Resetting state."),t(Ux)}}));function Hx(t,[e,n]){return Math.min(n,Math.max(e,t))}function F$(t,e=globalThis==null?void 0:globalThis.document){const n=At(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var B$="DismissableLayer",Dp="dismissableLayer.update",V$="dismissableLayer.pointerDownOutside",U$="dismissableLayer.focusOutside",Wx,vC=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cd=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(vC),[u,h]=y.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),g=Pe(e,_=>h(_)),m=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(w),x=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=v,k=W$(_=>{const T=_.target,j=[...c.branches].some(R=>R.contains(T));!S||j||(i==null||i(_),o==null||o(_),_.defaultPrevented||a==null||a())},f),C=q$(_=>{const T=_.target;[...c.branches].some(R=>R.contains(T))||(s==null||s(_),o==null||o(_),_.defaultPrevented||a==null||a())},f);return F$(_=>{x===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},f),y.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Wx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),qx(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Wx)}},[u,f,n,c]),y.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),qx())},[u,c]),y.useEffect(()=>{const _=()=>p({});return document.addEventListener(Dp,_),()=>document.removeEventListener(Dp,_)},[]),d.jsx(ae.div,{...l,ref:g,style:{pointerEvents:b?S?"auto":"none":void 0,...t.style},onFocusCapture:le(t.onFocusCapture,C.onFocusCapture),onBlurCapture:le(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:le(t.onPointerDownCapture,k.onPointerDownCapture)})});Cd.displayName=B$;var H$="DismissableLayerBranch",yC=y.forwardRef((t,e)=>{const n=y.useContext(vC),r=y.useRef(null),i=Pe(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),d.jsx(ae.div,{...t,ref:i})});yC.displayName=H$;function W$(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){xC(V$,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function q$(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&xC(U$,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qx(){const t=new CustomEvent(Dp);document.dispatchEvent(t)}function xC(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Gk(i,s):i.dispatchEvent(s)}var K$=Cd,Y$=yC,$h=0;function wC(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Kx()),document.body.insertAdjacentElement("beforeend",t[1]??Kx()),$h++,()=>{$h===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$h--}},[])}function Kx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Dh="focusScope.autoFocusOnMount",zh="focusScope.autoFocusOnUnmount",Yx={bubbles:!1,cancelable:!0},G$="FocusScope",Rg=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=y.useState(null),c=At(i),u=At(s),h=y.useRef(null),f=Pe(e,m=>l(m)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let m=function(b){if(p.paused||!a)return;const S=b.target;a.contains(S)?h.current=S:Gr(h.current,{select:!0})},w=function(b){if(p.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||Gr(h.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&Gr(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const x=new MutationObserver(v);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),x.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){Zx.add(p);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(Dh,Yx);a.addEventListener(Dh,c),a.dispatchEvent(v),v.defaultPrevented||(Z$(tD(bC(a)),{select:!0}),document.activeElement===m&&Gr(a))}return()=>{a.removeEventListener(Dh,c),setTimeout(()=>{const v=new CustomEvent(zh,Yx);a.addEventListener(zh,u),a.dispatchEvent(v),v.defaultPrevented||Gr(m??document.body,{select:!0}),a.removeEventListener(zh,u),Zx.remove(p)},0)}}},[a,c,u,p]);const g=y.useCallback(m=>{if(!n&&!r||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(w&&v){const x=m.currentTarget,[b,S]=X$(x);b&&S?!m.shiftKey&&v===S?(m.preventDefault(),n&&Gr(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),n&&Gr(S,{select:!0})):v===x&&m.preventDefault()}},[n,r,p.paused]);return d.jsx(ae.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});Rg.displayName=G$;function Z$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Gr(r,{select:e}),document.activeElement!==n)return}function X$(t){const e=bC(t),n=Gx(e,t),r=Gx(e.reverse(),t);return[n,r]}function bC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Gx(t,e){for(const n of t)if(!Q$(n,{upTo:e}))return n}function Q$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function J$(t){return t instanceof HTMLInputElement&&"select"in t}function Gr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&J$(t)&&e&&t.select()}}var Zx=eD();function eD(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Xx(t,e),t.unshift(e)},remove(e){var n;t=Xx(t,e),(n=t[0])==null||n.resume()}}}function Xx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function tD(t){return t.filter(e=>e.tagName!=="A")}const nD=["top","right","bottom","left"],Si=Math.min,Xt=Math.max,ju=Math.round,oc=Math.floor,nr=t=>({x:t,y:t}),rD={left:"right",right:"left",bottom:"top",top:"bottom"},iD={start:"end",end:"start"};function zp(t,e,n){return Xt(t,Si(e,n))}function Ir(t,e){return typeof t=="function"?t(e):t}function Or(t){return t.split("-")[0]}function Lo(t){return t.split("-")[1]}function Ig(t){return t==="x"?"y":"x"}function Og(t){return t==="y"?"height":"width"}function ki(t){return["top","bottom"].includes(Or(t))?"y":"x"}function Lg(t){return Ig(ki(t))}function sD(t,e,n){n===void 0&&(n=!1);const r=Lo(t),i=Lg(t),s=Og(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Mu(o)),[o,Mu(o)]}function oD(t){const e=Mu(t);return[Fp(t),e,Fp(e)]}function Fp(t){return t.replace(/start|end/g,e=>iD[e])}function aD(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function lD(t,e,n,r){const i=Lo(t);let s=aD(Or(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Fp)))),s}function Mu(t){return t.replace(/left|right|bottom|top/g,e=>rD[e])}function cD(t){return{top:0,right:0,bottom:0,left:0,...t}}function SC(t){return typeof t!="number"?cD(t):{top:t,right:t,bottom:t,left:t}}function Ru(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Qx(t,e,n){let{reference:r,floating:i}=t;const s=ki(e),o=Lg(e),a=Og(o),l=Or(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Lo(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const uD=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=Qx(c,r,l),f=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:w,fn:v}=a[m],{x,y:b,data:S,reset:k}=await v({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=x??u,h=b??h,p={...p,[w]:{...p[w],...S}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:u,y:h}=Qx(c,f,l)),m=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function fl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Ir(e,t),g=SC(p),w=a[f?h==="floating"?"reference":"floating":h],v=Ru(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},k=Ru(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:l}):x);return{top:(v.top-k.top+g.top)/S.y,bottom:(k.bottom-v.bottom+g.bottom)/S.y,left:(v.left-k.left+g.left)/S.x,right:(k.right-v.right+g.right)/S.x}}const dD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ir(t,e)||{};if(c==null)return{};const h=SC(u),f={x:n,y:r},p=Lg(i),g=Og(p),m=await o.getDimensions(c),w=p==="y",v=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-f[p]-s.floating[g],k=f[p]-s.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let _=C?C[b]:0;(!_||!await(o.isElement==null?void 0:o.isElement(C)))&&(_=a.floating[b]||s.floating[g]);const T=S/2-k/2,j=_/2-m[g]/2-1,R=Si(h[v],j),O=Si(h[x],j),A=R,B=_-m[g]-O,I=_/2-m[g]/2+T,L=zp(A,I,B),M=!l.arrow&&Lo(i)!=null&&I!==L&&s.reference[g]/2-(I<A?R:O)-m[g]/2<0,D=M?I<A?I-A:I-B:0;return{[p]:f[p]+D,data:{[p]:L,centerOffset:I-L-D,...M&&{alignmentOffset:D}},reset:M}}}),hD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=Ir(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Or(i),x=ki(a),b=Or(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=f||(b||!m?[Mu(a)]:oD(a)),C=g!=="none";!f&&C&&k.push(...lD(a,m,g,S));const _=[a,...k],T=await fl(e,w),j=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&j.push(T[v]),h){const I=sD(i,o,S);j.push(T[I[0]],T[I[1]])}if(R=[...R,{placement:i,overflows:j}],!j.every(I=>I<=0)){var O,A;const I=(((O=s.flip)==null?void 0:O.index)||0)+1,L=_[I];if(L)return{data:{index:I,overflows:R},reset:{placement:L}};let M=(A=R.filter(D=>D.overflows[0]<=0).sort((D,P)=>D.overflows[1]-P.overflows[1])[0])==null?void 0:A.placement;if(!M)switch(p){case"bestFit":{var B;const D=(B=R.filter(P=>{if(C){const $=ki(P.placement);return $===x||$==="y"}return!0}).map(P=>[P.placement,P.overflows.filter($=>$>0).reduce(($,E)=>$+E,0)]).sort((P,$)=>P[1]-$[1])[0])==null?void 0:B[0];D&&(M=D);break}case"initialPlacement":M=a;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function Jx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function e0(t){return nD.some(e=>t[e]>=0)}const fD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ir(t,e);switch(r){case"referenceHidden":{const s=await fl(e,{...i,elementContext:"reference"}),o=Jx(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:e0(o)}}}case"escaped":{const s=await fl(e,{...i,altBoundary:!0}),o=Jx(s,n.floating);return{data:{escapedOffsets:o,escaped:e0(o)}}}default:return{}}}}};async function pD(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Or(n),a=Lo(n),l=ki(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,h=Ir(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const mD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await pD(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},gD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:v,y:x}=w;return{x:v,y:x}}},...l}=Ir(t,e),c={x:n,y:r},u=await fl(e,l),h=ki(Or(i)),f=Ig(h);let p=c[f],g=c[h];if(s){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=p+u[w],b=p-u[v];p=zp(x,p,b)}if(o){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=g+u[w],b=g-u[v];g=zp(x,g,b)}const m=a.fn({...e,[f]:p,[h]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:s,[h]:o}}}}}},vD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ir(t,e),u={x:n,y:r},h=ki(i),f=Ig(h);let p=u[f],g=u[h];const m=Ir(a,e),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=f==="y"?"height":"width",S=s.reference[f]-s.floating[b]+w.mainAxis,k=s.reference[f]+s.reference[b]-w.mainAxis;p<S?p=S:p>k&&(p=k)}if(c){var v,x;const b=f==="y"?"width":"height",S=["top","left"].includes(Or(i)),k=s.reference[h]-s.floating[b]+(S&&((v=o.offset)==null?void 0:v[h])||0)+(S?0:w.crossAxis),C=s.reference[h]+s.reference[b]+(S?0:((x=o.offset)==null?void 0:x[h])||0)-(S?w.crossAxis:0);g<k?g=k:g>C&&(g=C)}return{[f]:p,[h]:g}}}},yD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ir(t,e),u=await fl(e,c),h=Or(i),f=Lo(i),p=ki(i)==="y",{width:g,height:m}=s.floating;let w,v;h==="top"||h==="bottom"?(w=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,w=f==="end"?"top":"bottom");const x=m-u.top-u.bottom,b=g-u.left-u.right,S=Si(m-u[w],x),k=Si(g-u[v],b),C=!e.middlewareData.shift;let _=S,T=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=x),C&&!f){const R=Xt(u.left,0),O=Xt(u.right,0),A=Xt(u.top,0),B=Xt(u.bottom,0);p?T=g-2*(R!==0||O!==0?R+O:Xt(u.left,u.right)):_=m-2*(A!==0||B!==0?A+B:Xt(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:_});const j=await o.getDimensions(a.floating);return g!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}};function Ed(){return typeof window<"u"}function $o(t){return kC(t)?(t.nodeName||"").toLowerCase():"#document"}function sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hr(t){var e;return(e=(kC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function kC(t){return Ed()?t instanceof Node||t instanceof sn(t).Node:!1}function Ln(t){return Ed()?t instanceof Element||t instanceof sn(t).Element:!1}function ar(t){return Ed()?t instanceof HTMLElement||t instanceof sn(t).HTMLElement:!1}function t0(t){return!Ed()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof sn(t).ShadowRoot}function Rl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=$n(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function xD(t){return["table","td","th"].includes($o(t))}function _d(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $g(t){const e=Dg(),n=Ln(t)?$n(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wD(t){let e=Ci(t);for(;ar(e)&&!Eo(e);){if($g(e))return e;if(_d(e))return null;e=Ci(e)}return null}function Dg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Eo(t){return["html","body","#document"].includes($o(t))}function $n(t){return sn(t).getComputedStyle(t)}function Nd(t){return Ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ci(t){if($o(t)==="html")return t;const e=t.assignedSlot||t.parentNode||t0(t)&&t.host||hr(t);return t0(e)?e.host:e}function CC(t){const e=Ci(t);return Eo(e)?t.ownerDocument?t.ownerDocument.body:t.body:ar(e)&&Rl(e)?e:CC(e)}function pl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=CC(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=sn(i);if(s){const a=Bp(o);return e.concat(o,o.visualViewport||[],Rl(i)?i:[],a&&n?pl(a):[])}return e.concat(i,pl(i,[],n))}function Bp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function EC(t){const e=$n(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ar(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=ju(n)!==s||ju(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function zg(t){return Ln(t)?t:t.contextElement}function to(t){const e=zg(t);if(!ar(e))return nr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=EC(e);let o=(s?ju(n.width):n.width)/r,a=(s?ju(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bD=nr(0);function _C(t){const e=sn(t);return!Dg()||!e.visualViewport?bD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==sn(t)?!1:e}function ss(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=zg(t);let o=nr(1);e&&(r?Ln(r)&&(o=to(r)):o=to(t));const a=SD(s,n,r)?_C(s):nr(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const f=sn(s),p=r&&Ln(r)?sn(r):r;let g=f,m=Bp(g);for(;m&&r&&p!==g;){const w=to(m),v=m.getBoundingClientRect(),x=$n(m),b=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*w.x,S=v.top+(m.clientTop+parseFloat(x.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,h*=w.y,l+=b,c+=S,g=sn(m),m=Bp(g)}}return Ru({width:u,height:h,x:l,y:c})}function Fg(t,e){const n=Nd(t).scrollLeft;return e?e.left+n:ss(hr(t)).left+n}function NC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Fg(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function kD(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=hr(r),a=e?_d(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=nr(1);const u=nr(0),h=ar(r);if((h||!h&&!s)&&(($o(r)!=="body"||Rl(o))&&(l=Nd(r)),ar(r))){const p=ss(r);c=to(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!h&&!s?NC(o,l,!0):nr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function CD(t){return Array.from(t.getClientRects())}function ED(t){const e=hr(t),n=Nd(t),r=t.ownerDocument.body,i=Xt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Xt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Fg(t);const a=-n.scrollTop;return $n(r).direction==="rtl"&&(o+=Xt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function _D(t,e){const n=sn(t),r=hr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Dg();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function ND(t,e){const n=ss(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ar(t)?to(t):nr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function n0(t,e,n){let r;if(e==="viewport")r=_D(t,n);else if(e==="document")r=ED(hr(t));else if(Ln(e))r=ND(e,n);else{const i=_C(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ru(r)}function TC(t,e){const n=Ci(t);return n===e||!Ln(n)||Eo(n)?!1:$n(n).position==="fixed"||TC(n,e)}function TD(t,e){const n=e.get(t);if(n)return n;let r=pl(t,[],!1).filter(a=>Ln(a)&&$o(a)!=="body"),i=null;const s=$n(t).position==="fixed";let o=s?Ci(t):t;for(;Ln(o)&&!Eo(o);){const a=$n(o),l=$g(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Rl(o)&&!l&&TC(t,o))?r=r.filter(u=>u!==o):i=a,o=Ci(o)}return e.set(t,r),r}function PD(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?_d(e)?[]:TD(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=n0(e,u,i);return c.top=Xt(h.top,c.top),c.right=Si(h.right,c.right),c.bottom=Si(h.bottom,c.bottom),c.left=Xt(h.left,c.left),c},n0(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function AD(t){const{width:e,height:n}=EC(t);return{width:e,height:n}}function jD(t,e,n){const r=ar(e),i=hr(e),s=n==="fixed",o=ss(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=nr(0);if(r||!r&&!s)if(($o(e)!=="body"||Rl(i))&&(a=Nd(e)),r){const f=ss(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=Fg(i));const c=i&&!r&&!s?NC(i,a):nr(0),u=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:u,y:h,width:o.width,height:o.height}}function Fh(t){return $n(t).position==="static"}function r0(t,e){if(!ar(t)||$n(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hr(t)===n&&(n=n.ownerDocument.body),n}function PC(t,e){const n=sn(t);if(_d(t))return n;if(!ar(t)){let i=Ci(t);for(;i&&!Eo(i);){if(Ln(i)&&!Fh(i))return i;i=Ci(i)}return n}let r=r0(t,e);for(;r&&xD(r)&&Fh(r);)r=r0(r,e);return r&&Eo(r)&&Fh(r)&&!$g(r)?n:r||wD(t)||n}const MD=async function(t){const e=this.getOffsetParent||PC,n=this.getDimensions,r=await n(t.floating);return{reference:jD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RD(t){return $n(t).direction==="rtl"}const ID={convertOffsetParentRelativeRectToViewportRelativeRect:kD,getDocumentElement:hr,getClippingRect:PD,getOffsetParent:PC,getElementRects:MD,getClientRects:CD,getDimensions:AD,getScale:to,isElement:Ln,isRTL:RD};function AC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function OD(t,e){let n=null,r;const i=hr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(a||e(),!f||!p)return;const g=oc(h),m=oc(i.clientWidth-(u+f)),w=oc(i.clientHeight-(h+p)),v=oc(u),b={rootMargin:-g+"px "+-m+"px "+-w+"px "+-v+"px",threshold:Xt(0,Si(1,l))||1};let S=!0;function k(C){const _=C[0].intersectionRatio;if(_!==l){if(!S)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!AC(c,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(k,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,b)}n.observe(t)}return o(!0),s}function LD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=zg(t),u=i||s?[...c?pl(c):[],...pl(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const h=c&&a?OD(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?ss(t):null;l&&w();function w(){const v=ss(t);m&&!AC(m,v)&&n(),m=v,g=requestAnimationFrame(w)}return n(),()=>{var v;u.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const $D=mD,DD=gD,zD=hD,FD=yD,BD=fD,i0=dD,VD=vD,UD=(t,e,n)=>{const r=new Map,i={platform:ID,...n},s={...i.platform,_c:r};return uD(t,e,{...i,platform:s})};var Fc=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Iu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Iu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Iu(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function jC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function s0(t,e){const n=jC(t);return Math.round(e*n)/n}function Bh(t){const e=y.useRef(t);return Fc(()=>{e.current=t}),e}function HD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=y.useState(r);Iu(f,r)||p(r);const[g,m]=y.useState(null),[w,v]=y.useState(null),x=y.useCallback(P=>{P!==C.current&&(C.current=P,m(P))},[]),b=y.useCallback(P=>{P!==_.current&&(_.current=P,v(P))},[]),S=s||g,k=o||w,C=y.useRef(null),_=y.useRef(null),T=y.useRef(u),j=l!=null,R=Bh(l),O=Bh(i),A=Bh(c),B=y.useCallback(()=>{if(!C.current||!_.current)return;const P={placement:e,strategy:n,middleware:f};O.current&&(P.platform=O.current),UD(C.current,_.current,P).then($=>{const E={...$,isPositioned:A.current!==!1};I.current&&!Iu(T.current,E)&&(T.current=E,ps.flushSync(()=>{h(E)}))})},[f,e,n,O,A]);Fc(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[c]);const I=y.useRef(!1);Fc(()=>(I.current=!0,()=>{I.current=!1}),[]),Fc(()=>{if(S&&(C.current=S),k&&(_.current=k),S&&k){if(R.current)return R.current(S,k,B);B()}},[S,k,B,R,j]);const L=y.useMemo(()=>({reference:C,floating:_,setReference:x,setFloating:b}),[x,b]),M=y.useMemo(()=>({reference:S,floating:k}),[S,k]),D=y.useMemo(()=>{const P={position:n,left:0,top:0};if(!M.floating)return P;const $=s0(M.floating,u.x),E=s0(M.floating,u.y);return a?{...P,transform:"translate("+$+"px, "+E+"px)",...jC(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:E}},[n,a,M.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:B,refs:L,elements:M,floatingStyles:D}),[u,B,L,M,D])}const WD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?i0({element:r.current,padding:i}).fn(n):{}:r?i0({element:r,padding:i}).fn(n):{}}}},qD=(t,e)=>({...$D(t),options:[t,e]}),KD=(t,e)=>({...DD(t),options:[t,e]}),YD=(t,e)=>({...VD(t),options:[t,e]}),GD=(t,e)=>({...zD(t),options:[t,e]}),ZD=(t,e)=>({...FD(t),options:[t,e]}),XD=(t,e)=>({...BD(t),options:[t,e]}),QD=(t,e)=>({...WD(t),options:[t,e]});var JD="Arrow",MC=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return d.jsx(ae.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});MC.displayName=JD;var ez=MC;function Td(t){const[e,n]=y.useState(void 0);return st(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Bg="Popper",[RC,IC]=It(Bg),[tz,OC]=RC(Bg),LC=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return d.jsx(tz,{scope:e,anchor:r,onAnchorChange:i,children:n})};LC.displayName=Bg;var $C="PopperAnchor",DC=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=OC($C,n),o=y.useRef(null),a=Pe(e,o);return y.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(ae.div,{...i,ref:a})});DC.displayName=$C;var Vg="PopperContent",[nz,rz]=RC(Vg),zC=y.forwardRef((t,e)=>{var te,ue,q,U,J,ie;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,w=OC(Vg,n),[v,x]=y.useState(null),b=Pe(e,Te=>x(Te)),[S,k]=y.useState(null),C=Td(S),_=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,j=r+(s!=="center"?"-"+s:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(c)?c:[c],A=O.length>0,B={padding:R,boundary:O.filter(sz),altBoundary:A},{refs:I,floatingStyles:L,placement:M,isPositioned:D,middlewareData:P}=HD({strategy:"fixed",placement:j,whileElementsMounted:(...Te)=>LD(...Te,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[qD({mainAxis:i+T,alignmentAxis:o}),l&&KD({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?YD():void 0,...B}),l&&GD({...B}),ZD({...B,apply:({elements:Te,rects:Re,availableWidth:gt,availableHeight:Ot})=>{const{width:un,height:Mi}=Re.reference,Sn=Te.floating.style;Sn.setProperty("--radix-popper-available-width",`${gt}px`),Sn.setProperty("--radix-popper-available-height",`${Ot}px`),Sn.setProperty("--radix-popper-anchor-width",`${un}px`),Sn.setProperty("--radix-popper-anchor-height",`${Mi}px`)}}),S&&QD({element:S,padding:a}),oz({arrowWidth:_,arrowHeight:T}),f&&XD({strategy:"referenceHidden",...B})]}),[$,E]=VC(M),z=At(g);st(()=>{D&&(z==null||z())},[D,z]);const X=(te=P.arrow)==null?void 0:te.x,N=(ue=P.arrow)==null?void 0:ue.y,oe=((q=P.arrow)==null?void 0:q.centerOffset)!==0,[be,he]=y.useState();return st(()=>{v&&he(window.getComputedStyle(v).zIndex)},[v]),d.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:D?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(U=P.transformOrigin)==null?void 0:U.x,(J=P.transformOrigin)==null?void 0:J.y].join(" "),...((ie=P.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(nz,{scope:n,placedSide:$,onArrowChange:k,arrowX:X,arrowY:N,shouldHideArrow:oe,children:d.jsx(ae.div,{"data-side":$,"data-align":E,...m,ref:b,style:{...m.style,animation:D?void 0:"none"}})})})});zC.displayName=Vg;var FC="PopperArrow",iz={top:"bottom",right:"left",bottom:"top",left:"right"},BC=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=rz(FC,r),o=iz[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(ez,{...i,ref:n,style:{...i.style,display:"block"}})})});BC.displayName=FC;function sz(t){return t!==null}var oz=t=>({name:"transformOrigin",options:t,fn(e){var w,v,x;const{placement:n,rects:r,middlewareData:i}=e,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=VC(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=o?h:`${f}px`,m=`${-l}px`):c==="top"?(g=o?h:`${f}px`,m=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=o?h:`${p}px`):c==="left"&&(g=`${r.floating.width+l}px`,m=o?h:`${p}px`),{data:{x:g,y:m}}}});function VC(t){const[e,n="center"]=t.split("-");return[e,n]}var az=LC,lz=DC,cz=zC,uz=BC,dz="Portal",Pd=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=y.useState(!1);st(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Xj.createPortal(d.jsx(ae.div,{...r,ref:e}),o):null});Pd.displayName=dz;function Ad(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var hz="VisuallyHidden",jd=y.forwardRef((t,e)=>d.jsx(ae.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));jd.displayName=hz;var fz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},bs=new WeakMap,ac=new WeakMap,lc={},Vh=0,UC=function(t){return t&&(t.host||UC(t.parentNode))},pz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=UC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},mz=function(t,e,n,r){var i=pz(e,Array.isArray(t)?t:[t]);lc[n]||(lc[n]=new WeakMap);var s=lc[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))u(f);else try{var p=f.getAttribute(r),g=p!==null&&p!=="false",m=(bs.get(f)||0)+1,w=(s.get(f)||0)+1;bs.set(f,m),s.set(f,w),o.push(f),m===1&&g&&ac.set(f,!0),w===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(e),a.clear(),Vh++,function(){o.forEach(function(h){var f=bs.get(h)-1,p=s.get(h)-1;bs.set(h,f),s.set(h,p),f||(ac.has(h)||h.removeAttribute(r),ac.delete(h)),p||h.removeAttribute(n)}),Vh--,Vh||(bs=new WeakMap,bs=new WeakMap,ac=new WeakMap,lc={})}},HC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=fz(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),mz(r,i,n,"aria-hidden")):function(){return null}},Gn=function(){return Gn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gn.apply(this,arguments)};function WC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gz(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Bc="right-scroll-bar-position",Vc="width-before-scroll-bar",vz="with-scroll-bars-hidden",yz="--removed-body-scroll-bar-size";function Uh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xz(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var wz=typeof window<"u"?y.useLayoutEffect:y.useEffect,o0=new WeakMap;function bz(t,e){var n=xz(null,function(r){return t.forEach(function(i){return Uh(i,r)})});return wz(function(){var r=o0.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Uh(a,null)}),s.forEach(function(a){i.has(a)||Uh(a,o)})}o0.set(n,t)},[t]),n}function Sz(t){return t}function kz(t,e){e===void 0&&(e=Sz);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function Cz(t){t===void 0&&(t={});var e=kz(null);return e.options=Gn({async:!0,ssr:!1},t),e}var qC=function(t){var e=t.sideCar,n=WC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Gn({},n))};qC.isSideCarExport=!0;function Ez(t,e){return t.useMedium(e),qC}var KC=Cz(),Hh=function(){},Md=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Hh,onWheelCapture:Hh,onTouchMoveCapture:Hh}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,g=t.inert,m=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,x=t.gapMode,b=WC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,k=bz([n,e]),C=Gn(Gn({},b),i);return y.createElement(y.Fragment,null,u&&y.createElement(S,{sideCar:KC,removeScrollBar:c,shards:h,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:x}),o?y.cloneElement(y.Children.only(a),Gn(Gn({},C),{ref:k})):y.createElement(v,Gn({},C,{className:l,ref:k}),a))});Md.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Md.classNames={fullWidth:Vc,zeroRight:Bc};var _z=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Nz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_z();return e&&t.setAttribute("nonce",e),t}function Tz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Pz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Az=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Nz())&&(Tz(e,n),Pz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jz=function(){var t=Az();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},YC=function(){var t=jz(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Mz={left:0,top:0,right:0,gap:0},Wh=function(t){return parseInt(t||"",10)||0},Rz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Wh(n),Wh(r),Wh(i)]},Iz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Mz;var e=Rz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Oz=YC(),no="data-scroll-locked",Lz=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(no,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Vc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bc," .").concat(Bc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vc," .").concat(Vc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(no,`] {
    `).concat(yz,": ").concat(a,`px;
  }
`)},a0=function(){var t=parseInt(document.body.getAttribute(no)||"0",10);return isFinite(t)?t:0},$z=function(){y.useEffect(function(){return document.body.setAttribute(no,(a0()+1).toString()),function(){var t=a0()-1;t<=0?document.body.removeAttribute(no):document.body.setAttribute(no,t.toString())}},[])},Dz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;$z();var s=y.useMemo(function(){return Iz(i)},[i]);return y.createElement(Oz,{styles:Lz(s,!e,i,n?"":"!important")})},Vp=!1;if(typeof window<"u")try{var cc=Object.defineProperty({},"passive",{get:function(){return Vp=!0,!0}});window.addEventListener("test",cc,cc),window.removeEventListener("test",cc,cc)}catch{Vp=!1}var Ss=Vp?{passive:!1}:!1,zz=function(t){return t.tagName==="TEXTAREA"},GC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!zz(t)&&n[e]==="visible")},Fz=function(t){return GC(t,"overflowY")},Bz=function(t){return GC(t,"overflowX")},l0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=ZC(t,r);if(i){var s=XC(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Vz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Uz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ZC=function(t,e){return t==="v"?Fz(e):Bz(e)},XC=function(t,e){return t==="v"?Vz(e):Uz(e)},Hz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Wz=function(t,e,n,r,i){var s=Hz(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,f=0;do{var p=XC(t,a),g=p[0],m=p[1],w=p[2],v=m-w-s*g;(g||v)&&ZC(t,a)&&(h+=v,f+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(c=!0),c},uc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},c0=function(t){return[t.deltaX,t.deltaY]},u0=function(t){return t&&"current"in t?t.current:t},qz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Kz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Yz=0,ks=[];function Gz(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(Yz++)[0],s=y.useState(YC)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=gz([t.lockRef.current],(t.shards||[]).map(u0),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=uc(m),x=n.current,b="deltaX"in m?m.deltaX:x[0]-v[0],S="deltaY"in m?m.deltaY:x[1]-v[1],k,C=m.target,_=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&_==="h"&&C.type==="range")return!1;var T=l0(_,C);if(!T)return!0;if(T?k=_:(k=_==="v"?"h":"v",T=l0(_,C)),!T)return!1;if(!r.current&&"changedTouches"in m&&(b||S)&&(r.current=k),!k)return!0;var j=r.current||k;return Wz(j,w,m,j==="h"?b:S)},[]),l=y.useCallback(function(m){var w=m;if(!(!ks.length||ks[ks.length-1]!==s)){var v="deltaY"in w?c0(w):uc(w),x=e.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&qz(k.delta,v)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(u0).filter(Boolean).filter(function(k){return k.contains(w.target)}),S=b.length>0?a(w,b[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),c=y.useCallback(function(m,w,v,x){var b={name:m,delta:w,target:v,should:x,shadowParent:Zz(v)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),u=y.useCallback(function(m){n.current=uc(m),r.current=void 0},[]),h=y.useCallback(function(m){c(m.type,c0(m),m.target,a(m,t.lockRef.current))},[]),f=y.useCallback(function(m){c(m.type,uc(m),m.target,a(m,t.lockRef.current))},[]);y.useEffect(function(){return ks.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ss),document.addEventListener("touchmove",l,Ss),document.addEventListener("touchstart",u,Ss),function(){ks=ks.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,Ss),document.removeEventListener("touchmove",l,Ss),document.removeEventListener("touchstart",u,Ss)}},[]);var p=t.removeScrollBar,g=t.inert;return y.createElement(y.Fragment,null,g?y.createElement(s,{styles:Kz(i)}):null,p?y.createElement(Dz,{gapMode:t.gapMode}):null)}function Zz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Xz=Ez(KC,Gz);var Ug=y.forwardRef(function(t,e){return y.createElement(Md,Gn({},t,{ref:e,sideCar:Xz}))});Ug.classNames=Md.classNames;var Qz=[" ","Enter","ArrowUp","ArrowDown"],Jz=[" ","Enter"],Il="Select",[Rd,Id,eF]=bd(Il),[Do,p8]=It(Il,[eF,IC]),Od=IC(),[tF,Pi]=Do(Il),[nF,rF]=Do(Il),QC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:f,required:p,form:g}=t,m=Od(e),[w,v]=y.useState(null),[x,b]=y.useState(null),[S,k]=y.useState(!1),C=Ml(c),[_=!1,T]=bn({prop:r,defaultProp:i,onChange:s}),[j,R]=bn({prop:o,defaultProp:a,onChange:l}),O=y.useRef(null),A=w?g||!!w.closest("form"):!0,[B,I]=y.useState(new Set),L=Array.from(B).map(M=>M.props.value).join(";");return d.jsx(az,{...m,children:d.jsxs(tF,{required:p,scope:e,trigger:w,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:k,contentId:tr(),value:j,onValueChange:R,open:_,onOpenChange:T,dir:C,triggerPointerDownPosRef:O,disabled:f,children:[d.jsx(Rd.Provider,{scope:e,children:d.jsx(nF,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(M=>{I(D=>new Set(D).add(M))},[]),onNativeOptionRemove:y.useCallback(M=>{I(D=>{const P=new Set(D);return P.delete(M),P})},[]),children:n})}),A?d.jsxs(kE,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:j,onChange:M=>R(M.target.value),disabled:f,form:g,children:[j===void 0?d.jsx("option",{value:""}):null,Array.from(B)]},L):null]})})};QC.displayName=Il;var JC="SelectTrigger",eE=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Od(n),o=Pi(JC,n),a=o.disabled||r,l=Pe(e,o.onTriggerChange),c=Id(n),u=y.useRef("touch"),[h,f,p]=CE(m=>{const w=c().filter(b=>!b.disabled),v=w.find(b=>b.value===o.value),x=EE(w,m,v);x!==void 0&&o.onValueChange(x.value)}),g=m=>{a||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return d.jsx(lz,{asChild:!0,...s,children:d.jsx(ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":SE(o.value)?"":void 0,...i,ref:l,onClick:le(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:le(i.onPointerDown,m=>{u.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:le(i.onKeyDown,m=>{const w=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(w&&m.key===" ")&&Qz.includes(m.key)&&(g(),m.preventDefault())})})})});eE.displayName=JC;var tE="SelectValue",nE=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Pi(tE,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,h=Pe(e,l.onValueNodeChange);return st(()=>{c(u)},[c,u]),d.jsx(ae.span,{...a,ref:h,style:{pointerEvents:"none"},children:SE(l.value)?d.jsx(d.Fragment,{children:o}):s})});nE.displayName=tE;var iF="SelectIcon",rE=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return d.jsx(ae.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});rE.displayName=iF;var sF="SelectPortal",iE=t=>d.jsx(Pd,{asChild:!0,...t});iE.displayName=sF;var os="SelectContent",sE=y.forwardRef((t,e)=>{const n=Pi(os,t.__scopeSelect),[r,i]=y.useState();if(st(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ps.createPortal(d.jsx(oE,{scope:t.__scopeSelect,children:d.jsx(Rd.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),s):null}return d.jsx(aE,{...t,ref:e})});sE.displayName=os;var En=10,[oE,Ai]=Do(os),oF="SelectContentImpl",aE=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w,...v}=t,x=Pi(os,n),[b,S]=y.useState(null),[k,C]=y.useState(null),_=Pe(e,te=>S(te)),[T,j]=y.useState(null),[R,O]=y.useState(null),A=Id(n),[B,I]=y.useState(!1),L=y.useRef(!1);y.useEffect(()=>{if(b)return HC(b)},[b]),wC();const M=y.useCallback(te=>{const[ue,...q]=A().map(ie=>ie.ref.current),[U]=q.slice(-1),J=document.activeElement;for(const ie of te)if(ie===J||(ie==null||ie.scrollIntoView({block:"nearest"}),ie===ue&&k&&(k.scrollTop=0),ie===U&&k&&(k.scrollTop=k.scrollHeight),ie==null||ie.focus(),document.activeElement!==J))return},[A,k]),D=y.useCallback(()=>M([T,b]),[M,T,b]);y.useEffect(()=>{B&&D()},[B,D]);const{onOpenChange:P,triggerPointerDownPosRef:$}=x;y.useEffect(()=>{if(b){let te={x:0,y:0};const ue=U=>{var J,ie;te={x:Math.abs(Math.round(U.pageX)-(((J=$.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(U.pageY)-(((ie=$.current)==null?void 0:ie.y)??0))}},q=U=>{te.x<=10&&te.y<=10?U.preventDefault():b.contains(U.target)||P(!1),document.removeEventListener("pointermove",ue),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",q,{capture:!0})}}},[b,P,$]),y.useEffect(()=>{const te=()=>P(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[P]);const[E,z]=CE(te=>{const ue=A().filter(J=>!J.disabled),q=ue.find(J=>J.ref.current===document.activeElement),U=EE(ue,te,q);U&&setTimeout(()=>U.ref.current.focus())}),X=y.useCallback((te,ue,q)=>{const U=!L.current&&!q;(x.value!==void 0&&x.value===ue||U)&&(j(te),U&&(L.current=!0))},[x.value]),N=y.useCallback(()=>b==null?void 0:b.focus(),[b]),oe=y.useCallback((te,ue,q)=>{const U=!L.current&&!q;(x.value!==void 0&&x.value===ue||U)&&O(te)},[x.value]),be=r==="popper"?Up:lE,he=be===Up?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w}:{};return d.jsx(oE,{scope:n,content:b,viewport:k,onViewportChange:C,itemRefCallback:X,selectedItem:T,onItemLeave:N,itemTextRefCallback:oe,focusSelectedItem:D,selectedItemText:R,position:r,isPositioned:B,searchRef:E,children:d.jsx(Ug,{as:is,allowPinchZoom:!0,children:d.jsx(Rg,{asChild:!0,trapped:x.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:le(i,te=>{var ue;(ue=x.trigger)==null||ue.focus({preventScroll:!0}),te.preventDefault()}),children:d.jsx(Cd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:d.jsx(be,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:te=>te.preventDefault(),...v,...he,onPlaced:()=>I(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:le(v.onKeyDown,te=>{const ue=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ue&&te.key.length===1&&z(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let U=A().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(te.key)&&(U=U.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const J=te.target,ie=U.indexOf(J);U=U.slice(ie+1)}setTimeout(()=>M(U)),te.preventDefault()}})})})})})})});aE.displayName=oF;var aF="SelectItemAlignedPosition",lE=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Pi(os,n),o=Ai(os,n),[a,l]=y.useState(null),[c,u]=y.useState(null),h=Pe(e,_=>u(_)),f=Id(n),p=y.useRef(!1),g=y.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:v,focusSelectedItem:x}=o,b=y.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&m&&w&&v){const _=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),j=s.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(s.dir!=="rtl"){const J=R.left-T.left,ie=j.left-J,Te=_.left-ie,Re=_.width+Te,gt=Math.max(Re,T.width),Ot=window.innerWidth-En,un=Hx(ie,[En,Math.max(En,Ot-gt)]);a.style.minWidth=Re+"px",a.style.left=un+"px"}else{const J=T.right-R.right,ie=window.innerWidth-j.right-J,Te=window.innerWidth-_.right-ie,Re=_.width+Te,gt=Math.max(Re,T.width),Ot=window.innerWidth-En,un=Hx(ie,[En,Math.max(En,Ot-gt)]);a.style.minWidth=Re+"px",a.style.right=un+"px"}const O=f(),A=window.innerHeight-En*2,B=m.scrollHeight,I=window.getComputedStyle(c),L=parseInt(I.borderTopWidth,10),M=parseInt(I.paddingTop,10),D=parseInt(I.borderBottomWidth,10),P=parseInt(I.paddingBottom,10),$=L+M+B+P+D,E=Math.min(w.offsetHeight*5,$),z=window.getComputedStyle(m),X=parseInt(z.paddingTop,10),N=parseInt(z.paddingBottom,10),oe=_.top+_.height/2-En,be=A-oe,he=w.offsetHeight/2,te=w.offsetTop+he,ue=L+M+te,q=$-ue;if(ue<=oe){const J=O.length>0&&w===O[O.length-1].ref.current;a.style.bottom="0px";const ie=c.clientHeight-m.offsetTop-m.offsetHeight,Te=Math.max(be,he+(J?N:0)+ie+D),Re=ue+Te;a.style.height=Re+"px"}else{const J=O.length>0&&w===O[0].ref.current;a.style.top="0px";const Te=Math.max(oe,L+m.offsetTop+(J?X:0)+he)+q;a.style.height=Te+"px",m.scrollTop=ue-oe+m.offsetTop}a.style.margin=`${En}px 0`,a.style.minHeight=E+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,s.trigger,s.valueNode,a,c,m,w,v,s.dir,r]);st(()=>b(),[b]);const[S,k]=y.useState();st(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const C=y.useCallback(_=>{_&&g.current===!0&&(b(),x==null||x(),g.current=!1)},[b,x]);return d.jsx(cF,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:d.jsx(ae.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});lE.displayName=aF;var lF="SelectPopperPosition",Up=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=En,...s}=t,o=Od(n);return d.jsx(cz,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Up.displayName=lF;var[cF,Hg]=Do(os,{}),Hp="SelectViewport",cE=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ai(Hp,n),o=Hg(Hp,n),a=Pe(e,s.onViewportChange),l=y.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Rd.Slot,{scope:n,children:d.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:le(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(l.current-u.scrollTop);if(p>0){const g=window.innerHeight-En*2,m=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),v=Math.max(m,w);if(v<g){const x=v+p,b=Math.min(g,x),S=x-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});cE.displayName=Hp;var uE="SelectGroup",[uF,dF]=Do(uE),hF=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=tr();return d.jsx(uF,{scope:n,id:i,children:d.jsx(ae.div,{role:"group","aria-labelledby":i,...r,ref:e})})});hF.displayName=uE;var dE="SelectLabel",hE=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=dF(dE,n);return d.jsx(ae.div,{id:i.id,...r,ref:e})});hE.displayName=dE;var Ou="SelectItem",[fF,fE]=Do(Ou),pE=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Pi(Ou,n),l=Ai(Ou,n),c=a.value===r,[u,h]=y.useState(s??""),[f,p]=y.useState(!1),g=Pe(e,x=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,x,r,i)}),m=tr(),w=y.useRef("touch"),v=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(fF,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:y.useCallback(x=>{h(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:d.jsx(Rd.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:d.jsx(ae.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:le(o.onFocus,()=>p(!0)),onBlur:le(o.onBlur,()=>p(!1)),onClick:le(o.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:le(o.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:le(o.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:le(o.onPointerMove,x=>{var b;w.current=x.pointerType,i?(b=l.onItemLeave)==null||b.call(l):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:le(o.onKeyDown,x=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(Jz.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});pE.displayName=Ou;var fa="SelectItemText",mE=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Pi(fa,n),a=Ai(fa,n),l=fE(fa,n),c=rF(fa,n),[u,h]=y.useState(null),f=Pe(e,v=>h(v),l.onItemTextChange,v=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,v,l.value,l.disabled)}),p=u==null?void 0:u.textContent,g=y.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=c;return st(()=>(m(g),()=>w(g)),[m,w,g]),d.jsxs(d.Fragment,{children:[d.jsx(ae.span,{id:l.textId,...s,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ps.createPortal(s.children,o.valueNode):null]})});mE.displayName=fa;var gE="SelectItemIndicator",vE=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return fE(gE,n).isSelected?d.jsx(ae.span,{"aria-hidden":!0,...r,ref:e}):null});vE.displayName=gE;var Wp="SelectScrollUpButton",yE=y.forwardRef((t,e)=>{const n=Ai(Wp,t.__scopeSelect),r=Hg(Wp,t.__scopeSelect),[i,s]=y.useState(!1),o=Pe(e,r.onScrollButtonChange);return st(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?d.jsx(wE,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});yE.displayName=Wp;var qp="SelectScrollDownButton",xE=y.forwardRef((t,e)=>{const n=Ai(qp,t.__scopeSelect),r=Hg(qp,t.__scopeSelect),[i,s]=y.useState(!1),o=Pe(e,r.onScrollButtonChange);return st(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?d.jsx(wE,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});xE.displayName=qp;var wE=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ai("SelectScrollButton",n),o=y.useRef(null),a=Id(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),st(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(ae.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:le(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:le(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:le(i.onPointerLeave,()=>{l()})})}),pF="SelectSeparator",bE=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(ae.div,{"aria-hidden":!0,...r,ref:e})});bE.displayName=pF;var Kp="SelectArrow",mF=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Od(n),s=Pi(Kp,n),o=Ai(Kp,n);return s.open&&o.position==="popper"?d.jsx(uz,{...i,...r,ref:e}):null});mF.displayName=Kp;function SE(t){return t===""||t===void 0}var kE=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=y.useRef(null),s=Pe(e,i),o=Ad(n);return y.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(h)}},[o,n]),d.jsx(jd,{asChild:!0,children:d.jsx("select",{...r,ref:s,defaultValue:n})})});kE.displayName="BubbleSelect";function CE(t){const e=At(t),n=y.useRef(""),r=y.useRef(0),i=y.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function EE(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=gF(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function gF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vF=QC,_E=eE,yF=nE,xF=rE,wF=iE,NE=sE,bF=cE,TE=hE,PE=pE,SF=mE,kF=vE,AE=yE,jE=xE,ME=bE;const Yp=vF,d0=yF,Lu=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(_E,{ref:r,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(xF,{asChild:!0,children:d.jsx(_k,{className:"h-4 w-4 opacity-50"})})]}));Lu.displayName=_E.displayName;const RE=y.forwardRef(({className:t,...e},n)=>d.jsx(AE,{ref:n,className:W("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(LO,{className:"h-4 w-4"})}));RE.displayName=AE.displayName;const IE=y.forwardRef(({className:t,...e},n)=>d.jsx(jE,{ref:n,className:W("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(_k,{className:"h-4 w-4"})}));IE.displayName=jE.displayName;const $u=y.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>d.jsx(wF,{children:d.jsxs(NE,{ref:i,className:W("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(RE,{}),d.jsx(bF,{className:W("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(IE,{})]})}));$u.displayName=NE.displayName;const CF=y.forwardRef(({className:t,...e},n)=>d.jsx(TE,{ref:n,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));CF.displayName=TE.displayName;const ei=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(PE,{ref:r,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(kF,{children:d.jsx(bg,{className:"h-4 w-4"})})}),d.jsx(SF,{children:e})]}));ei.displayName=PE.displayName;const EF=y.forwardRef(({className:t,...e},n)=>d.jsx(ME,{ref:n,className:W("-mx-1 my-1 h-px bg-muted",t),...e}));EF.displayName=ME.displayName;const _F=t=>{if(t===null||typeof t>"u"||isNaN(t))return d.jsx("span",{className:"text-muted-foreground",children:"-"});const e=Math.abs(t),n=Math.floor(e/100),r=e%100,i=r>0,o=new Intl.NumberFormat("ru-RU",{minimumFractionDigits:0}).format(n);return d.jsxs(d.Fragment,{children:[d.jsx("span",{children:o}),i&&d.jsxs("span",{className:"opacity-70",children:[" ",",",r.toString().padStart(2,"0")]}),d.jsx("span",{className:W("ml-0.5 align-baseline",i?"opacity-70":"opacity-90"),children:""})]})},NF=({operation:t,accountSubtitle:e,onItemClick:n})=>{const{asset:r,marketOperationType:i,totalAssetCostCopecks:s}=t,o=i===0,a=r?Co(r):" ",l=o?` ${a}`:` ${a}`,c=o?RO:IO,u=o?"text-foreground":"text-success",h=o?"-":"+",f=e||" #N/A";return d.jsxs("button",{className:W("flex items-center px-4 py-3 space-x-3 w-full text-left","hover:bg-muted/30 active:bg-muted/50 transition-colors cursor-pointer","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background rounded-sm"),onClick:()=>n==null?void 0:n(t),"aria-label":`: ${l}, : ${h}${s/100}`,children:[d.jsx("div",{className:"flex-shrink-0",children:r?d.jsx(wd,{logoUrl:r.logoUrl,ticker:r.ticker,className:"h-9 w-9 rounded-full"}):d.jsxs("div",{className:"h-9 w-9 rounded-full bg-muted flex items-center justify-center",children:[" ",d.jsx(c,{className:"h-4 w-4 text-muted-foreground"})," "]})}),d.jsxs("div",{className:"flex-grow min-w-0",children:[d.jsx("p",{className:"text-sm font-medium break-words",title:l,children:l}),d.jsxs("p",{className:"text-xs text-muted-foreground truncate mt-0.5",title:f,children:[" ",f," "]})]}),d.jsxs("div",{className:W("text-right flex-shrink-0 ml-2 tabular-nums-font","text-sm font-medium",u),children:[d.jsx("span",{className:"mr-0.5",children:h})," ",d.jsx("span",{children:_F(s)})," "]})]})},TF=({dateString:t,className:e})=>d.jsx("div",{className:W("px-4 pt-3 pb-1.5 sticky top-0 z-10 bg-background/90 backdrop-blur-sm border-b border-border/50",e),children:d.jsx("h3",{className:"text-sm font-semibold text-foreground tracking-wide",children:t})});var PF={exports:{}};(function(t,e){(function(n,r){t.exports=r(pk)})(rr,function(n){function r(g){return g&&typeof g=="object"&&"default"in g?g:{default:g}}var i=r(n),s="___________".split("_"),o="___________".split("_"),a="._._._.____._._._._.".split("_"),l="._.__.____._._._._.".split("_"),c=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function u(g,m,w){var v,x;return w==="m"?m?"":"":g+" "+(v=+g,x={mm:m?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[w].split("_"),v%10==1&&v%100!=11?x[0]:v%10>=2&&v%10<=4&&(v%100<10||v%100>=20)?x[1]:x[2])}var h=function(g,m){return c.test(m)?s[g.month()]:o[g.month()]};h.s=o,h.f=s;var f=function(g,m){return c.test(m)?a[g.month()]:l[g.month()]};f.s=l,f.f=a;var p={name:"ru",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:h,monthsShort:f,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},relativeTime:{future:" %s",past:"%s ",s:" ",m:u,mm:u,h:"",hh:u,d:"",dd:u,M:"",MM:u,y:"",yy:u},ordinal:function(g){return g},meridiem:function(g){return g<4?"":g<12?"":g<17?"":""}};return i.default.locale(p,null,!0),p})})(PF);var OE={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(rr,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,h,f){return s.fromToBase(c,u,h,f)}i.en.relativeTime=o,s.fromToBase=function(c,u,h,f,p){for(var g,m,w,v=h.$locale().relativeTime||o,x=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=x.length,S=0;S<b;S+=1){var k=x[S];k.d&&(g=f?i(c).diff(h,k.d,!0):h.diff(c,k.d,!0));var C=(n.rounding||Math.round)(Math.abs(g));if(w=g>0,C<=k.r||!k.r){C<=1&&S>0&&(k=x[S-1]);var _=v[k.l];p&&(C=p(""+C)),m=typeof _=="string"?_.replace("%d",C):_(C,u,k.l,w);break}}if(u)return m;var T=w?v.future:v.past;return typeof T=="function"?T(m):T.replace("%s",m)},s.to=function(c,u){return a(c,u,this,!0)},s.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(OE);var AF=OE.exports;const jF=cr(AF);var Wg="Dialog",[LE,$E]=It(Wg),[MF,Fn]=LE(Wg),DE=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c=!1,u]=bn({prop:r,defaultProp:i,onChange:s});return d.jsx(MF,{scope:e,triggerRef:a,contentRef:l,contentId:tr(),titleId:tr(),descriptionId:tr(),open:c,onOpenChange:u,onOpenToggle:y.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};DE.displayName=Wg;var zE="DialogTrigger",FE=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fn(zE,n),s=Pe(e,i.triggerRef);return d.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Yg(i.open),...r,ref:s,onClick:le(t.onClick,i.onOpenToggle)})});FE.displayName=zE;var qg="DialogPortal",[RF,BE]=LE(qg,{forceMount:void 0}),VE=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Fn(qg,e);return d.jsx(RF,{scope:e,forceMount:n,children:y.Children.map(r,o=>d.jsx(Fr,{present:n||s.open,children:d.jsx(Pd,{asChild:!0,container:i,children:o})}))})};VE.displayName=qg;var Du="DialogOverlay",UE=y.forwardRef((t,e)=>{const n=BE(Du,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Fn(Du,t.__scopeDialog);return s.modal?d.jsx(Fr,{present:r||s.open,children:d.jsx(IF,{...i,ref:e})}):null});UE.displayName=Du;var IF=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fn(Du,n);return d.jsx(Ug,{as:is,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(ae.div,{"data-state":Yg(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),as="DialogContent",HE=y.forwardRef((t,e)=>{const n=BE(as,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Fn(as,t.__scopeDialog);return d.jsx(Fr,{present:r||s.open,children:s.modal?d.jsx(OF,{...i,ref:e}):d.jsx(LF,{...i,ref:e})})});HE.displayName=as;var OF=y.forwardRef((t,e)=>{const n=Fn(as,t.__scopeDialog),r=y.useRef(null),i=Pe(e,n.contentRef,r);return y.useEffect(()=>{const s=r.current;if(s)return HC(s)},[]),d.jsx(WE,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:le(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:le(t.onFocusOutside,s=>s.preventDefault())})}),LF=y.forwardRef((t,e)=>{const n=Fn(as,t.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return d.jsx(WE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),WE=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Fn(as,n),l=y.useRef(null),c=Pe(e,l);return wC(),d.jsxs(d.Fragment,{children:[d.jsx(Rg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:d.jsx(Cd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Yg(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(DF,{titleId:a.titleId}),d.jsx(FF,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Kg="DialogTitle",qE=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fn(Kg,n);return d.jsx(ae.h2,{id:i.titleId,...r,ref:e})});qE.displayName=Kg;var KE="DialogDescription",YE=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fn(KE,n);return d.jsx(ae.p,{id:i.descriptionId,...r,ref:e})});YE.displayName=KE;var GE="DialogClose",ZE=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Fn(GE,n);return d.jsx(ae.button,{type:"button",...r,ref:e,onClick:le(t.onClick,()=>i.onOpenChange(!1))})});ZE.displayName=GE;function Yg(t){return t?"open":"closed"}var XE="DialogTitleWarning",[$F,QE]=e$(XE,{contentName:as,titleName:Kg,docsSlug:"dialog"}),DF=({titleId:t})=>{const e=QE(XE),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},zF="DialogDescriptionWarning",FF=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QE(zF).contentName}}.`;return y.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},JE=DE,BF=FE,e_=VE,Gg=UE,Zg=HE,Xg=qE,Qg=YE,Ld=ZE;const ka=JE,VF=e_,t_=Ld,n_=y.forwardRef(({className:t,...e},n)=>d.jsx(Gg,{ref:n,className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));n_.displayName=Gg.displayName;const ro=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(VF,{children:[d.jsx(n_,{}),d.jsxs(Zg,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(Ld,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(vd,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ro.displayName=Zg.displayName;const io=({className:t,...e})=>d.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});io.displayName="DialogHeader";const Jg=({className:t,...e})=>d.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Jg.displayName="DialogFooter";const so=y.forwardRef(({className:t,...e},n)=>d.jsx(Xg,{ref:n,className:W("text-lg font-semibold leading-none tracking-tight",t),...e}));so.displayName=Xg.displayName;const Ca=y.forwardRef(({className:t,...e},n)=>d.jsx(Qg,{ref:n,className:W("text-sm text-muted-foreground",t),...e}));Ca.displayName=Qg.displayName;const UF=({isOpen:t,onClose:e,operation:n,accountSubtitle:r})=>{if(!t||!n)return null;const{asset:i,marketOperationType:s,totalAssetCostCopecks:o,createdAt:a,commissionCopecks:l}=n,c=s===0,u=i?c?` ${Co(i)}`:` ${Co(i)}`:c?"":"",h=c?"text-foreground":"text-success",f=c?"-":"+",p=Et.utc(a).tz("Europe/Moscow").format("D MMMM YYYY [.], HH:mm"),g=r||"  ",m=pi(l);return d.jsx(ka,{open:t,onOpenChange:e,children:d.jsxs(ro,{className:"sm:max-w-md p-0 bg-background text-foreground overflow-hidden rounded-2xl",children:[d.jsx(io,{className:"p-4 flex flex-row items-center justify-between border-b",children:d.jsx(so,{className:"text-sm font-normal text-muted-foreground",children:p})}),d.jsxs("div",{className:"p-6 flex flex-col items-center text-center space-y-1.5",children:[i&&d.jsx(wd,{logoUrl:i.logoUrl,ticker:i.ticker,className:"h-16 w-16 rounded-full border mb-2"}),d.jsx("h3",{className:"text-xl font-semibold",children:u}),(i==null?void 0:i.ticker)&&d.jsx("p",{className:"text-sm text-muted-foreground uppercase",children:i.ticker}),d.jsxs("div",{className:W("text-4xl font-bold tracking-tight pt-2",h),children:[f,d.jsx(St,{value:o,includeSymbol:!1}),d.jsx("span",{className:"text-3xl ml-1",children:""})]}),d.jsx("p",{className:"text-base text-muted-foreground pt-1",children:g}),l>0&&d.jsxs("p",{className:"text-sm text-muted-foreground pt-0.5",children:[": ",m]})]})]})})};Et.locale("ru");Et.extend(jF);Et.extend(gk);Et.extend(yk);const HF=()=>d.jsxs("div",{className:"flex items-center px-4 py-3 space-x-3 animate-pulse",children:[d.jsx("div",{className:"h-9 w-9 rounded-full bg-muted flex-shrink-0"}),d.jsxs("div",{className:"flex-grow min-w-0 space-y-1.5",children:[d.jsx("div",{className:"h-3 w-3/5 rounded bg-muted"}),d.jsx("div",{className:"h-2.5 w-2/5 rounded bg-muted"})]}),d.jsx("div",{className:"h-4 w-16 rounded bg-muted flex-shrink-0 ml-2"})]}),WF=t=>{const e={};return t.forEach(n=>{const r=Et.utc(n.createdAt).tz("Europe/Moscow").startOf("day").toISOString();e[r]||(e[r]=[]),e[r].push(n)}),e},qF=t=>{const e=Et(t).tz("Europe/Moscow"),n=Et().year();return e.year()===n?e.format("D MMMM"):e.format("D MMMM YYYY")},KF=()=>{var L;const{accountId:t}=gs(),e=Number(t),n=ct(),{accounts:r}=ir(),{tg:i}=qt(),{operations:s,selectedAccountIds:o,filterOperationType:a,totalCount:l,isLoading:c,error:u,isInitialLoad:h,setAccountFilter:f,setOperationTypeFilter:p,fetchHistory:g,resetHistory:m}=z$(),w=y.useRef(null),[v,x]=y.useState(null),[b,S]=y.useState(!1);y.useEffect(()=>(e&&!isNaN(e)?f(e):(F.error("Invalid account ID in URL:",t),f(null)),()=>{m()}),[e,f,m]);const k=y.useMemo(()=>{var D;const M=o[0];return!M||!r?null:((D=r.find(P=>{var $;return(($=P.brokerAccount)==null?void 0:$.id)===M}))==null?void 0:D.brokerAccount)??null},[o,r]),C=y.useMemo(()=>k?k.telegramUserId?` ${k.telegramUserId}`:` #${k.id}`:"",[k]),_=y.useCallback(M=>{const D=M==="all"?null:Number(M);f(D)},[f]),T=y.useCallback(M=>{const D=M==="all"?null:Number(M);p(D)},[p]),j=y.useCallback(()=>{!c&&s.length<l&&g(void 0,!0)},[c,s.length,l,g]);y.useEffect(()=>{const M=()=>n(`/portfolio/${e}`);return i&&(i.BackButton.show(),i.onEvent("backButtonClicked",M)),()=>{i&&(i.BackButton.hide(),i.offEvent("backButtonClicked",M))}},[i,n,e]),y.useEffect(()=>{const M=w.current;if(!M)return;const D=new IntersectionObserver(([P])=>{P.isIntersecting&&!c&&s.length<l&&(F.log("Intersection observer triggered load more history"),j())},{threshold:.1});return D.observe(M),()=>{M&&D.unobserve(M)}},[c,s.length,l,j]);const R=y.useMemo(()=>WF(s),[s]),O=y.useMemo(()=>Object.keys(R).sort((M,D)=>Et(D).valueOf()-Et(M).valueOf()),[R]),A=()=>a===0?"  .":a===1?"  .":"  .",B=y.useCallback(M=>{x(M),S(!0)},[]),I=y.useCallback(()=>{S(!1),setTimeout(()=>x(null),300)},[]);return d.jsxs("div",{className:"p-4 space-y-4 pb-4 flex flex-col h-full",children:[d.jsxs(mt,{className:"flex-shrink-0 shadow-sm border rounded-lg",children:[d.jsx(dr,{className:"pb-2 pt-4",children:d.jsxs("div",{className:"relative flex justify-center items-center h-8",children:[d.jsx("div",{className:"absolute left-0 h-8 w-8"})," ",d.jsx("div",{className:"flex flex-col items-center",children:d.jsx(zr,{className:"text-lg font-semibold",children:" "})})]})}),d.jsx(Wt,{className:"pt-2 pb-4",children:d.jsxs("div",{className:"grid grid-cols-2 gap-3 items-end",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"accountSelector",className:"block text-xs font-medium text-muted-foreground mb-1",children:""}),d.jsxs(Yp,{value:((L=o[0])==null?void 0:L.toString())??"all",onValueChange:_,disabled:c||!r||r.length===0,children:[d.jsx(Lu,{id:"accountSelector",className:"h-9 text-sm",children:d.jsx(d0,{placeholder:" ",children:C})}),d.jsxs($u,{children:[r==null?void 0:r.map(M=>M.brokerAccount&&d.jsxs(ei,{value:M.brokerAccount.id.toString(),children:[" ",M.brokerAccount.title.replace(/["]/g,"")," "]},M.brokerAccount.id)),(!r||r.length===0)&&d.jsx(ei,{value:"-",disabled:!0,children:" "})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"operationType",className:"block text-xs font-medium text-muted-foreground mb-1",children:" "}),d.jsxs(Yp,{value:a===null?"all":String(a),onValueChange:T,disabled:c,children:[d.jsx(Lu,{id:"operationType",className:"h-9 text-sm",children:d.jsx(d0,{placeholder:" "})}),d.jsxs($u,{children:[d.jsx(ei,{value:"all",children:" "}),d.jsx(ei,{value:"0",children:""}),d.jsx(ei,{value:"1",children:""})]})]})]})]})})]}),d.jsx(mt,{className:"shadow-sm border rounded-lg overflow-hidden flex flex-col flex-grow",children:d.jsx(Wt,{className:"p-0 flex-grow overflow-y-auto no-scrollbar min-h-0",children:h?d.jsxs("div",{className:"divide-y divide-border/60",children:[" ",d.jsxs("div",{className:"px-4 pt-3 pb-1.5 sticky top-0 z-10 bg-background/90 backdrop-blur-sm border-b border-border/50",children:[" ",d.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"})," "]})," ",Array.from({length:5}).map((M,D)=>d.jsx(HF,{},D))," "]}):u?d.jsxs("div",{className:"p-6 flex items-center justify-center h-full",children:[" ",d.jsx(ft,{message:u})," "]}):s.length>0?d.jsxs("div",{className:"relative",children:[O.map(M=>d.jsxs("div",{children:[d.jsx(TF,{dateString:qF(M)}),d.jsx("div",{className:"divide-y divide-border/60",children:R[M].map(D=>d.jsx(NF,{operation:D,onItemClick:B,accountSubtitle:C},D.id))})]},M)),d.jsx("div",{ref:w,style:{height:"10px"},"aria-hidden":"true"}),c&&s.length>0&&d.jsx("div",{className:"flex justify-center p-4",children:d.jsx(Ce,{size:"sm"})})]}):d.jsxs("div",{className:"flex justify-center items-center h-full text-muted-foreground text-center p-4",children:[" ",A()," "]})})}),d.jsx(UF,{isOpen:b,onClose:I,operation:v,accountSubtitle:C})]})};var ev="Avatar",[YF,m8]=It(ev),[GF,r_]=YF(ev),i_=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=y.useState("idle");return d.jsx(GF,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:d.jsx(ae.span,{...r,ref:e})})});i_.displayName=ev;var s_="AvatarImage",o_=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=r_(s_,n),a=ZF(r,s.referrerPolicy),l=At(c=>{i(c),o.onImageLoadingStatusChange(c)});return st(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(ae.img,{...s,ref:e,src:r}):null});o_.displayName=s_;var a_="AvatarFallback",l_=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=r_(a_,n),[o,a]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?d.jsx(ae.span,{...i,ref:e}):null});l_.displayName=a_;function ZF(t,e){const[n,r]=y.useState("idle");return st(()=>{if(!t){r("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&r(a)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var c_=i_,u_=o_,d_=l_;const $d=y.forwardRef(({className:t,...e},n)=>d.jsx(c_,{ref:n,className:W("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));$d.displayName=c_.displayName;const Dd=y.forwardRef(({className:t,...e},n)=>d.jsx(u_,{ref:n,className:W("aspect-square h-full w-full",t),...e}));Dd.displayName=u_.displayName;const zd=y.forwardRef(({className:t,...e},n)=>d.jsx(d_,{ref:n,className:W("flex h-full w-full items-center justify-center rounded-full bg-muted uppercase",t),...e}));zd.displayName=d_.displayName;const XF=5e3;let qh=0;function QF(){return qh=(qh+1)%Number.MAX_VALUE,qh.toString()}const Ps=new Map,JF=(t,e)=>{switch(e.type){case"ADD_TOAST":{const{toasts:n}=t,r={...e.toast,open:!0};return Ps.forEach((i,s)=>{clearTimeout(i),Ps.delete(s)}),{...t,toasts:[r]}}case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"REMOVE_TOAST":{const{toastId:n}=e;return n&&Ps.has(n)&&(clearTimeout(Ps.get(n)),Ps.delete(n)),{...t,toasts:n===void 0?[]:t.toasts.filter(r=>r.id!==n)}}default:return t}},Uc=[];let Ea={toasts:[]};function oo(t){Ea=JF(Ea,t),Uc.forEach(e=>{e(Ea)})}function e4(t){const e=QF(),n=()=>{oo({type:"UPDATE_TOAST",toast:{id:e,open:!1}}),setTimeout(()=>{r(e)},1e3)},r=s=>{oo({type:"REMOVE_TOAST",toastId:s})};oo({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}});const i=t.duration??XF;if(i!==1/0){const s=setTimeout(n,i);Ps.set(e,s)}return{id:e,dismiss:n}}function Bn(){const[t,e]=y.useState(Ea);return y.useEffect(()=>(Uc.push(e),()=>{const n=Uc.indexOf(e);n>-1&&Uc.splice(n,1)}),[t]),{...t,toast:e4,dismiss:n=>{n?Ea.toasts.find(i=>i.id===n)&&(oo({type:"UPDATE_TOAST",toast:{id:n,open:!1}}),setTimeout(()=>{oo({type:"REMOVE_TOAST",toastId:n})},1e3)):oo({type:"REMOVE_TOAST"})}}}var Kh="rovingFocusGroup.onEntryFocus",t4={bubbles:!1,cancelable:!0},Fd="RovingFocusGroup",[Gp,h_,n4]=bd(Fd),[r4,Bd]=It(Fd,[n4]),[i4,s4]=r4(Fd),f_=y.forwardRef((t,e)=>d.jsx(Gp.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Gp.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(o4,{...t,ref:e})})}));f_.displayName=Fd;var o4=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,f=y.useRef(null),p=Pe(e,f),g=Ml(s),[m=null,w]=bn({prop:o,defaultProp:a,onChange:l}),[v,x]=y.useState(!1),b=At(c),S=h_(n),k=y.useRef(!1),[C,_]=y.useState(0);return y.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Kh,b),()=>T.removeEventListener(Kh,b)},[b]),d.jsx(i4,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:y.useCallback(T=>w(T),[w]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>_(T=>T-1),[]),children:d.jsx(ae.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:le(t.onMouseDown,()=>{k.current=!0}),onFocus:le(t.onFocus,T=>{const j=!k.current;if(T.target===T.currentTarget&&j&&!v){const R=new CustomEvent(Kh,t4);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=S().filter(M=>M.focusable),A=O.find(M=>M.active),B=O.find(M=>M.id===m),L=[A,B,...O].filter(Boolean).map(M=>M.ref.current);g_(L,u)}}k.current=!1}),onBlur:le(t.onBlur,()=>x(!1))})})}),p_="RovingFocusGroupItem",m_=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=tr(),l=s||a,c=s4(p_,n),u=c.currentTabStopId===l,h=h_(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=c;return y.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),d.jsx(Gp.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:d.jsx(ae.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:le(t.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:le(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:le(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=c4(g,c.orientation,c.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=h().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const x=v.indexOf(g.currentTarget);v=c.loop?u4(v,x+1):v.slice(x+1)}setTimeout(()=>g_(v))}})})})});m_.displayName=p_;var a4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function l4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function c4(t,e,n){const r=l4(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return a4[r]}function g_(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function u4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var v_=f_,y_=m_,tv="Radio",[d4,x_]=It(tv),[h4,f4]=d4(tv),w_=y.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:a="on",onCheck:l,form:c,...u}=t,[h,f]=y.useState(null),p=Pe(e,w=>f(w)),g=y.useRef(!1),m=h?c||!!h.closest("form"):!0;return d.jsxs(h4,{scope:n,checked:i,disabled:o,children:[d.jsx(ae.button,{type:"button",role:"radio","aria-checked":i,"data-state":k_(i),"data-disabled":o?"":void 0,disabled:o,value:a,...u,ref:p,onClick:le(t.onClick,w=>{i||l==null||l(),m&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),m&&d.jsx(p4,{control:h,bubbles:!g.current,name:r,value:a,checked:i,required:s,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});w_.displayName=tv;var b_="RadioIndicator",S_=y.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=f4(b_,n);return d.jsx(Fr,{present:r||s.checked,children:d.jsx(ae.span,{"data-state":k_(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});S_.displayName=b_;var p4=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=y.useRef(null),o=Ad(n),a=Td(e);return y.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(l,n),l.dispatchEvent(f)}},[o,n,r]),d.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function k_(t){return t?"checked":"unchecked"}var m4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nv="RadioGroup",[g4,g8]=It(nv,[Bd,x_]),C_=Bd(),E_=x_(),[v4,y4]=g4(nv),__=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:u=!0,onValueChange:h,...f}=t,p=C_(n),g=Ml(c),[m,w]=bn({prop:s,defaultProp:i,onChange:h});return d.jsx(v4,{scope:n,name:r,required:o,disabled:a,value:m,onValueChange:w,children:d.jsx(v_,{asChild:!0,...p,orientation:l,dir:g,loop:u,children:d.jsx(ae.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:g,...f,ref:e})})})});__.displayName=nv;var N_="RadioGroupItem",T_=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=y4(N_,n),o=s.disabled||r,a=C_(n),l=E_(n),c=y.useRef(null),u=Pe(e,c),h=s.value===i.value,f=y.useRef(!1);return y.useEffect(()=>{const p=m=>{m4.includes(m.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),d.jsx(y_,{asChild:!0,...a,focusable:!o,active:h,children:d.jsx(w_,{disabled:o,required:s.required,checked:h,...l,...i,name:s.name,ref:u,onCheck:()=>s.onValueChange(i.value),onKeyDown:le(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:le(i.onFocus,()=>{var p;f.current&&((p=c.current)==null||p.click())})})})});T_.displayName=N_;var x4="RadioGroupIndicator",P_=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=E_(n);return d.jsx(S_,{...i,...r,ref:e})});P_.displayName=x4;var A_=__,j_=T_,w4=P_;const Zp=y.forwardRef(({className:t,...e},n)=>d.jsx(A_,{className:W("grid gap-2",t),...e,ref:n}));Zp.displayName=A_.displayName;const As=y.forwardRef(({className:t,...e},n)=>d.jsx(j_,{ref:n,className:W("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(w4,{className:"flex items-center justify-center",children:d.jsx(zO,{className:"h-2.5 w-2.5 fill-current text-current"})})}));As.displayName=j_.displayName;var b4="Label",M_=y.forwardRef((t,e)=>d.jsx(ae.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));M_.displayName=b4;var R_=M_;const S4=Cg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),at=y.forwardRef(({className:t,...e},n)=>d.jsx(R_,{ref:n,className:W(S4(),t),...e}));at.displayName=R_.displayName;const Xp="themePreference",k4=()=>{try{const t=localStorage.getItem(Xp);if(t==="light"||t==="dark"||t==="system")return t}catch(t){console.error("Error reading initial theme preference:",t)}return"system"},Ki=ur()(Io(t=>({preference:k4(),setPreference:e=>{console.log(`[ThemeStore] Setting preference to: ${e}`),t({preference:e});try{localStorage.setItem(Xp,e)}catch(n){console.error("Error saving theme preference to localStorage:",n)}}}),{name:Xp,storage:vs(()=>localStorage)})),C4="https://t.me/CounterCulturalConversation",I_="app-dynamic-config",E4=()=>{var t;try{const e=localStorage.getItem(I_);if(e){const n=JSON.parse(e);if((t=n==null?void 0:n.state)!=null&&t.chatLink&&typeof n.state.chatLink=="string")return n.state.chatLink}}catch(e){console.error("Error reading initial chat link:",e)}return C4},_4=ur()(Io(t=>({chatLink:E4(),setChatLink:e=>{console.log(`[ConfigStore] Setting chatLink to: ${e}`),t({chatLink:e})}}),{name:I_,storage:vs(()=>localStorage),partialize:t=>({chatLink:t.chatLink})})),N4=t=>{try{if(!t)return null;const n=new URLSearchParams(t).get("user");if(n){const r=JSON.parse(decodeURIComponent(n));if(r&&typeof r=="object"&&typeof r.id=="number")return{userId:r.id,firstName:r.first_name||null,lastName:r.last_name||null,username:r.username||null,photoUrl:r.photo_url||null,isBot:r.is_bot||!1}}}catch(e){F.error("Failed to parse mock user data:",e)}return null},Cs=({label:t,onClick:e,disabled:n=!1,currentValue:r,Icon:i,children:s})=>{const{toast:o}=Bn(),a=()=>{n?o({title:" ",description:"   .",duration:2e3}):e&&e()};return d.jsxs("button",{onClick:a,disabled:n,className:W("flex items-center w-full text-left p-4 transition-colors relative",n?"text-muted-foreground cursor-not-allowed opacity-60":"hover:bg-muted/50 active:bg-muted/80 cursor-pointer"),children:[i&&d.jsx(i,{className:"h-5 w-5 mr-3 text-muted-foreground flex-shrink-0"}),d.jsx("span",{className:"text-base flex-grow",children:t}),r&&d.jsx("span",{className:"text-sm text-muted-foreground mr-2",children:r}),s,d.jsx(Nk,{className:W("h-5 w-5 flex-shrink-0",n?"text-muted-foreground/50":"text-muted-foreground")})]})},T4=()=>{F.log("[ProfilePage] Rendering...");const{tg:t,user:e}=qt(),n=wn(z=>z.logout),{isAdminAuthenticated:r}=Er(),{toast:i}=Bn(),[s,o]=y.useState(!1),a=Ki(z=>z.preference),l=Ki(z=>z.setPreference),[c,u]=y.useState(!1),[h,f]=y.useState(!1),[p,g]=y.useState(!1),m=_4(z=>z.chatLink),w=ct(),{notificationsEnabled:v,setNotificationsEnabled:x}=mn(),b=y.useMemo(()=>gd(),[]),S=Le.useMemo(()=>{F.log("[ProfilePage useMemo] Calculating displayUser...",{telegramUserSDK:e,isMock:b.useMock});const z=e;if(z&&typeof z.id=="number")return F.log("[ProfilePage useMemo] Using real Telegram user data."),{userId:z.id,firstName:z.first_name||null,lastName:z.last_name||null,username:z.username||null,photoUrl:z.photo_url||null,isBot:z.is_bot||!1};const X=b.useMock,N=b.mockInitData;if(X&&N){F.log("[ProfilePage useMemo] Using mock data.");const oe=N4(N);return F.log("[ProfilePage useMemo] Parsed mock user:",oe),oe}return F.warn("[ProfilePage useMemo] No real user and no mock data, returning null."),null},[e,b.useMock,b.mockInitData]);F.log("[ProfilePage] displayUser value:",S),y.useEffect(()=>{o(!1)},[S==null?void 0:S.userId]);const k=(S==null?void 0:S.firstName)||"User",C=(S==null?void 0:S.lastName)||"",_=S==null?void 0:S.username,T=S==null?void 0:S.photoUrl,j=S==null?void 0:S.userId,R=[k==null?void 0:k[0],C==null?void 0:C[0]].filter(Boolean).map(z=>z==null?void 0:z.toUpperCase()).join("")||"?",O=()=>{n()},A=()=>{s||o(!0)},B=z=>{l(z),f(!1)},I=()=>{u(!0)},L=()=>{t!=null&&t.openTelegramLink?t.openTelegramLink(m):(window.open(m,"_blank"),i({title:" ",description:"    .",duration:2e3})),u(!1)},M=()=>{switch(a){case"light":return"";case"dark":return"";case"system":default:return"  Telegram"}},D=()=>{w("/faq")},P=()=>{w("/admin/panel",{state:{fromProfile:!0}})},$=()=>{g(!0)},E=z=>{x(z==="true"),g(!1)};return S?(F.log("[ProfilePage] Rendering main content..."),d.jsxs("div",{className:"p-4 space-y-4 pb-4 flex flex-col h-full",children:[d.jsx(mt,{className:"flex-grow shadow-sm border rounded-lg overflow-hidden flex flex-col",children:d.jsx(Wt,{className:"p-0 flex-grow overflow-y-auto no-scrollbar",children:d.jsxs("div",{className:"divide-y divide-border/60",children:[d.jsxs("div",{className:"flex items-center p-4 space-x-4",children:[d.jsx($d,{className:"w-12 h-12 flex-shrink-0 border",children:!s&&T?d.jsx(Dd,{src:T,alt:_||"User",onError:A}):d.jsx(zd,{className:"text-xl",children:R})}),d.jsxs("div",{className:"overflow-hidden flex-grow",children:[d.jsxs("p",{className:"text-base font-semibold truncate",children:[k," ",C]}),_&&d.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["@",_]}),j&&d.jsxs("p",{className:"text-xs text-muted-foreground/70 mt-0.5",children:["Telegram ID: ",j]})]}),d.jsxs(Se,{variant:"ghost",size:"icon",className:"flex-shrink-0 text-destructive",onClick:O,children:[d.jsx(jk,{className:"h-5 w-5"})," ",d.jsx("span",{className:"sr-only",children:""})]})]}),d.jsx(Cs,{label:"",onClick:$,Icon:v?Ip:Rp,currentValue:v?"":""}),d.jsx(Cs,{label:"    ",onClick:D,Icon:Tk}),d.jsx(Cs,{label:"   ",disabled:!0,Icon:qO}),d.jsx(Cs,{label:" ",onClick:()=>f(!0),Icon:Rx,currentValue:M()}),d.jsx(Cs,{label:"    ",disabled:!0,Icon:UO}),d.jsx(Cs,{label:"  ",onClick:I,Icon:XO})]})})}),r&&d.jsx("div",{className:"mt-4 flex-shrink-0",children:d.jsxs(Se,{variant:"secondary",className:"w-full h-12 text-base font-medium flex items-center justify-center gap-2 shadow-sm",onClick:P,children:[d.jsx(Rk,{className:"h-5 w-5"})," -"]})}),d.jsx(ka,{open:c,onOpenChange:u,children:d.jsxs(ro,{children:[" ",d.jsxs(io,{children:[" ",d.jsxs(so,{className:"flex items-center gap-2",children:[" ",d.jsx(VO,{className:"h-5 w-5 text-muted-foreground"}),"    "]})," ",d.jsxs(Ca,{className:"pt-2 text-left",children:["       : ",d.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"block text-primary hover:underline truncate mt-1 text-sm",onClick:z=>z.preventDefault(),children:[" ",m," "]})," "]})," "]})," ",d.jsxs(Jg,{className:"mt-4",children:[" ",d.jsxs(t_,{asChild:!0,children:[" ",d.jsx(Se,{type:"button",variant:"outline",children:"  "})," "]})," ",d.jsx(Se,{type:"button",onClick:L,children:"  "})," "]})," "]})}),d.jsx(ka,{open:h,onOpenChange:f,children:d.jsxs(ro,{className:"sm:max-w-[425px]",children:[" ",d.jsxs(io,{children:[" ",d.jsx(so,{children:"  "})," ",d.jsx(Ca,{children:" ,    . "})," "]})," ",d.jsxs(Zp,{value:a,onValueChange:z=>B(z),className:"grid gap-4 py-4",children:[" ",d.jsxs("div",{className:"flex items-center space-x-3 rounded-md border p-3 hover:bg-accent hover:text-accent-foreground transition-colors",children:[" ",d.jsx(As,{value:"light",id:"theme-light"})," ",d.jsxs(at,{htmlFor:"theme-light",className:"flex items-center gap-2 cursor-pointer flex-grow",children:[" ",d.jsx(JO,{className:"h-4 w-4"}),"  "]})," "]})," ",d.jsxs("div",{className:"flex items-center space-x-3 rounded-md border p-3 hover:bg-accent hover:text-accent-foreground transition-colors",children:[" ",d.jsx(As,{value:"dark",id:"theme-dark"})," ",d.jsxs(at,{htmlFor:"theme-dark",className:"flex items-center gap-2 cursor-pointer flex-grow",children:[" ",d.jsx(YO,{className:"h-4 w-4"}),"  "]})," "]})," ",d.jsxs("div",{className:"flex items-center space-x-3 rounded-md border p-3 hover:bg-accent hover:text-accent-foreground transition-colors",children:[" ",d.jsx(As,{value:"system",id:"theme-system"})," ",d.jsxs(at,{htmlFor:"theme-system",className:"flex items-center gap-2 cursor-pointer flex-grow",children:[" ",d.jsx(Rx,{className:"h-4 w-4"}),"   Telegram "]})," "]})," "]})," "]})}),d.jsx(ka,{open:p,onOpenChange:g,children:d.jsxs(ro,{className:"sm:max-w-[425px]",children:[d.jsxs(io,{children:[d.jsx(so,{children:" "}),d.jsx(Ca,{children:"      ."})]}),d.jsxs(Zp,{value:v?"true":"false",onValueChange:E,className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"flex items-center space-x-3 rounded-md border p-3 hover:bg-accent hover:text-accent-foreground transition-colors",children:[d.jsx(As,{value:"true",id:"notif-enabled"}),d.jsxs(at,{htmlFor:"notif-enabled",className:"flex items-center gap-2 cursor-pointer flex-grow",children:[d.jsx(Ip,{className:"h-4 w-4"})," "]})]}),d.jsxs("div",{className:"flex items-center space-x-3 rounded-md border p-3 hover:bg-accent hover:text-accent-foreground transition-colors",children:[d.jsx(As,{value:"false",id:"notif-disabled"}),d.jsxs(at,{htmlFor:"notif-disabled",className:"flex items-center gap-2 cursor-pointer flex-grow",children:[d.jsx(Rp,{className:"h-4 w-4"})," "]})]})]})]})})]})):(F.error("[ProfilePage] displayUser is null or undefined, rendering error message."),d.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"     .  . "}))};var rv="Checkbox",[P4,v8]=It(rv),[A4,j4]=P4(rv),O_=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...h}=t,[f,p]=y.useState(null),g=Pe(e,S=>p(S)),m=y.useRef(!1),w=f?u||!!f.closest("form"):!0,[v=!1,x]=bn({prop:i,defaultProp:s,onChange:c}),b=y.useRef(v);return y.useEffect(()=>{const S=f==null?void 0:f.form;if(S){const k=()=>x(b.current);return S.addEventListener("reset",k),()=>S.removeEventListener("reset",k)}},[f,x]),d.jsxs(A4,{scope:n,state:v,disabled:a,children:[d.jsx(ae.button,{type:"button",role:"checkbox","aria-checked":mi(v)?"mixed":v,"aria-required":o,"data-state":D_(v),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:g,onKeyDown:le(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:le(t.onClick,S=>{x(k=>mi(k)?!0:!k),w&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),w&&d.jsx(M4,{control:f,bubbles:!m.current,name:r,value:l,checked:v,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:mi(s)?!1:s})]})});O_.displayName=rv;var L_="CheckboxIndicator",$_=y.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=j4(L_,n);return d.jsx(Fr,{present:r||mi(s.state)||s.state===!0,children:d.jsx(ae.span,{"data-state":D_(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});$_.displayName=L_;var M4=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=y.useRef(null),a=Ad(n),l=Td(e);y.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==n&&p){const g=new Event("click",{bubbles:r});u.indeterminate=mi(n),p.call(u,mi(n)?!1:n),u.dispatchEvent(g)}},[a,n,r]);const c=y.useRef(mi(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mi(t){return t==="indeterminate"}function D_(t){return mi(t)?"indeterminate":t?"checked":"unchecked"}var z_=O_,R4=$_;const F_=y.forwardRef(({className:t,...e},n)=>d.jsx(z_,{ref:n,className:W("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(R4,{className:W("flex items-center justify-center text-current"),children:d.jsx(bg,{className:"h-4 w-4"})})}));F_.displayName=z_.displayName;const I4=()=>{const{fetchPortfolio:t}=ir(),{toast:e}=Bn(),[n,r]=y.useState(!1),[i,s]=y.useState(!1),o=async()=>{if(!i){e({title:" ",description:", ,   ,    .",variant:"destructive"});return}if(!n){r(!0),console.log("[RegisterInitialPage] Calling createInitialBrokerAccount API...");try{const a=await cI();console.log("[RegisterInitialPage] API Response:",a),a.isSuccess?(e({title:" !",description:"    .",variant:"success"}),await t(!0)):(e({title:" ",description:a.errorMessage||"   .",variant:"destructive"}),console.error("[RegisterInitialPage] Account creation failed:",a.errorMessage))}catch(a){console.error("[RegisterInitialPage] Unexpected error in handleCreateAccount:",a),e({title:" ",description:(a==null?void 0:a.message)||"  .",variant:"destructive"})}finally{r(!1)}}};return d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-50",children:d.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[d.jsx("div",{className:"text-center",children:d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"!"})}),d.jsxs("div",{className:"space-y-3 text-sm text-center text-gray-600",children:[d.jsxs("p",{children:["   ",d.jsx("strong",{className:"font-semibold",children:""}),"."]}),d.jsxs("p",{children:["     - ",d.jsx("strong",{className:"font-semibold text-red-600",children:" "}),"."]})]}),d.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-blue-50 border border-blue-200 rounded",children:[d.jsx(F_,{id:"confirmation",checked:i,onCheckedChange:a=>s(!!a),"aria-label":"Confirm understanding"}),d.jsx(at,{htmlFor:"confirmation",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-700",children:",  ,         ."})]}),d.jsx(Se,{onClick:o,disabled:n||!i,className:"w-full",children:n?d.jsx(Ce,{size:"sm"}):"   "})]})})},B_=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},V_=(t,e)=>{var r,i,s,o,a;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:((r=t==null?void 0:t.response)==null?void 0:r.status)===400||((i=t==null?void 0:t.response)==null?void 0:i.status)===401?n="   .":((s=t==null?void 0:t.response)==null?void 0:s.status)===403?n="  .   .":t!=null&&t.response?n=`Request failed (${t.response.status}): ${((o=t.response.data)==null?void 0:o.errorMessage)||((a=t.response.data)==null?void 0:a.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},O4=async t=>{const e="Login failed.";if(typeof t!="string"||t.length===0)return console.error("[API/Auth] Invalid initDataString received:",t),{isSuccess:!1,errorMessage:"Invalid initData provided to API call",resultObject:null};const n=`tma ${t}`;console.log("[API/Auth] Sending request body (first 60 chars):",n.substring(0,60)+"...");try{const r=await et.post("/Account/LoginByTelegramUserInfo",n,{headers:{"Content-Type":"text/plain"}});return console.log("[API/Auth loginByTelegramUserInfo] Response received:",r==null?void 0:r.data),B_(r,e)}catch(r){return V_(r,e)}},L4=async(t,e)=>{const n="Admin login failed.",r={Login:t,Password:e};console.log("[API/Auth loginByLoginPassword] Attempting login with:",{login:t,password:"***"});try{const i=await et.post("/Account/LoginByLogPassPair",r);return console.log("[API/Auth loginByLoginPassword] Raw API Response:",i),B_(i,n)}catch(i){return V_(i,n)}},$4=t=>{try{if(!t)return null;const n=new URLSearchParams(t).get("user");if(n){const r=JSON.parse(decodeURIComponent(n));if(r&&typeof r=="object"&&typeof r.id=="number")return{userId:r.id,firstName:r.first_name||null,lastName:r.last_name||null,username:r.username||null,photoUrl:r.photo_url||null,isBot:r.is_bot||!1}}}catch(e){console.error("Failed to parse mock user data:",e)}return null},D4=()=>{console.log("--- RENDERING LoginPage ---");const{user:t,initData:e}=qt(),{login:n,isAuthenticated:r,isLoading:i}=wn(),[s,o]=y.useState(!1),{toast:a}=Bn(),l=ct(),{IS_MOCK_MODE:c,MOCK_INIT_DATA_STRING:u}=y.useMemo(()=>{const k=gd();return{IS_MOCK_MODE:k.useMock,MOCK_INIT_DATA_STRING:k.mockInitData||""}},[]),h=y.useMemo(()=>{const k=t;return k&&typeof k.id=="number"?{userId:k.id,firstName:k.first_name||null,lastName:k.last_name||null,username:k.username||null,photoUrl:k.photo_url||null,isBot:k.is_bot||!1}:c&&u?$4(u):null},[t,c,u]),f=y.useMemo(()=>(c?u:e)||null,[e,c,u]);if(i)return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx(Ce,{size:"lg"})});if(r)return console.log("[LoginPage] Already authenticated, redirecting..."),d.jsx(fi,{to:"/",replace:!0});const p=async()=>{var k;if(console.log("[LoginPage] Login button clicked."),!f){a({title:"",description:"    .",variant:"destructive"}),console.error("[LoginPage] Login button clicked but loginDataString is null or empty.",{isMock:c});return}o(!0),console.log("[LoginPage] Calling loginByTelegramUserInfo...");try{const C=await O4(f);if(console.log("[LoginPage] Manual Login API Response Raw:",C),C.isSuccess&&((k=C.resultObject)!=null&&k.jwt))n(C.resultObject.userId,C.resultObject.jwt),a({title:" ",variant:"success",duration:2e3});else throw new Error(C.errorMessage||"    API.")}catch(C){console.error("[LoginPage] Manual Login Exception/Error:",C),a({title:" ",description:(C==null?void 0:C.message)||" .",variant:"destructive"})}finally{o(!1)}},g=()=>{l("/admin/login")},m=!f||s,w=(h==null?void 0:h.firstName)||"Welcome",v=(h==null?void 0:h.lastName)||"",x=h==null?void 0:h.username,b=h==null?void 0:h.photoUrl,S=[w==null?void 0:w[0],v==null?void 0:v[0]].filter(Boolean).map(k=>k.toUpperCase()).join("")||"?";return console.log("[LoginPage - Before Render]",{IS_MOCK_MODE:c,loginDataStringExists:!!f,displayUserExists:!!h,displayUserValue:h,isAuthLoading:i,isAuthenticated:r}),d.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900/30",children:d.jsxs(mt,{className:"w-full max-w-sm shadow-xl rounded-xl",children:[d.jsxs(dr,{className:"items-center text-center pt-8 pb-6",children:[d.jsx($d,{className:"w-24 h-24 mb-4 border-4 border-background shadow-md",children:b?d.jsx(Dd,{src:b,alt:x||"User",className:"object-cover"}):d.jsx(zd,{className:"text-4xl font-light text-muted-foreground bg-gradient-to-br from-slate-200 to-slate-300 dark:from-gray-600 dark:to-gray-700",children:S!=="?"?S:""})}),d.jsx(zr,{className:"text-xl font-semibold",children:w==="Welcome"?" !":`${w}${v?` ${v}`:""}`}),x&&d.jsxs(yd,{children:["@",x]})]}),d.jsxs(Wt,{className:"flex flex-col items-center space-y-5 px-6 pb-8",children:[d.jsxs(Se,{className:"w-full h-12 text-base font-semibold shadow hover:shadow-md transition-shadow",onClick:p,disabled:m,children:[s&&d.jsx(Ce,{size:"sm"}),"   Telegram"]}),d.jsxs("div",{className:"relative w-full max-w-[200px]",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("span",{className:"w-full border-t"})}),d.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:d.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:""})})]}),d.jsx(Se,{variant:"link",className:"text-muted-foreground hover:text-primary h-9 px-1",onClick:g,children:"    "})]})]})})},U_=Le.memo(({asset:t})=>d.jsx(wd,{logoUrl:t.logoUrl,ticker:t.ticker,className:"h-10 w-10 rounded-full border"}));U_.displayName="AssetHeader";const H_=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},W_=(t,e)=>{var r,i;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},z4=async t=>{const e="Buy operation failed.";console.log("[API/Trade] buyAssets payload:",t);try{const n=await et.post("/api/BrokerAccountUser/BuyAssets",t);return console.log("[API/Trade] buyAssets response:",n==null?void 0:n.data),H_(n,e)}catch(n){return W_(n,e)}},F4=async t=>{const e="Sell operation failed.";console.log("[API/Trade] sellAssets payload:",t);try{const n=await et.post("/api/BrokerAccountUser/SellAssets",t);return console.log("[API/Trade] sellAssets response:",n==null?void 0:n.data),H_(n,e)}catch(n){return W_(n,e)}},Rn=y.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Rn.displayName="Input";var B4="Separator",h0="horizontal",V4=["horizontal","vertical"],q_=y.forwardRef((t,e)=>{const{decorative:n,orientation:r=h0,...i}=t,s=U4(r)?r:h0,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return d.jsx(ae.div,{"data-orientation":s,...a,...i,ref:e})});q_.displayName=B4;function U4(t){return V4.includes(t)}var K_=q_;const Y_=y.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>d.jsx(K_,{ref:i,decorative:n,orientation:e,className:W("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Y_.displayName=K_.displayName;const G_=Le.memo(({asset:t,accounts:e})=>{var be,he,te,ue,q;const{toast:n}=Bn(),{fetchPortfolio:r}=ir(),i=mn(U=>U.fetchUnreadCount),[s,o]=y.useState(""),[a,l]=y.useState(1),[c,u]=y.useState(!1),{prices:h,isLoading:f,error:p}=xd(t?[t.ticker]:[]),g=t?h.get(t.ticker):null,m=y.useMemo(()=>(e==null?void 0:e.map(U=>U.brokerAccount).filter(U=>!!U))??[],[e]),w=y.useMemo(()=>e==null?void 0:e.find(U=>{var J;return((J=U.brokerAccount)==null?void 0:J.id.toString())===s}),[e,s]),v=y.useMemo(()=>w==null?void 0:w.portfolioItems.find(U=>U.assetId===(t==null?void 0:t.id)),[w,t==null?void 0:t.id]),x=y.useMemo(()=>(v==null?void 0:v.quantity)??0,[v]),b=y.useMemo(()=>{var U;return((U=w==null?void 0:w.portfolioItems.find(J=>{var ie;return((ie=J.asset)==null?void 0:ie.ticker)==="RUB"}))==null?void 0:U.quantity)??0},[w]),S=y.useMemo(()=>Math.max(1,(t==null?void 0:t.lotSize)||1),[t]),k=y.useMemo(()=>a*S,[a,S]),C=y.useMemo(()=>g?Math.round(g.price*100):null,[g]),_=y.useMemo(()=>C===null&&(t!=null&&t.price)?Math.round(t.price*100):null,[C,t]),T=C??_,j=y.useMemo(()=>T!==null?T*k:0,[T,k]),R=y.useMemo(()=>(g==null?void 0:g.commissionFeePercent)??(t==null?void 0:t.commissionFeePercent)??0,[g,t]),O=y.useMemo(()=>Math.round(j*(R/100)),[j,R]),A=y.useMemo(()=>j+O,[j,O]),B=y.useMemo(()=>j-O,[j,O]),I=y.useMemo(()=>!f&&T!==null,[f,T]),L=x>0;y.useEffect(()=>{!s&&m.length>0&&o(m[0].id.toString())},[m,s]),y.useEffect(()=>{l(1)},[s]);const M=y.useCallback(U=>{const J=U.target.value;if(J===""){l(0);return}let ie=parseInt(J,10);ie=Math.max(1,isNaN(ie)||ie<1?1:ie),l(ie)},[]),D=y.useCallback(U=>{if(c)return"...";if(!t)return"  ";if(!I)return" ...";if(!s)return" ";if(a<=0)return"-  > 0";if(U==="buy"&&A>b)return" ";if(U==="sell"){if(!L)return"   ";if(k>x)return" "}return null},[c,t,I,a,s,A,b,L,k,x]),P=D("buy"),$=P!==null,E=D("sell"),z=!L||E!==null,X=L?E:"   ",N=y.useCallback(async U=>{const J=U==="buy"?P:X;if(!s){n({title:"  ",variant:"destructive"});return}if(J){n({title:U==="buy"?" ":" ",description:J,variant:"destructive"});return}if(!t||!t.id||T===null||a<=0){n({title:" ",description:"    .",variant:"destructive"});return}u(!0);const ie={BrokerAccountId:parseInt(s,10),AssetId:t.id,Quantity:k};try{const Re=await(U==="buy"?z4:F4)(ie);if(Re.isSuccess)n({title:" ",description:`${U==="buy"?"":""} ${a} () ${t.ticker}`,variant:"success"}),r(!0),i(!0),F.log("[AssetTradeForm] Trade successful, triggered portfolio and unread count fetch."),l(1);else throw new Error(Re.errorMessage||"  .")}catch(Te){n({title:" ",description:Te.message||" .",variant:"destructive"})}finally{u(!1)}},[t,s,a,S,k,T,P,X,n,r,i]),oe=y.useCallback(U=>U?d.jsx(ei,{value:U.id.toString(),children:d.jsxs("div",{className:"flex justify-between w-full items-center",children:[d.jsx("span",{children:U.title.replace(/["]/g,"")}),d.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[" ",U.telegramUserId||"N/A"," "]})]})},U.id):null,[]);return t?d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx(at,{htmlFor:"trade-account",className:"text-xs text-muted-foreground mb-1 block",children:" "}),d.jsxs(Yp,{value:s,onValueChange:o,disabled:m.length<=0||c,children:[d.jsx(Lu,{id:"trade-account",className:"h-auto py-2.5 px-3 justify-start text-left",children:w&&e?d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"flex items-center justify-center h-7 w-7 bg-muted rounded text-xs font-mono text-muted-foreground flex-shrink-0",children:((he=(be=w.brokerAccount)==null?void 0:be.type)==null?void 0:he.substring(0,3).toUpperCase())||"ACC"}),d.jsxs("div",{className:"min-w-0",children:[d.jsxs("p",{className:"text-sm font-medium leading-tight truncate",children:[" ",(te=w.brokerAccount)==null?void 0:te.title.replace(/["]/g,"")," "]}),d.jsxs("p",{className:"text-xs leading-tight text-muted-foreground",children:[" ",((ue=w.brokerAccount)==null?void 0:ue.telegramUserId)||"N/A"," "]})]})]}):d.jsx("span",{className:"text-muted-foreground text-sm",children:m.length>0?" ...":"  "})}),d.jsxs($u,{children:[m.map(U=>oe(U)),m.length===0&&d.jsx(ei,{value:"-",disabled:!0,children:"  "})]})]}),w&&d.jsxs("div",{className:"text-xs text-muted-foreground mt-1.5 px-1 flex justify-between",children:[d.jsxs("span",{children:[": ",pi(b)]}),x>0&&d.jsxs("span",{children:[" : ",Sr(x,0)," ."]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[d.jsx(at,{htmlFor:"quantityLots",className:"text-sm font-medium",children:" "}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:[Sr(S,0)," .  "]})]}),d.jsx(Rn,{id:"quantityLots",type:"number",value:a===0?"":a.toString(),onChange:M,min:1,step:1,className:W("h-11 text-base"),disabled:c})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[" ",d.jsx(at,{className:"text-sm font-medium",children:""})," ",d.jsx("span",{className:"text-xs text-muted-foreground",children:" 1 ."})," "]}),d.jsxs("div",{className:"relative",children:[d.jsx(Rn,{type:"text",value:T!==null?Sr(T/100,((q=t.assetType)==null?void 0:q.title)==="bond"?4:2):f?"...":"---",readOnly:!0,className:W("h-11 text-base pr-10 cursor-default","bg-muted/60 border-muted/80 text-muted-foreground","focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:border-muted/80")}),d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""})]}),p&&d.jsxs("p",{className:"text-xs text-destructive mt-1.5 px-1 flex items-center gap-1",children:[d.jsx($O,{size:14}),"   "]}),!p&&d.jsx("p",{className:"text-xs text-muted-foreground mt-1.5 px-1",children:"     ."})]}),d.jsxs("div",{className:"space-y-1.5 text-sm bg-card p-3 rounded-md border",children:[d.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[d.jsxs("span",{children:[" (",Sr(k)," .)"]}),d.jsx("span",{children:T===null?"-":pi(j)})]}),d.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[d.jsxs("span",{children:["  ",Sr(R,2),"%"]}),d.jsx("span",{children:T===null?"-":pi(O)})]}),d.jsx(Y_,{className:"my-2 bg-border/50"}),d.jsxs("div",{className:W("flex justify-between font-medium text-sm pt-1 text-success transition-opacity duration-200"),children:[d.jsx("span",{children:" ()"}),T===null?"-":d.jsx(St,{value:A})]}),L&&d.jsxs("div",{className:W("flex justify-between font-medium text-sm text-destructive transition-opacity duration-200"),children:[d.jsx("span",{children:" ()"}),T===null?"-":d.jsx(St,{value:B})]})]}),t.ticker!=="RUB"&&d.jsxs("div",{className:W("fixed bottom-0 left-0 right-0 z-50 p-3 bg-background/95 backdrop-blur-sm border-t border-border/50","pb-[calc(0.75rem+env(safe-area-inset-bottom,0px))]","flex gap-3"),children:[d.jsx(Se,{variant:"destructive",className:"flex-1 h-12 text-base font-semibold transition-opacity",onClick:()=>N("sell"),disabled:z,title:X||"",children:c&&a>0?d.jsx(Ce,{size:"sm"}):""}),d.jsx(Se,{variant:"success",className:"flex-1 h-12 text-base font-semibold transition-opacity",onClick:()=>N("buy"),disabled:$,title:P||"",children:c&&a>0?d.jsx(Ce,{size:"sm"}):""})]})]}):d.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"  ."})});G_.displayName="AssetTradeForm";function Be(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function Yi(t,e){return t.width===e.width&&t.height===e.height}var H4=function(){function t(e){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var n=this,r={next:e};return this._observers.push(r),{unsubscribe:function(){n._observers=n._observers.filter(function(i){return i!==r})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(n){return n.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function W4(t){return new H4(t)}var q4=function(){function t(e,n,r){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Be({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??function(s){return s},this._allowResizeObserver=(i=r==null?void 0:r.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,n;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return Be({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Be(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var n=this.bitmapSize;Yi(n,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(n,e))},t.prototype._emitBitmapSizeChanged=function(e,n){var r=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._suggestNewBitmapSize=function(e){var n=this._suggestedBitmapSize,r=Be(this._transformBitmapSize(e,this._canvasElementClientSize)),i=Yi(this.bitmapSize,r)?null:r;n===null&&i===null||n!==null&&i!==null&&Yi(n,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(n,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,n){var r=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,n)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}Y4().then(function(n){return n?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var n=f0(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=W4(n),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,n;if(this._canvasElement!==null){var r=f0(this._canvasElement);if(r!==null){var i=(n=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&n!==void 0?n:r.devicePixelRatio,s=this._canvasElement.getClientRects(),o=s[0]!==void 0?G4(s[0],i):Be({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var r=n.find(function(o){return o.target===e._canvasElement});if(!(!r||!r.devicePixelContentBoxSize||!r.devicePixelContentBoxSize[0])){var i=r.devicePixelContentBoxSize[0],s=Be({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function K4(t,e){return new q4(t,e.transform,e.options)}function f0(t){return t.ownerDocument.defaultView}function Y4(){return new Promise(function(t){var e=new ResizeObserver(function(n){t(n.every(function(r){return"devicePixelContentBoxSize"in r})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function G4(t,e){return Be({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var Z4=function(){function t(e,n,r){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,r.width===0||r.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=r,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function ls(t,e){var n=t.canvasElementClientSize;if(n.width===0||n.height===0)return null;var r=t.bitmapSize;if(r.width===0||r.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new Z4(i,n,r)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const X4={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Q4={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},J4={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},e3={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},t3={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},n3={color:"#26a69a",base:0},Z_={color:"#2196f3"},X_={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var p0,m0;function cs(t,e){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function Q_(t,e,n,r){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(n,e+i),t.lineTo(r,e+i),t.stroke()}function Ei(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function jt(t){if(t===void 0)throw new Error("Value is undefined");return t}function Y(t){if(t===null)throw new Error("Value is null");return t}function Hs(t){return Y(jt(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(p0||(p0={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(m0||(m0={}));const g0={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function dn(t){return t<0?0:t>255?255:Math.round(t)||0}function J_(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const r3=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,i3=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,s3=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,o3=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function ml(t){(t=t.toLowerCase())in g0&&(t=g0[t]);{const e=o3.exec(t)||s3.exec(t);if(e)return[dn(parseInt(e[1],10)),dn(parseInt(e[2],10)),dn(parseInt(e[3],10)),J_(e.length<5?1:parseFloat(e[4]))]}{const e=i3.exec(t);if(e)return[dn(parseInt(e[1],16)),dn(parseInt(e[2],16)),dn(parseInt(e[3],16)),1]}{const e=r3.exec(t);if(e)return[dn(17*parseInt(e[1],16)),dn(17*parseInt(e[2],16)),dn(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function eN(t){return .199*t[0]+.687*t[1]+.114*t[2]}function Vd(t){const e=ml(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:eN(e)>160?"black":"white"}}class Qe{constructor(){this.h=[]}l(e,n,r){const i={o:e,_:n,u:r===!0};this.h.push(i)}v(e){const n=this.h.findIndex(r=>e===r.o);n>-1&&this.h.splice(n,1)}p(e){this.h=this.h.filter(n=>n._!==e)}m(e,n,r){const i=[...this.h];this.h=this.h.filter(s=>!s.u),i.forEach(s=>s.o(e,n,r))}M(){return this.h.length>0}S(){this.h=[]}}function Dn(t,...e){for(const n of e)for(const r in n)n[r]!==void 0&&Object.prototype.hasOwnProperty.call(n,r)&&!["__proto__","constructor","prototype"].includes(r)&&(typeof n[r]!="object"||t[r]===void 0||Array.isArray(n[r])?t[r]=n[r]:Dn(t[r],n[r]));return t}function Xn(t){return typeof t=="number"&&isFinite(t)}function gl(t){return typeof t=="number"&&t%1==0}function Ol(t){return typeof t=="string"}function dc(t){return typeof t=="boolean"}function _r(t){const e=t;if(!e||typeof e!="object")return e;let n,r,i;for(r in n=Array.isArray(e)?[]:{},e)e.hasOwnProperty(r)&&(i=e[r],n[r]=i&&typeof i=="object"?_r(i):i);return n}function a3(t){return t!==null}function vl(t){return t===null?void 0:t}const iv="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function _o(t,e,n){return e===void 0&&(e=iv),`${n=n!==void 0?`${n} `:""}${t}px ${e}`}class l3{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,n=this.j(),r=this.H();return e.P===n&&e.D===r||(e.P=n,e.D=r,e.R=_o(n,r),e.L=2.5/12*n,e.B=e.L,e.A=n/12*e.T,e.I=n/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class sv{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,n,r){this.Y.forEach(i=>{i.X(e,n,r)})}}class Vn{X(e,n,r){e.useBitmapCoordinateSpace(i=>this.K(i,n,r))}}class c3 extends Vn{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.G===null||this.G.tt===null)return;const i=this.G.tt,s=this.G,o=Math.max(1,Math.floor(n))%2/2,a=l=>{e.beginPath();for(let c=i.to-1;c>=i.from;--c){const u=s.it[c],h=Math.round(u.nt*n)+o,f=u.st*r,p=l*r+o;e.moveTo(h,f),e.arc(h,f,p,0,2*Math.PI)}e.fill()};s.et>0&&(e.fillStyle=s.rt,a(s.ht+s.et)),e.fillStyle=s.lt,a(s.ht)}}function u3(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const d3={from:0,to:1};class h3{constructor(e,n){this.ut=new sv,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=n,this.ut.Z(this.ct)}bt(e){const n=this.F.wt();n.length!==this.ct.length&&(this.dt=n.map(u3),this.ct=this.dt.map(r=>{const i=new c3;return i.J(r),i}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,n=this.F.wt(),r=this.vt.xt(),i=this.F.St();n.forEach((s,o)=>{var a;const l=this.dt[o],c=s.kt(r);if(e||c===null||!s.yt())return void(l.tt=null);const u=Y(s.Ct());l.lt=c.Tt,l.ht=c.ht,l.et=c.Pt,l.it[0]._t=c._t,l.it[0].st=s.Dt().Rt(c._t,u.Vt),l.rt=(a=c.Ot)!==null&&a!==void 0?a:this.F.Bt(l.it[0].st/s.Dt().At()),l.it[0].ot=r,l.it[0].nt=i.It(r),l.tt=d3})}}class f3 extends Vn{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null)return;const s=this.zt.Lt.yt,o=this.zt.Et.yt;if(!s&&!o)return;const a=Math.round(this.zt.nt*r),l=Math.round(this.zt.st*i);e.lineCap="butt",s&&a>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*r),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,cs(e,this.zt.Lt.Nt),function(c,u,h,f){c.beginPath();const p=c.lineWidth%2?.5:0;c.moveTo(u+p,h),c.lineTo(u+p,f),c.stroke()}(e,a,0,n.height)),o&&l>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*i),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,cs(e,this.zt.Et.Nt),Q_(e,l,0,n.width))}}class p3{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new f3(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),n=Y(this.jt.Ht()),r=n.$t().W().crosshair,i=this.Ft;if(r.mode===2)return i.Et.yt=!1,void(i.Lt.yt=!1);i.Et.yt=e&&this.jt.Ut(n),i.Lt.yt=e&&this.jt.qt(),i.Et.et=r.horzLine.width,i.Et.Nt=r.horzLine.style,i.Et.V=r.horzLine.color,i.Lt.et=r.vertLine.width,i.Lt.Nt=r.vertLine.style,i.Lt.V=r.vertLine.color,i.nt=this.jt.Yt(),i.st=this.jt.Zt()}}function m3(t,e,n,r,i,s){t.fillRect(e+s,n,r-2*s,s),t.fillRect(e+s,n+i-s,r-2*s,s),t.fillRect(e,n,s,i),t.fillRect(e+r-s,n,s,i)}function Ud(t,e,n,r,i,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,n,r,i),t.restore()}function v0(t,e,n,r,i,s){t.beginPath(),t.roundRect?t.roundRect(e,n,r,i,s):(t.lineTo(e+r-s[1],n),s[1]!==0&&t.arcTo(e+r,n,e+r,n+s[1],s[1]),t.lineTo(e+r,n+i-s[2]),s[2]!==0&&t.arcTo(e+r,n+i,e+r-s[2],n+i,s[2]),t.lineTo(e+s[3],n+i),s[3]!==0&&t.arcTo(e,n+i,e,n+i-s[3],s[3]),t.lineTo(e,n+s[0]),s[0]!==0&&t.arcTo(e,n,e+s[0],n,s[0]))}function y0(t,e,n,r,i,s,o=0,a=[0,0,0,0],l=""){if(t.save(),!o||!l||l===s)return v0(t,e,n,r,i,a),t.fillStyle=s,t.fill(),void t.restore();const c=o/2;var u;v0(t,e+c,n+c,r-o,i-o,(u=-c,a.map(h=>h===0?h:h+u))),s!=="transparent"&&(t.fillStyle=s,t.fill()),l!=="transparent"&&(t.lineWidth=o,t.strokeStyle=l,t.closePath(),t.stroke()),t.restore()}function tN(t,e,n,r,i,s,o){t.save(),t.globalCompositeOperation="copy";const a=t.createLinearGradient(0,0,0,i);a.addColorStop(0,s),a.addColorStop(1,o),t.fillStyle=a,t.fillRect(e,n,r,i),t.restore()}class x0{constructor(e,n){this.J(e,n)}J(e,n){this.zt=e,this.Xt=n}At(e,n){return this.zt.yt?e.P+e.L+e.B:0}X(e,n,r,i){if(!this.zt.yt||this.zt.Kt.length===0)return;const s=this.zt.V,o=this.Xt.t,a=e.useBitmapCoordinateSpace(l=>{const c=l.context;c.font=n.R;const u=this.Gt(l,n,r,i),h=u.Jt;return u.Qt?y0(c,h.ti,h.ii,h.ni,h.si,o,h.ei,[h.ht,0,0,h.ht],o):y0(c,h.ri,h.ii,h.ni,h.si,o,h.ei,[0,h.ht,h.ht,0],o),this.zt.hi&&(c.fillStyle=s,c.fillRect(h.ri,h.li,h.ai-h.ri,h.oi)),this.zt._i&&(c.fillStyle=n.O,c.fillRect(u.Qt?h.ui-h.ei:0,h.ii,h.ei,h.ci-h.ii)),u});e.useMediaCoordinateSpace(({context:l})=>{const c=a.di;l.font=n.R,l.textAlign=a.Qt?"right":"left",l.textBaseline="middle",l.fillStyle=s,l.fillText(this.zt.Kt,c.fi,(c.ii+c.ci)/2+c.pi)})}Gt(e,n,r,i){var s;const{context:o,bitmapSize:a,mediaSize:l,horizontalPixelRatio:c,verticalPixelRatio:u}=e,h=this.zt.hi||!this.zt.mi?n.T:0,f=this.zt.bi?n.C:0,p=n.L+this.Xt.wi,g=n.B+this.Xt.gi,m=n.A,w=n.I,v=this.zt.Kt,x=n.P,b=r.Mi(o,v),S=Math.ceil(r.xi(o,v)),k=x+p+g,C=n.C+m+w+S+h,_=Math.max(1,Math.floor(u));let T=Math.round(k*u);T%2!=_%2&&(T+=1);const j=f>0?Math.max(1,Math.floor(f*c)):0,R=Math.round(C*c),O=Math.round(h*c),A=(s=this.Xt.Si)!==null&&s!==void 0?s:this.Xt.ki,B=Math.round(A*u)-Math.floor(.5*u),I=Math.floor(B+_/2-T/2),L=I+T,M=i==="right",D=M?l.width-f:f,P=M?a.width-j:j;let $,E,z;return M?($=P-R,E=P-O,z=D-h-m-f):($=P+R,E=P+O,z=D+h+m),{Qt:M,Jt:{ii:I,li:B,ci:L,ni:R,si:T,ht:2*c,ei:j,ti:$,ri:P,ai:E,oi:_,ui:a.width},di:{ii:I/u,ci:L/u,fi:z,pi:b}}}}class Hd{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||x0)(this.Ci,this.yi),this.Ri=new(e||x0)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,n=!1){return Math.max(this.Pi.At(e,n),this.Ri.At(e,n))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class g3 extends Hd{constructor(e,n,r){super(),this.jt=e,this.Li=n,this.Ei=r}zi(e,n,r){if(e.yt=!1,this.jt.W().mode===2)return;const i=this.jt.W().horzLine;if(!i.labelVisible)return;const s=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||s===null)return;const o=Vd(i.labelBackgroundColor);r.t=o.t,e.V=o.i;const a=2/12*this.Li.P();r.wi=a,r.gi=a;const l=this.Ei(this.Li);r.ki=l.ki,e.Kt=this.Li.Fi(l._t,s),e.yt=!0}}const v3=/[1-9]/g;class nN{constructor(){this.zt=null}J(e){this.zt=e}X(e,n){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const r=e.useMediaCoordinateSpace(({context:f})=>(f.font=n.R,Math.round(n.Wi.xi(f,Y(this.zt).Kt,v3))));if(r<=0)return;const i=n.ji,s=r+2*i,o=s/2,a=this.zt.Hi;let l=this.zt.ki,c=Math.floor(l-o)+.5;c<0?(l+=Math.abs(0-c),c=Math.floor(l-o)+.5):c+s>a&&(l-=Math.abs(a-(c+s)),c=Math.floor(l-o)+.5);const u=c+s,h=Math.ceil(0+n.C+n.T+n.L+n.P+n.B);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:p,verticalPixelRatio:g})=>{const m=Y(this.zt);f.fillStyle=m.t;const w=Math.round(c*p),v=Math.round(0*g),x=Math.round(u*p),b=Math.round(h*g),S=Math.round(2*p);if(f.beginPath(),f.moveTo(w,v),f.lineTo(w,b-S),f.arcTo(w,b,w+S,b,S),f.lineTo(x-S,b),f.arcTo(x,b,x,b-S,S),f.lineTo(x,v),f.fill(),m.hi){const k=Math.round(m.ki*p),C=v,_=Math.round((C+n.T)*g);f.fillStyle=m.V;const T=Math.max(1,Math.floor(p)),j=Math.floor(.5*p);f.fillRect(k-j,C,T,_-C)}}),e.useMediaCoordinateSpace(({context:f})=>{const p=Y(this.zt),g=0+n.C+n.T+n.L+n.P/2;f.font=n.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=p.V;const m=n.Wi.Mi(f,"Apr0");f.translate(c+i,g+m),f.fillText(p.Kt,0,0)})}}class y3{constructor(e,n,r){this.ft=!0,this.Wt=new nN,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=n,this.Ei=r}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const n=this.vt.W().vertLine;if(!n.labelVisible)return;const r=this.$i.St();if(r.Ni())return;e.Hi=r.Hi();const i=this.Ei();if(i===null)return;e.ki=i.ki;const s=r.Ui(this.vt.xt());e.Kt=r.qi(Y(s)),e.yt=!0;const o=Vd(n.labelBackgroundColor);e.t=o.t,e.V=o.i,e.hi=r.W().ticksVisible}}class ov{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var Qp;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(Qp||(Qp={}));class x3 extends ov{constructor(e,n){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=n,this.dn=new h3(e,this),this.fn=((i,s)=>o=>{const a=s(),l=i();if(o===Y(this.tn).vn())return{_t:l,ki:a};{const c=Y(o.Ct());return{_t:o.pn(a,c),ki:a}}})(()=>this.nn,()=>this.an);const r=((i,s)=>()=>{const o=this.$i.St().mn(i()),a=s();return o&&Number.isFinite(a)?{ot:o,ki:a}:null})(()=>this.sn,()=>this.Yt());this.bn=new y3(this,e,r),this.wn=new p3(this)}W(){return this.cn}gn(e,n){this._n=e,this.un=n}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,n,r){this.hn||(this.hn=!0),this.en=!0,this.yn(e,n,r)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,n){this.en&&this.tn===e||this.rn.clear();const r=[];return this.tn===e&&r.push(this.Dn(this.rn,n,this.fn)),r}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,n,r){this.Bn(e,n,r)&&this.Vn()}Bn(e,n,r){const i=this.ln,s=this.an,o=this.nn,a=this.sn,l=this.tn,c=this.On(r);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=r;const u=c!==null?c.Ct():null;return c!==null&&u!==null?(this.nn=n,this.an=c.Rt(n,u)):(this.nn=NaN,this.an=NaN),i!==this.ln||s!==this.an||a!==this.sn||o!==this.nn||l!==this.tn}Tn(){const e=this.$i.wt().map(r=>r.In().An()).filter(a3),n=e.length===0?null:Math.max(...e);this.sn=n!==null?n:NaN}Dn(e,n,r){let i=e.get(n);return i===void 0&&(i=new g3(this,n,r),e.set(n,i)),i}}function Wd(t){return t==="left"||t==="right"}class dt{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,n){const r=function(i,s){return i===void 0?s:{Fn:Math.max(i.Fn,s.Fn),Wn:i.Wn||s.Wn}}(this.zn.get(e),n);this.zn.set(e,r)}jn(){return this.En}Hn(e){const n=this.zn.get(e);return n===void 0?{Fn:this.En}:{Fn:Math.max(this.En,n.Fn),Wn:n.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const n of e.Ln)this.ns(n);this.En=Math.max(this.En,e.En),e.zn.forEach((n,r)=>{this.Nn(r,n)})}static ss(){return new dt(2)}static es(){return new dt(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(n=>n.qn===5);e!==-1&&this.Ln.splice(e,1)}}const w0=".";function Nr(t,e){if(!Xn(t))return"n/a";if(!gl(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class qd{constructor(e,n){if(n||(n=1),Xn(e)&&gl(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=n,this.hs()}format(e){const n=e<0?"":"";return e=Math.abs(e),n+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const n=this.Li/this.rs;let r=Math.floor(e),i="";const s=this._s!==void 0?this._s:NaN;if(n>1){let o=+(Math.round(e*n)-r*n).toFixed(this._s);o>=n&&(o-=n,r+=1),i=w0+Nr(+o.toFixed(this._s)*this.rs,s)}else r=Math.round(r*n)/n,s>0&&(i=w0+Nr(0,s));return r.toFixed(0)+i}}class rN extends qd{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class w3{constructor(e){this.us=e}format(e){let n="";return e<0&&(n="-",e=-e),e<995?n+this.cs(e):e<999995?n+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),n+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),n+this.cs(e/1e9)+"B")}cs(e){let n;const r=Math.pow(10,this.us);return n=(e=Math.round(e*r)/r)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),n.replace(/(\.[1-9]*)0+$/,(i,s)=>s)}}function iN(t,e,n,r,i,s,o){if(e.length===0||r.from>=e.length||r.to<=0)return;const{context:a,horizontalPixelRatio:l,verticalPixelRatio:c}=t,u=e[r.from];let h=s(t,u),f=u;if(r.to-r.from<2){const p=i/2;a.beginPath();const g={nt:u.nt-p,st:u.st},m={nt:u.nt+p,st:u.st};a.moveTo(g.nt*l,g.st*c),a.lineTo(m.nt*l,m.st*c),o(t,h,g,m)}else{const p=(m,w)=>{o(t,h,f,w),a.beginPath(),h=m,f=w};let g=f;a.beginPath(),a.moveTo(u.nt*l,u.st*c);for(let m=r.from+1;m<r.to;++m){g=e[m];const w=s(t,g);switch(n){case 0:a.lineTo(g.nt*l,g.st*c);break;case 1:a.lineTo(g.nt*l,e[m-1].st*c),w!==h&&(p(w,g),a.lineTo(g.nt*l,e[m-1].st*c)),a.lineTo(g.nt*l,g.st*c);break;case 2:{const[v,x]=b3(e,m-1,m);a.bezierCurveTo(v.nt*l,v.st*c,x.nt*l,x.st*c,g.nt*l,g.st*c);break}}n!==1&&w!==h&&(p(w,g),a.moveTo(g.nt*l,g.st*c))}(f!==g||f===g&&n===1)&&o(t,h,f,g)}}const b0=6;function Yh(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function S0(t,e){return{nt:t.nt/e,st:t.st/e}}function b3(t,e,n){const r=Math.max(0,e-1),i=Math.min(t.length-1,n+1);var s,o;return[(s=t[e],o=S0(Yh(t[n],t[r]),b0),{nt:s.nt+o.nt,st:s.st+o.st}),Yh(t[n],S0(Yh(t[i],t[e]),b0))]}function S3(t,e,n,r,i){const{context:s,horizontalPixelRatio:o,verticalPixelRatio:a}=e;s.lineTo(i.nt*o,t*a),s.lineTo(r.nt*o,t*a),s.closePath(),s.fillStyle=n,s.fill()}class sN extends Vn{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var n;if(this.G===null)return;const{it:r,tt:i,ds:s,et:o,Nt:a,fs:l}=this.G,c=(n=this.G.vs)!==null&&n!==void 0?n:this.G.ps?0:e.mediaSize.height;if(i===null)return;const u=e.context;u.lineCap="butt",u.lineJoin="round",u.lineWidth=o,cs(u,a),u.lineWidth=1,iN(e,r,l,i,s,this.bs.bind(this),S3.bind(null,c))}}function Jp(t,e,n){return Math.min(Math.max(t,e),n)}function hc(t,e,n){return e-t<=n}function oN(t){const e=Math.ceil(t);return e%2==0?e-1:e}class av{ws(e,n){const r=this.gs,{Ms:i,xs:s,Ss:o,ks:a,ys:l,vs:c}=n;if(this.Cs===void 0||r===void 0||r.Ms!==i||r.xs!==s||r.Ss!==o||r.ks!==a||r.vs!==c||r.ys!==l){const u=e.context.createLinearGradient(0,0,0,l);if(u.addColorStop(0,i),c!=null){const h=Jp(c*e.verticalPixelRatio/l,0,1);u.addColorStop(h,s),u.addColorStop(h,o)}u.addColorStop(1,a),this.Cs=u,this.gs=n}return this.Cs}}class k3 extends sN{constructor(){super(...arguments),this.Ts=new av}bs(e,n){return this.Ts.ws(e,{Ms:n.Ps,xs:"",Ss:"",ks:n.Rs,ys:e.bitmapSize.height})}}function C3(t,e){const n=t.context;n.strokeStyle=e,n.stroke()}class aN extends Vn{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:n,tt:r,ds:i,fs:s,et:o,Nt:a,Ds:l}=this.G;if(r===null)return;const c=e.context;c.lineCap="butt",c.lineWidth=o*e.verticalPixelRatio,cs(c,a),c.lineJoin="round";const u=this.Vs.bind(this);s!==void 0&&iN(e,n,s,r,i,u,C3),l&&function(h,f,p,g,m){const{horizontalPixelRatio:w,verticalPixelRatio:v,context:x}=h;let b=null;const S=Math.max(1,Math.floor(w))%2/2,k=p*v+S;for(let C=g.to-1;C>=g.from;--C){const _=f[C];if(_){const T=m(h,_);T!==b&&(x.beginPath(),b!==null&&x.fill(),x.fillStyle=T,b=T);const j=Math.round(_.nt*w)+S,R=_.st*v;x.moveTo(j,R),x.arc(j,R,k,0,2*Math.PI)}}x.fill()}(e,n,l,r,u)}}class lN extends aN{Vs(e,n){return n.lt}}function cN(t,e,n,r,i=0,s=e.length){let o=s-i;for(;0<o;){const a=o>>1,l=i+a;r(e[l],n)===t?(i=l+1,o-=a+1):o=a}return i}const Ll=cN.bind(null,!0),uN=cN.bind(null,!1);function E3(t,e){return t.ot<e}function _3(t,e){return e<t.ot}function dN(t,e,n){const r=e.Os(),i=e.ui(),s=Ll(t,r,E3),o=uN(t,i,_3);if(!n)return{from:s,to:o};let a=s,l=o;return s>0&&s<t.length&&t[s].ot>=r&&(a=s-1),o>0&&o<t.length&&t[o-1].ot<=i&&(l=o+1),{from:a,to:l}}class lv{constructor(e,n,r){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=n,this.Fs=r}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),n=this.Ns.St();if(this.qs(),n.Ni()||e.Ni())return;const r=n.Xs();if(r===null||this.Es.In().Ks()===0)return;const i=this.Es.Ct();i!==null&&(this.Ls=dN(this.zs,r,this.Fs),this.Gs(e,n,i.Vt),this.Js())}}class Kd extends lv{constructor(e,n){super(e,n,!0)}Gs(e,n,r){n.Qs(this.zs,vl(this.Ls)),e.te(this.zs,r,vl(this.Ls))}ie(e,n){return{ot:e,_t:n,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>{const r=n.Vt[3];return this.se(n.ee,r,e)})}}class N3 extends Kd{constructor(e,n){super(e,n),this.js=new sv,this.re=new k3,this.he=new lN,this.js.Z([this.re,this.he])}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class T3 extends Vn{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(n),this.ae>=2&&Math.max(1,Math.floor(n))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(n)):this.ae;let i=null;const s=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*n);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const a=this.zt.In[o];i!==a.ce&&(e.fillStyle=a.ce,i=a.ce);const l=Math.floor(.5*this.oe),c=Math.round(a.nt*n),u=c-l,h=this.oe,f=u+h-1,p=Math.min(a.de,a.fe),g=Math.max(a.de,a.fe),m=Math.round(p*r)-l,w=Math.round(g*r)+l,v=Math.max(w-m,this.oe);e.fillRect(u,m,h,v);const x=Math.ceil(1.5*this.ae);if(s){if(this.zt.ve){const C=c-x;let _=Math.max(m,Math.round(a.pe*r)-l),T=_+h-1;T>m+v-1&&(T=m+v-1,_=T-h+1),e.fillRect(C,_,u-C,T-_+1)}const b=c+x;let S=Math.max(m,Math.round(a.me*r)-l),k=S+h-1;k>m+v-1&&(k=m+v-1,S=k-h+1),e.fillRect(f+1,S,b-f,k-S+1)}}}_e(e){const n=Math.floor(e);return Math.max(n,Math.floor(function(r,i){return Math.floor(.3*r*i)}(Y(this.zt).le,e)))}}class hN extends lv{constructor(e,n){super(e,n,!1)}Gs(e,n,r){n.Qs(this.zs,vl(this.Ls)),e.be(this.zs,r,vl(this.Ls))}we(e,n,r){return{ot:e,ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>this.se(n.ee,n,e))}}class P3 extends hN{constructor(){super(...arguments),this.js=new T3}se(e,n,r){return Object.assign(Object.assign({},this.we(e,n,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class A3 extends sN{constructor(){super(...arguments),this.Ts=new av}bs(e,n){const r=this.G;return this.Ts.ws(e,{Ms:n.ke,xs:n.ye,Ss:n.Ce,ks:n.Te,ys:e.bitmapSize.height,vs:r.vs})}}class j3 extends aN{constructor(){super(...arguments),this.Pe=new av}Vs(e,n){const r=this.G;return this.Pe.ws(e,{Ms:n.Re,xs:n.Re,Ss:n.De,ks:n.De,ys:e.bitmapSize.height,vs:r.vs})}}class M3 extends Kd{constructor(e,n){super(e,n),this.js=new sv,this.Ve=new A3,this.Oe=new j3,this.js.Z([this.Ve,this.Oe])}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const n=this.Es.W(),r=this.Es.Dt().Rt(n.baseValue.price,e.Vt),i=this.Ns.St().le();this.Ve.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineType,vs:r,ps:!1,tt:this.Ls,ds:i}),this.Oe.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineVisible?n.lineType:void 0,Ds:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0,vs:r,tt:this.Ls,ds:i})}}class R3 extends Vn{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:n}=e;this.ae=function(s,o){if(s>=2.5&&s<=4)return Math.floor(3*o);const a=1-.2*Math.atan(Math.max(4,s)-4)/(.5*Math.PI),l=Math.floor(s*a*o),c=Math.floor(s*o),u=Math.min(l,c);return Math.max(Math.floor(o),u)}(this.zt.le,n),this.ae>=2&&Math.floor(n)%2!=this.ae%2&&this.ae--;const r=this.zt.In;this.zt.Be&&this.Ae(e,r,this.zt.tt),this.zt._i&&this.Ie(e,r,this.zt.tt);const i=this.ze(n);(!this.zt._i||this.ae>2*i)&&this.Le(e,r,this.zt.tt)}Ae(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:o}=e;let a="",l=Math.min(Math.floor(s),Math.floor(this.zt.le*s));l=Math.max(Math.floor(s),Math.min(l,this.ae));const c=Math.floor(.5*l);let u=null;for(let h=r.from;h<r.to;h++){const f=n[h];f.Ee!==a&&(i.fillStyle=f.Ee,a=f.Ee);const p=Math.round(Math.min(f.pe,f.me)*o),g=Math.round(Math.max(f.pe,f.me)*o),m=Math.round(f.de*o),w=Math.round(f.fe*o);let v=Math.round(s*f.nt)-c;const x=v+l-1;u!==null&&(v=Math.max(u+1,v),v=Math.min(v,x));const b=x-v+1;i.fillRect(v,m,b,p-m),i.fillRect(v,g+1,b,w-g),u=x}}ze(e){let n=Math.floor(1*e);this.ae<=2*n&&(n=Math.floor(.5*(this.ae-1)));const r=Math.max(Math.floor(e),n);return this.ae<=2*r?Math.max(Math.floor(e),Math.floor(1*e)):r}Ie(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:o}=e;let a="";const l=this.ze(s);let c=null;for(let u=r.from;u<r.to;u++){const h=n[u];h.Ne!==a&&(i.fillStyle=h.Ne,a=h.Ne);let f=Math.round(h.nt*s)-Math.floor(.5*this.ae);const p=f+this.ae-1,g=Math.round(Math.min(h.pe,h.me)*o),m=Math.round(Math.max(h.pe,h.me)*o);if(c!==null&&(f=Math.max(c+1,f),f=Math.min(f,p)),this.zt.le*s>2*l)m3(i,f,g,p-f+1,m-g+1,l);else{const w=p-f+1;i.fillRect(f,g,w,m-g+1)}c=p}}Le(e,n,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:o}=e;let a="";const l=this.ze(s);for(let c=r.from;c<r.to;c++){const u=n[c];let h=Math.round(Math.min(u.pe,u.me)*o),f=Math.round(Math.max(u.pe,u.me)*o),p=Math.round(u.nt*s)-Math.floor(.5*this.ae),g=p+this.ae-1;if(u.ce!==a){const m=u.ce;i.fillStyle=m,a=m}this.zt._i&&(p+=l,h+=l,g-=l,f-=l),h>f||i.fillRect(p,h,g-p+1,f-h+1)}}}class I3 extends hN{constructor(){super(...arguments),this.js=new R3}se(e,n,r){return Object.assign(Object.assign({},this.we(e,n,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class O3{constructor(e,n){this.Fe=e,this.Li=n}X(e,n,r){this.Fe.draw(e,this.Li,n,r)}}class Gh extends lv{constructor(e,n,r){super(e,n,!1),this.wn=r,this.js=new O3(this.wn.renderer(),i=>{const s=e.Ct();return s===null?null:e.Dt().Rt(i,s.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>Object.assign(Object.assign({ot:n.ee,nt:NaN},e.$s(n.ee)),{He:n.$e}))}Gs(e,n){n.Qs(this.zs,vl(this.Ls))}Js(){this.wn.update({bars:this.zs.map(L3),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function L3(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class $3 extends Vn{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(n);const i=Math.max(1,Math.floor(r)),s=Math.round(this.zt.Ye*r)-Math.floor(i/2),o=s+i;for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const l=this.zt.it[a],c=this.Ue[a-this.zt.tt.from],u=Math.round(l.st*r);let h,f;e.fillStyle=l.ce,u<=s?(h=u,f=o):(h=s,f=u-Math.floor(i/2)+i),e.fillRect(c.Os,h,c.ui-c.Os+1,f-h)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const n=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),r=Math.round(this.zt.le*e)-n;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const o=this.zt.it[s],a=Math.round(o.nt*e);let l,c;if(r%2){const u=(r-1)/2;l=a-u,c=a+u}else{const u=r/2;l=a-u,c=a+u-1}this.Ue[s-this.zt.tt.from]={Os:l,ui:c,Ze:a,Xe:o.nt*e,ot:o.ot}}for(let s=this.zt.tt.from+1;s<this.zt.tt.to;s++){const o=this.Ue[s-this.zt.tt.from],a=this.Ue[s-this.zt.tt.from-1];o.ot===a.ot+1&&o.Os-a.ui!==n+1&&(a.Ze>a.Xe?a.ui=o.Os-n-1:o.Os=a.ui+n+1)}let i=Math.ceil(this.zt.le*e);for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const o=this.Ue[s-this.zt.tt.from];o.ui<o.Os&&(o.ui=o.Os);const a=o.ui-o.Os+1;i=Math.min(a,i)}if(n>0&&i<4)for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const o=this.Ue[s-this.zt.tt.from];o.ui-o.Os+1>i&&(o.Ze>o.Xe?o.ui-=1:o.Os+=1)}}}class D3 extends Kd{constructor(){super(...arguments),this.js=new $3}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,Y(this.Es.Ct()).Vt)};this.js.J(e)}}class z3 extends Kd{constructor(){super(...arguments),this.js=new lN}se(e,n,r){return Object.assign(Object.assign({},this.ie(e,n)),r.$s(e))}Js(){const e=this.Es.W(),n={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(n)}}const F3=/[2-9]/g;class yl{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,n,r){return this.sr(e,n,r).width}Mi(e,n,r){const i=this.sr(e,n,r);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}sr(e,n,r){const i=r||F3,s=String(n).replace(i,"0");if(this.tr.has(s))return jt(this.tr.get(s)).er;if(this.Ke===this.ir){const a=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(a),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const o=e.measureText(s);return e.restore(),o.width===0&&n.length||(this.tr.set(s,{er:o,rr:this.Ge}),this.Qe[this.Ge]=s,this.Ke++,this.Ge++),o}}class B3{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,n,r){this.hr=e,this.k=n,this.lr=r}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class fN{constructor(e,n,r){this.ur=e,this.ar=new yl(50),this.cr=n,this.F=r,this.j=-1,this.Wt=new B3(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const n=e.vr(this.cr)?e.pr():this.cr.Dt();if(n===null)return null;const r=e.mr(n);if(r==="overlay")return null;const i=this.F.br();return i.P!==this.j&&(this.j=i.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),i,r),this.Wt}}class V3 extends Vn{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,n){var r;if(!(!((r=this.zt)===null||r===void 0)&&r.yt))return null;const{st:i,et:s,gr:o}=this.zt;return n>=i-s-7&&n<=i+s+7?{Mr:this.zt,gr:o}:null}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null||this.zt.yt===!1)return;const s=Math.round(this.zt.st*i);s<0||s>n.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*r),cs(e,this.zt.Nt),Q_(e,s,0,n.width))}}class cv{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new V3,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class U3 extends cv{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),n=e.Cr().Cr;if(n!==2&&n!==3)return;const r=this.Es.W();if(!r.baseLineVisible||!this.Es.yt())return;const i=this.Es.Ct();i!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(i.Vt,i.Vt),this.Sr.V=r.baseLineColor,this.Sr.et=r.baseLineWidth,this.Sr.Nt=r.baseLineStyle)}}class H3 extends Vn{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r}){const i=this.zt;if(i===null)return;const s=Math.max(1,Math.floor(n)),o=s%2/2,a=Math.round(i.Xe.x*n)+o,l=i.Xe.y*r;e.fillStyle=i.Tr,e.beginPath();const c=Math.max(2,1.5*i.Pr)*n;e.arc(a,l,c,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.Rr,e.beginPath(),e.arc(a,l,i.ht*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=i.Dr,e.beginPath(),e.arc(a,l,i.ht*n+s/2,0,2*Math.PI,!1),e.stroke()}}const W3=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function k0(t,e,n,r){return function(i,s){if(i==="transparent")return i;const o=ml(i),a=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${s*a})`}(t,n+(r-n)*e)}function C0(t,e){const n=t%2600/2600;let r;for(const l of W3)if(n>=l.Vr&&n<=l.Or){r=l;break}Ei(r!==void 0,"Last price animation internal logic error");const i=(n-r.Vr)/(r.Or-r.Vr);return{Rr:k0(e,i,r.Ir,r.zr),Dr:k0(e,i,r.Lr,r.Er),ht:(s=i,o=r.Br,a=r.Ar,o+(a-o)*s)};var s,o,a}class q3{constructor(e){this.Wt=new H3,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),n=this.Wr-e;if(n>0)return void(n<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),n=e.Xs(),r=this.jr.Ct();if(n===null||r===null)return;const i=this.jr.Zr(!0);if(i.Xr||!n.Kr(i.ee))return;const s={x:e.It(i.ee),y:this.jr.Dt().Rt(i._t,r.Vt)},o=i.V,a=this.jr.W().lineWidth,l=C0(this.Gr(),o);this.Wt.J({Tr:o,Pr:a,Rr:l.Rr,Dr:l.Dr,ht:l.ht,Xe:s})}Yr(){const e=this.Wt.$e();if(e!==null){const n=C0(this.Gr(),e.Tr);e.Rr=n.Rr,e.Dr=n.Dr,e.ht=n.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function _a(t,e){return oN(Math.min(Math.max(t,12),30)*e)}function xl(t,e){switch(t){case"arrowDown":case"arrowUp":return _a(e,1);case"circle":return _a(e,.8);case"square":return _a(e,.7)}}function pN(t){return function(e){const n=Math.ceil(e);return n%2!=0?n-1:n}(_a(t,1))}function E0(t){return Math.max(_a(t,.1),3)}function _0(t,e,n){return e?t:n?Math.ceil(t/2):0}function mN(t,e,n,r,i){const s=xl("square",n),o=(s-1)/2,a=t-o,l=e-o;return r>=a&&r<=a+s&&i>=l&&i<=l+s}function N0(t,e,n,r){const i=(xl("arrowUp",r)-1)/2*n.Jr,s=(oN(r/2)-1)/2*n.Jr;e.beginPath(),t?(e.moveTo(n.nt-i,n.st),e.lineTo(n.nt,n.st-i),e.lineTo(n.nt+i,n.st),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+s,n.st+i),e.lineTo(n.nt-s,n.st+i),e.lineTo(n.nt-s,n.st)):(e.moveTo(n.nt-i,n.st),e.lineTo(n.nt,n.st+i),e.lineTo(n.nt+i,n.st),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+s,n.st-i),e.lineTo(n.nt-s,n.st-i),e.lineTo(n.nt-s,n.st)),e.fill()}function K3(t,e,n,r,i,s){return mN(e,n,r,i,s)}class Y3 extends Vn{constructor(){super(...arguments),this.zt=null,this.ar=new yl,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,n){this.j===e&&this.H===n||(this.j=e,this.H=n,this.Qr=_o(e,n),this.ar.nr())}wr(e,n){if(this.zt===null||this.zt.tt===null)return null;for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const i=this.zt.it[r];if(Z3(i,e,n))return{Mr:i.th,gr:i.gr}}return null}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:r},i,s){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const a=this.zt.it[o];a.Kt!==void 0&&(a.Kt.Hi=this.ar.xi(e,a.Kt.ih),a.Kt.At=this.j,a.Kt.nt=a.nt-a.Kt.Hi/2),G3(a,e,n,r)}}}}function G3(t,e,n,r){e.fillStyle=t.V,t.Kt!==void 0&&function(i,s,o,a,l,c){i.save(),i.scale(l,c),i.fillText(s,o,a),i.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,n,r),function(i,s,o){if(i.Ks!==0){switch(i.nh){case"arrowDown":return void N0(!1,s,o,i.Ks);case"arrowUp":return void N0(!0,s,o,i.Ks);case"circle":return void function(a,l,c){const u=(xl("circle",c)-1)/2;a.beginPath(),a.arc(l.nt,l.st,u*l.Jr,0,2*Math.PI,!1),a.fill()}(s,o,i.Ks);case"square":return void function(a,l,c){const u=xl("square",c),h=(u-1)*l.Jr/2,f=l.nt-h,p=l.st-h;a.fillRect(f,p,u*l.Jr,u*l.Jr)}(s,o,i.Ks)}i.nh}}(t,e,function(i,s,o){const a=Math.max(1,Math.floor(s))%2/2;return{nt:Math.round(i.nt*s)+a,st:i.st*o,Jr:s}}(t,n,r))}function Z3(t,e,n){return!(t.Kt===void 0||!function(r,i,s,o,a,l){const c=o/2;return a>=r&&a<=r+s&&l>=i-c&&l<=i+c}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,n))||function(r,i,s){if(r.Ks===0)return!1;switch(r.nh){case"arrowDown":case"arrowUp":return K3(0,r.nt,r.st,r.Ks,i,s);case"circle":return function(o,a,l,c,u){const h=2+xl("circle",l)/2,f=o-c,p=a-u;return Math.sqrt(f*f+p*p)<=h}(r.nt,r.st,r.Ks,i,s);case"square":return mN(r.nt,r.st,r.Ks,i,s)}}(t,e,n)}function X3(t,e,n,r,i,s,o,a,l){const c=Xn(n)?n:n.Se,u=Xn(n)?n:n.Me,h=Xn(n)?n:n.xe,f=Xn(e.size)?Math.max(e.size,0):1,p=pN(a.le())*f,g=p/2;switch(t.Ks=p,e.position){case"inBar":return t.st=o.Rt(c,l),void(t.Kt!==void 0&&(t.Kt.st=t.st+g+s+.6*i));case"aboveBar":return t.st=o.Rt(u,l)-g-r.sh,t.Kt!==void 0&&(t.Kt.st=t.st-g-.6*i,r.sh+=1.2*i),void(r.sh+=p+s);case"belowBar":return t.st=o.Rt(h,l)+g+r.eh,t.Kt!==void 0&&(t.Kt.st=t.st+g+s+.6*i,r.eh+=1.2*i),void(r.eh+=p+s)}e.position}class Q3{constructor(e,n){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new Y3,this.jr=e,this.$i=n,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const n=this.$i.W().layout;return this.Wt._r(n.fontSize,n.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),n=E0(e),r=1.5*pN(e)+2*n,i=this.fh();this.ah={above:_0(r,i.aboveBar,i.inBar),below:_0(r,i.belowBar,i.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,n)=>(e[n.position]||(e[n.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),n=this.$i.St(),r=this.jr.dh();this.rh&&(this.zt.it=r.map(u=>({ot:u.time,nt:0,st:0,Ks:0,nh:u.shape,V:u.color,th:u.th,gr:u.id,Kt:void 0})),this.rh=!1);const i=this.$i.W().layout;this.zt.tt=null;const s=n.Xs();if(s===null)return;const o=this.jr.Ct();if(o===null||this.zt.it.length===0)return;let a=NaN;const l=E0(n.le()),c={sh:l,eh:l};this.zt.tt=dN(this.zt.it,s,!0);for(let u=this.zt.tt.from;u<this.zt.tt.to;u++){const h=r[u];h.time!==a&&(c.sh=l,c.eh=l,a=h.time);const f=this.zt.it[u];f.nt=n.It(h.time),h.text!==void 0&&h.text.length>0&&(f.Kt={ih:h.text,nt:0,st:0,Hi:0,At:0});const p=this.jr.ph(h.time);p!==null&&X3(f,h,p,c,i.fontSize,l,e,n,o.Vt)}this.ft=!1}}class J3 extends cv{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const n=this.Es.W();if(!n.priceLineVisible||!this.Es.yt())return;const r=this.Es.Zr(n.priceLineSource===0);r.Xr||(e.yt=!0,e.st=r.ki,e.V=this.Es.mh(r.V),e.et=n.priceLineWidth,e.Nt=n.priceLineStyle)}}class eB extends Hd{constructor(e){super(),this.jt=e}zi(e,n,r){e.yt=!1,n.yt=!1;const i=this.jt;if(!i.yt())return;const s=i.W(),o=s.lastValueVisible,a=i.bh()!=="",l=s.seriesLastValueMode===0,c=i.Zr(!1);if(c.Xr)return;o&&(e.Kt=this.wh(c,o,l),e.yt=e.Kt.length!==0),(a||l)&&(n.Kt=this.gh(c,o,a,l),n.yt=n.Kt.length>0);const u=i.mh(c.V),h=Vd(u);r.t=h.t,r.ki=c.ki,n.Ot=i.$t().Bt(c.ki/i.Dt().At()),e.Ot=u,e.V=h.i,n.V=h.i}gh(e,n,r,i){let s="";const o=this.jt.bh();return r&&o.length!==0&&(s+=`${o} `),n&&i&&(s+=this.jt.Dt().Mh()?e.xh:e.Sh),s.trim()}wh(e,n,r){return n?r?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function T0(t,e,n,r){const i=Number.isFinite(e),s=Number.isFinite(n);return i&&s?t(e,n):i||s?i?e:n:r}class Ut{constructor(e,n){this.kh=e,this.yh=n}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new Ut(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new Ut(T0(Math.min,this.Ph(),e.Ph(),-1/0),T0(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!Xn(e)||this.yh-this.kh===0)return;const n=.5*(this.yh+this.kh);let r=this.yh-n,i=this.kh-n;r*=e,i*=e,this.yh=n+r,this.kh=n+i}Oh(e){Xn(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new Ut(e.minValue,e.maxValue)}}class zu{constructor(e,n){this.Ih=e,this.zh=n||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new zu(Ut.Ah(e.priceRange),e.margins)}}class tB extends cv{constructor(e,n){super(e),this.Nh=n}yr(){const e=this.Sr;e.yt=!1;const n=this.Nh.W();if(!this.Es.yt()||!n.lineVisible)return;const r=this.Nh.Fh();r!==null&&(e.yt=!0,e.st=r,e.V=n.color,e.et=n.lineWidth,e.Nt=n.lineStyle,e.gr=this.Nh.W().id)}}class nB extends Hd{constructor(e,n){super(),this.jr=e,this.Nh=n}zi(e,n,r){e.yt=!1,n.yt=!1;const i=this.Nh.W(),s=i.axisLabelVisible,o=i.title!=="",a=this.jr;if(!s||!a.yt())return;const l=this.Nh.Fh();if(l===null)return;o&&(n.Kt=i.title,n.yt=!0),n.Ot=a.$t().Bt(l/a.Dt().At()),e.Kt=this.Wh(i.price),e.yt=!0;const c=Vd(i.axisLabelColor||i.color);r.t=c.t;const u=i.axisLabelTextColor||c.i;e.V=u,n.V=u,r.ki=l}Wh(e){const n=this.jr.Ct();return n===null?"":this.jr.Dt().Fi(e,n.Vt)}}class rB{constructor(e,n){this.jr=e,this.cn=n,this.jh=new tB(e,this),this.ur=new nB(e,this),this.Hh=new fN(this.ur,e,e.$t())}$h(e){Dn(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,n=e.Dt();if(e.$t().St().Ni()||n.Ni())return null;const r=e.Ct();return r===null?null:n.Rt(this.cn.price,r.Vt)}}class iB extends ov{constructor(e){super(),this.$i=e}$t(){return this.$i}}const sB={Bar:(t,e,n,r)=>{var i;const s=e.upColor,o=e.downColor,a=Y(t(n,r)),l=Hs(a.Vt[0])<=Hs(a.Vt[3]);return{ce:(i=a.V)!==null&&i!==void 0?i:l?s:o}},Candlestick:(t,e,n,r)=>{var i,s,o;const a=e.upColor,l=e.downColor,c=e.borderUpColor,u=e.borderDownColor,h=e.wickUpColor,f=e.wickDownColor,p=Y(t(n,r)),g=Hs(p.Vt[0])<=Hs(p.Vt[3]);return{ce:(i=p.V)!==null&&i!==void 0?i:g?a:l,Ne:(s=p.Ot)!==null&&s!==void 0?s:g?c:u,Ee:(o=p.Xh)!==null&&o!==void 0?o:g?h:f}},Custom:(t,e,n,r)=>{var i;return{ce:(i=Y(t(n,r)).V)!==null&&i!==void 0?i:e.color}},Area:(t,e,n,r)=>{var i,s,o,a;const l=Y(t(n,r));return{ce:(i=l.lt)!==null&&i!==void 0?i:e.lineColor,lt:(s=l.lt)!==null&&s!==void 0?s:e.lineColor,Ps:(o=l.Ps)!==null&&o!==void 0?o:e.topColor,Rs:(a=l.Rs)!==null&&a!==void 0?a:e.bottomColor}},Baseline:(t,e,n,r)=>{var i,s,o,a,l,c;const u=Y(t(n,r));return{ce:u.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(i=u.Re)!==null&&i!==void 0?i:e.topLineColor,De:(s=u.De)!==null&&s!==void 0?s:e.bottomLineColor,ke:(o=u.ke)!==null&&o!==void 0?o:e.topFillColor1,ye:(a=u.ye)!==null&&a!==void 0?a:e.topFillColor2,Ce:(l=u.Ce)!==null&&l!==void 0?l:e.bottomFillColor1,Te:(c=u.Te)!==null&&c!==void 0?c:e.bottomFillColor2}},Line:(t,e,n,r)=>{var i,s;const o=Y(t(n,r));return{ce:(i=o.V)!==null&&i!==void 0?i:e.color,lt:(s=o.V)!==null&&s!==void 0?s:e.color}},Histogram:(t,e,n,r)=>{var i;return{ce:(i=Y(t(n,r)).V)!==null&&i!==void 0?i:e.color}}};class oB{constructor(e){this.Kh=(n,r)=>r!==void 0?r.Vt:this.jr.In().Gh(n),this.jr=e,this.Jh=sB[e.Qh()]}$s(e,n){return this.Jh(this.Kh,this.jr.W(),e,n)}}var P0;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(P0||(P0={}));const qr=30;class aB{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,n=0){const r=this.hl(e,n);return r===null?null:Object.assign(Object.assign({},this.al(r)),{ee:this.rl(r)})}ne(){return this.tl}ol(e,n,r){if(this.Ni())return null;let i=null;for(const s of r)i=fc(i,this._l(e,n,s));return i}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,n){const r=this.ul(e);if(r===null&&n!==0)switch(n){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return r}cl(e){let n=this.fl(e);return n>0&&(n-=1),n!==this.tl.length&&this.rl(n)<e?n:null}dl(e){const n=this.vl(e);return n!==this.tl.length&&e<this.rl(n)?n:null}ul(e){const n=this.fl(e);return n===this.tl.length||e<this.tl[n].ee?null:n}fl(e){return Ll(this.tl,e,(n,r)=>n.ee<r)}vl(e){return uN(this.tl,e,(n,r)=>n.ee>r)}pl(e,n,r){let i=null;for(let s=e;s<n;s++){const o=this.tl[s].Vt[r];Number.isNaN(o)||(i===null?i={ml:o,bl:o}:(o<i.ml&&(i.ml=o),o>i.bl&&(i.bl=o)))}return i}_l(e,n,r){if(this.Ni())return null;let i=null;const s=Y(this.el()),o=Y(this.An()),a=Math.max(e,s),l=Math.min(n,o),c=Math.ceil(a/qr)*qr,u=Math.max(c,Math.floor(l/qr)*qr);{const f=this.fl(a),p=this.vl(Math.min(l,c,n));i=fc(i,this.pl(f,p,r))}let h=this.il.get(r);h===void 0&&(h=new Map,this.il.set(r,h));for(let f=Math.max(c+1,a);f<u;f+=qr){const p=Math.floor(f/qr);let g=h.get(p);if(g===void 0){const m=this.fl(p*qr),w=this.vl((p+1)*qr-1);g=this.pl(m,w,r),h.set(p,g)}i=fc(i,g)}{const f=this.fl(u),p=this.vl(l);i=fc(i,this.pl(f,p,r))}return i}}function fc(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class lB{constructor(e){this.wl=e}X(e,n,r){this.wl.draw(e)}gl(e,n,r){var i,s;(s=(i=this.wl).drawBackground)===null||s===void 0||s.call(i,e)}}class Zh{constructor(e){this.tr=null,this.wn=e}gt(){var e;const n=this.wn.renderer();if(n===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===n)return this.tr.xl;const r=new lB(n);return this.tr={Ml:n,xl:r},r}Sl(){var e,n,r;return(r=(n=(e=this.wn).zOrder)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:"normal"}}function gN(t){var e,n,r,i,s;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(r=(n=t.visible)===null||n===void 0?void 0:n.call(t))===null||r===void 0||r,hi:(s=(i=t.tickVisible)===null||i===void 0?void 0:i.call(t))===null||s===void 0||s}}class cB{constructor(e,n){this.Wt=new nN,this.kl=e,this.yl=n}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},gN(this.kl))),this.Wt}}class uB extends Hd{constructor(e,n){super(),this.kl=e,this.Li=n}zi(e,n,r){const i=gN(this.kl);r.t=i.t,e.V=i.V;const s=2/12*this.Li.P();r.wi=s,r.gi=s,r.ki=i.ki,r.Si=i.Si,e.Kt=i.Kt,e.yt=i.yt,e.hi=i.hi}}class dB{constructor(e,n){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=n}Ol(){return this.Vl}Vn(){var e,n;(n=(e=this.Vl).updateAllViews)===null||n===void 0||n.call(e)}Pn(){var e,n,r,i;const s=(r=(n=(e=this.Vl).paneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Cl)===null||i===void 0?void 0:i.Ml)===s)return this.Cl.xl;const o=s.map(a=>new Zh(a));return this.Cl={Ml:s,xl:o},o}Qi(){var e,n,r,i;const s=(r=(n=(e=this.Vl).timeAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Tl)===null||i===void 0?void 0:i.Ml)===s)return this.Tl.xl;const o=this.jr.$t().St(),a=s.map(l=>new cB(l,o));return this.Tl={Ml:s,xl:a},a}Rn(){var e,n,r,i;const s=(r=(n=(e=this.Vl).priceAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Pl)===null||i===void 0?void 0:i.Ml)===s)return this.Pl.xl;const o=this.jr.Dt(),a=s.map(l=>new uB(l,o));return this.Pl={Ml:s,xl:a},a}Bl(){var e,n,r,i;const s=(r=(n=(e=this.Vl).priceAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Rl)===null||i===void 0?void 0:i.Ml)===s)return this.Rl.xl;const o=s.map(a=>new Zh(a));return this.Rl={Ml:s,xl:o},o}Al(){var e,n,r,i;const s=(r=(n=(e=this.Vl).timeAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:[];if(((i=this.Dl)===null||i===void 0?void 0:i.Ml)===s)return this.Dl.xl;const o=s.map(a=>new Zh(a));return this.Dl={Ml:s,xl:o},o}Il(e,n){var r,i,s;return(s=(i=(r=this.Vl).autoscaleInfo)===null||i===void 0?void 0:i.call(r,e,n))!==null&&s!==void 0?s:null}wr(e,n){var r,i,s;return(s=(i=(r=this.Vl).hitTest)===null||i===void 0?void 0:i.call(r,e,n))!==null&&s!==void 0?s:null}}function Xh(t,e,n,r){t.forEach(i=>{e(i).forEach(s=>{s.Sl()===n&&r.push(s)})})}function Qh(t){return t.Pn()}function hB(t){return t.Bl()}function fB(t){return t.Al()}class uv extends iB{constructor(e,n,r,i,s){super(e),this.zt=new aB,this.jh=new J3(this),this.zl=[],this.Ll=new U3(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=n,this.$l=r;const o=new eB(this);this.rn=[o],this.Hh=new fN(o,this,e),r!=="Area"&&r!=="Line"&&r!=="Baseline"||(this.El=new q3(this)),this.Ul(),this.ql(s)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const n={Xr:!0},r=this.Dt();if(this.$t().St().Ni()||r.Ni()||this.zt.Ni())return n;const i=this.$t().St().Xs(),s=this.Ct();if(i===null||s===null)return n;let o,a;if(e){const h=this.zt.sl();if(h===null)return n;o=h,a=h.ee}else{const h=this.zt.ll(i.ui(),-1);if(h===null||(o=this.zt.Gh(h.ee),o===null))return n;a=h.ee}const l=o.Vt[3],c=this.Us().$s(a,{Vt:o}),u=r.Rt(l,s.Vt);return{Xr:!1,_t:l,Kt:r.Fi(l,s.Vt),xh:r.Yl(l),Sh:r.Zl(l,s.Vt),V:c.ce,ki:u,ee:a}}Us(){return this.Nl!==null||(this.Nl=new oB(this)),this.Nl}W(){return this.cn}$h(e){const n=e.priceScaleId;n!==void 0&&n!==this.cn.priceScaleId&&this.$t().Xl(this,n),Dn(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,n){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(n&&n.ta?this.El.$r():e.length===0&&this.El.Hr());const r=this.$t().dr(this);this.$t().ia(r),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const n=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(n),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const n=new rB(this,e);return this.zl.push(n),this.$t().Gl(this),n}ra(e){const n=this.zl.indexOf(e);n!==-1&&this.zl.splice(n,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const n=e.Os();return this.zt.ll(n,1)}In(){return this.zt}ph(e){const n=this.zt.Gh(e);return n===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3]}:n.Vt[3]}aa(e){const n=[];Xh(this.Hl,Qh,"top",n);const r=this.El;return r!==null&&r.yt()&&(this.jl===null&&r.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),r.Ur(),n.unshift(r)),n}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const n=this.zl.map(r=>r.qh());return e.push(...n),Xh(this.Hl,Qh,"normal",e),e}ua(){return this.ca(Qh,"bottom")}da(e){return this.ca(hB,e)}fa(e){return this.ca(fB,e)}va(e,n){return this.Hl.map(r=>r.wr(e,n)).filter(r=>r!==null)}Ji(e){return[this.Hh,...this.zl.map(n=>n.Yh())]}Rn(e,n){if(n!==this.Yi&&!this._a())return[];const r=[...this.rn];for(const i of this.zl)r.push(i.Zh());return this.Hl.forEach(i=>{r.push(...i.Rn())}),r}Qi(){const e=[];return this.Hl.forEach(n=>{e.push(...n.Qi())}),e}Il(e,n){if(this.cn.autoscaleInfoProvider!==void 0){const r=this.cn.autoscaleInfoProvider(()=>{const i=this.pa(e,n);return i===null?null:i.Bh()});return zu.Ah(r)}return this.pa(e,n)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const n of this.rn)n.bt();for(const n of this.zl)n.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(n=>n.Vn())}Dt(){return Y(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const n=this.zt.Gh(e);return n===null?null:{_t:n.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new dB(e,this))}ya(e){this.Hl=this.Hl.filter(n=>n.Ol()!==e)}Ca(){if(this.wn instanceof Gh)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof Gh)return e=>this.wn.je(e)}_a(){return!Wd(this.Dt().Pa())}pa(e,n){if(!gl(e)||!gl(n)||this.zt.Ni())return null;const r=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],i=this.zt.ol(e,n,r);let s=i!==null?new Ut(i.ml,i.bl):null;if(this.Qh()==="Histogram"){const a=this.cn.base,l=new Ut(a,a);s=s!==null?s.ts(l):l}let o=this.dn.uh();return this.Hl.forEach(a=>{const l=a.Il(e,n);if(l!=null&&l.priceRange){const p=new Ut(l.priceRange.minValue,l.priceRange.maxValue);s=s!==null?s.ts(p):p}var c,u,h,f;l!=null&&l.margins&&(c=o,u=l.margins,o={above:Math.max((h=c==null?void 0:c.above)!==null&&h!==void 0?h:0,u.above),below:Math.max((f=c==null?void 0:c.below)!==null&&f!==void 0?f:0,u.below)})}),new zu(s,o)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const n=this.cn.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new w3(this.cn.priceFormat.precision);break;case"percent":this.wa=new rN(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new qd(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const n=Y(this.zt.el());this.Wl=this.Fl.map((r,i)=>{const s=Y(e.Va(r.time,!0)),o=s<n?1:-1;return{time:Y(this.zt.ll(s,o)).ee,position:r.position,shape:r.shape,color:r.color,id:r.id,th:i,text:r.text,size:r.size,originalTime:r.originalTime}})}ql(e){switch(this.dn=new Q3(this,this.$t()),this.$l){case"Bar":this.wn=new P3(this,this.$t());break;case"Candlestick":this.wn=new I3(this,this.$t());break;case"Line":this.wn=new z3(this,this.$t());break;case"Custom":this.wn=new Gh(this,this.$t(),jt(e));break;case"Area":this.wn=new N3(this,this.$t());break;case"Baseline":this.wn=new M3(this,this.$t());break;case"Histogram":this.wn=new D3(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,n){const r=[];return Xh(this.Hl,e,n,r),r}}class pB{constructor(e){this.cn=e}Oa(e,n,r){let i=e;if(this.cn.mode===0)return i;const s=r.vn(),o=s.Ct();if(o===null)return i;const a=s.Rt(e,o),l=r.Ba().filter(u=>u instanceof uv).reduce((u,h)=>{if(r.vr(h)||!h.yt())return u;const f=h.Dt(),p=h.In();if(f.Ni()||!p.Kr(n))return u;const g=p.Gh(n);if(g===null)return u;const m=Hs(h.Ct());return u.concat([f.Rt(g.Vt[3],m.Vt)])},[]);if(l.length===0)return i;l.sort((u,h)=>Math.abs(u-a)-Math.abs(h-a));const c=l[0];return i=s.pn(c,o),i}}class mB extends Vn{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null)return;const s=Math.max(1,Math.floor(r));e.lineWidth=s,function(o,a){o.save(),o.lineWidth%2&&o.translate(.5,.5),a(),o.restore()}(e,()=>{const o=Y(this.zt);if(o.Aa){e.strokeStyle=o.Ia,cs(e,o.za),e.beginPath();for(const a of o.La){const l=Math.round(a.Ea*r);e.moveTo(l,-s),e.lineTo(l,n.height+s)}e.stroke()}if(o.Na){e.strokeStyle=o.Fa,cs(e,o.Wa),e.beginPath();for(const a of o.ja){const l=Math.round(a.Ea*i);e.moveTo(-s,l),e.lineTo(n.width+s,l)}e.stroke()}})}}class gB{constructor(e){this.Wt=new mB,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,n={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(r=>({Ea:r.coord}))};this.Wt.J(n),this.ft=!1}return this.Wt}}class vB{constructor(e){this.wn=new gB(e)}qh(){return this.wn}}const Jh={$a:4,Ua:1e-4};function Ws(t,e){const n=100*(t-e)/e;return e<0?-n:n}function yB(t,e){const n=Ws(t.Ph(),e),r=Ws(t.Rh(),e);return new Ut(n,r)}function Na(t,e){const n=100*(t-e)/e+100;return e<0?-n:n}function xB(t,e){const n=Na(t.Ph(),e),r=Na(t.Rh(),e);return new Ut(n,r)}function Fu(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.log10(n+e.Ua)+e.$a;return t<0?-r:r}function Ta(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const r=Math.pow(10,n-e.$a)-e.Ua;return t<0?-r:r}function ta(t,e){if(t===null)return null;const n=Fu(t.Ph(),e),r=Fu(t.Rh(),e);return new Ut(n,r)}function pc(t,e){if(t===null)return null;const n=Ta(t.Ph(),e),r=Ta(t.Rh(),e);return new Ut(n,r)}function ef(t){if(t===null)return Jh;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return Jh;const n=Math.ceil(Math.abs(Math.log10(e))),r=Jh.$a+n;return{$a:r,Ua:1/Math.pow(10,r)}}class tf{constructor(e,n){if(this.qa=e,this.Ya=n,function(r){if(r<0)return!1;for(let i=r;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let r=this.qa;r!==1;){if(r%2==0)this.Za.push(2),r/=2;else{if(r%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),r/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,n,r){const i=this.qa===0?0:1/this.qa;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-n)))),o=0,a=this.Ya[0];for(;;){const h=hc(s,i,1e-14)&&s>i+1e-14,f=hc(s,r*a,1e-14),p=hc(s,1,1e-14);if(!(h&&f&&p))break;s/=a,a=this.Ya[++o%this.Ya.length]}if(s<=i+1e-14&&(s=i),s=Math.max(1,s),this.Za.length>0&&(l=s,c=1,u=1e-14,Math.abs(l-c)<u))for(o=0,a=this.Za[0];hc(s,r*a,1e-14)&&s>i+1e-14;)s/=a,a=this.Za[++o%this.Za.length];var l,c,u;return s}}class A0{constructor(e,n,r,i){this.Ka=[],this.Li=e,this.qa=n,this.Ga=r,this.Ja=i}Xa(e,n){if(e<n)throw new Error("high < low");const r=this.Li.At(),i=(e-n)*this.Qa()/r,s=new tf(this.qa,[2,2.5,2]),o=new tf(this.qa,[2,2,2.5]),a=new tf(this.qa,[2.5,2,2]),l=[];return l.push(s.Xa(e,n,i),o.Xa(e,n,i),a.Xa(e,n,i)),function(c){if(c.length<1)throw Error("array is empty");let u=c[0];for(let h=1;h<c.length;++h)c[h]<u&&(u=c[h]);return u}(l)}io(){const e=this.Li,n=e.Ct();if(n===null)return void(this.Ka=[]);const r=e.At(),i=this.Ga(r-1,n),s=this.Ga(0,n),o=this.Li.W().entireTextOnly?this.no()/2:0,a=o,l=r-1-o,c=Math.max(i,s),u=Math.min(i,s);if(c===u)return void(this.Ka=[]);let h=this.Xa(c,u),f=c%h;f+=f<0?h:0;const p=c>=u?1:-1;let g=null,m=0;for(let w=c-f;w>u;w-=h){const v=this.Ja(w,n,!0);g!==null&&Math.abs(v-g)<this.Qa()||v<a||v>l||(m<this.Ka.length?(this.Ka[m].Ea=v,this.Ka[m].so=e.eo(w)):this.Ka.push({Ea:v,so:e.eo(w)}),m++,g=v,e.ro()&&(h=this.Xa(w*p,u)))}this.Ka.length=m}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function vN(t){return t.slice().sort((e,n)=>Y(e.Xi())-Y(n.Xi()))}var j0;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(j0||(j0={}));const M0=new rN,R0=new qd(100,1);class wB{constructor(e,n,r,i){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new Qe,this.vo=new Qe,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=R0,this.xo=ef(null),this.So=e,this.cn=n,this.ko=r,this.yo=i,this.Co=new A0(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(Dn(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const n=jt(e.scaleMargins.top),r=jt(e.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(r<0||r>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${r}`);if(n+r>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+r}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const n=this.Cr();let r=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),n.Cr===1&&e.Cr!==n.Cr&&(function(s,o){if(s===null)return!1;const a=Ta(s.Ph(),o),l=Ta(s.Rh(),o);return isFinite(a)&&isFinite(l)}(this.Ih,this.xo)?(r=pc(this.Ih,this.xo),r!==null&&this.Ao(r)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==n.Cr&&(r=ta(this.Ih,this.xo),r!==null&&this.Ao(r));const i=n.Cr!==this.cn.mode;i&&(n.Cr===2||this.Mh())&&this.Ra(),i&&(n.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&n.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(n,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,n){const r=this.Ih;(n||r===null&&e!==null||r!==null&&!r.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,n){return this.Mh()?e=Ws(e,n):this.Oo()&&(e=Na(e,n)),this.Po(e,n)}te(e,n,r){this.Wo();const i=this.Fo(),s=Y(this.Lh()),o=s.Ph(),a=s.Rh(),l=this.Eo()-1,c=this.Bo(),u=l/(a-o),h=r===void 0?0:r.from,f=r===void 0?e.length:r.to,p=this.Ho();for(let g=h;g<f;g++){const m=e[g],w=m._t;if(isNaN(w))continue;let v=w;p!==null&&(v=p(m._t,n));const x=i+u*(v-o),b=c?x:this.ho-1-x;m.st=b}}be(e,n,r){this.Wo();const i=this.Fo(),s=Y(this.Lh()),o=s.Ph(),a=s.Rh(),l=this.Eo()-1,c=this.Bo(),u=l/(a-o),h=r===void 0?0:r.from,f=r===void 0?e.length:r.to,p=this.Ho();for(let g=h;g<f;g++){const m=e[g];let w=m.ge,v=m.Me,x=m.xe,b=m.Se;p!==null&&(w=p(m.ge,n),v=p(m.Me,n),x=p(m.xe,n),b=p(m.Se,n));let S=i+u*(w-o),k=c?S:this.ho-1-S;m.pe=k,S=i+u*(v-o),k=c?S:this.ho-1-S,m.de=k,S=i+u*(x-o),k=c?S:this.ho-1-S,m.fe=k,S=i+u*(b-o),k=c?S:this.ho-1-S,m.me=k}}pn(e,n){const r=this.To(e,n);return this.$o(r,n)}$o(e,n){let r=e;return this.Mh()?r=function(i,s){return s<0&&(i=-i),i/100*s+s}(r,n):this.Oo()&&(r=function(i,s){return i-=100,s<0&&(i=-i),i/100*s+s}(r,n)),r}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let n=0;n<this.po.length;n++){const r=this.po[n];r.Xi()===null&&r.Ki(n+1),e.push(r)}return e=vN(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const n=this.po.indexOf(e);if(n===-1)throw new Error("source is not attached to scale");this.po.splice(n,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const n of this.po){const r=n.Ct();r!==null&&(e===null||r.la<e.la)&&(e=r)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const n=this.Co.Ha();return this.bo={Ha:n,Xo:e},this.fo.m(),n}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=Y(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let n=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const r=Y(this.ao).Th();n=Math.max(n,.1),r.Vh(n),this.Ao(r)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=Y(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const n=Y(this.Lh()).Dh()/(this.Eo()-1);let r=e-this.Mo;this.Bo()&&(r*=-1);const i=r*n,s=Y(this.ao).Th();s.Oh(i),this.Ao(s,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,n){switch(this.cn.mode){case 2:return this.s_(Ws(e,n));case 3:return this.ba().format(Na(e,n));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,Y(this.e_()).ba())}Zl(e,n){return e=Ws(e,n),this.s_(e,M0)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let n=100;e!==null&&(n=Math.round(1/e.ma())),this.wa=R0,this.Mh()?(this.wa=M0,n=100):this.Oo()?(this.wa=new qd(100,1),n=100):e!==null&&(this.wa=e.ba()),this.Co=new A0(this,n,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,n){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?Fu(e,this.xo):e;const r=Y(this.Lh()),i=this.Fo()+(this.Eo()-1)*(e-r.Ph())/r.Dh();return this.jo(i)}To(e,n){if(this.Wo(),this.Ni())return 0;const r=this.jo(e),i=Y(this.Lh()),s=i.Ph()+i.Dh()*((r-this.Fo())/(this.Eo()-1));return this.ro()?Ta(s,this.xo):s}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let n=null;const r=this.r_();let i=0,s=0;for(const l of r){if(!l.yt())continue;const c=l.Ct();if(c===null)continue;const u=l.Il(e.Os(),e.ui());let h=u&&u.Lh();if(h!==null){switch(this.cn.mode){case 1:h=ta(h,this.xo);break;case 2:h=yB(h,c.Vt);break;case 3:h=xB(h,c.Vt)}if(n=n===null?h:n.ts(Y(h)),u!==null){const f=u.Eh();f!==null&&(i=Math.max(i,f.above),s=Math.max(s,f.below))}}}if(i===this.co&&s===this.do||(this.co=i,this.do=s,this.bo=null,this.Do()),n!==null){if(n.Ph()===n.Rh()){const l=this.e_(),c=5*(l===null||this.Mh()||this.Oo()?1:l.ma());this.ro()&&(n=pc(n,this.xo)),n=new Ut(n.Ph()-c,n.Rh()+c),this.ro()&&(n=ta(n,this.xo))}if(this.ro()){const l=pc(n,this.xo),c=ef(l);if(o=c,a=this.xo,o.$a!==a.$a||o.Ua!==a.Ua){const u=this.ao!==null?pc(this.ao,this.xo):null;this.xo=c,n=ta(l,c),u!==null&&(this.ao=ta(u,c))}}this.Ao(n)}else this.Ih===null&&(this.Ao(new Ut(-.5,.5)),this.xo=ef(null));var o,a;this.oo._o=!0}Ho(){return this.Mh()?Ws:this.Oo()?Na:this.ro()?e=>Fu(e,this.xo):null}a_(e,n,r){return n===void 0?(r===void 0&&(r=this.ba()),r.format(e)):n(e)}Wh(e,n){return this.a_(e,this.yo.priceFormatter,n)}s_(e,n){return this.a_(e,this.yo.percentageFormatter,n)}}class bB{constructor(e,n){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new Qe,this.yl=e,this.$i=n,this.d_=new vB(this);const r=n.W();this.f_=this.v_("left",r.leftPriceScale),this.p_=this.v_("right",r.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(r)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const n=Array.from(this.o_.values());for(const r of n){const i=Y(r[0].Dt());i.$h(e.overlayPriceScales),e.localization&&i.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?jt(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(n=>{if(this.vr(n)){const r=n.Dt();r!==null&&r.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const n=e.Dt();return n===null||this.f_!==n&&this.p_!==n}qo(e,n,r){const i=r!==void 0?r:this.C_().y_+1;this.T_(e,n,i)}Zo(e){const n=this.po.indexOf(e);Ei(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1);const r=Y(e.Dt()).Pa();if(this.o_.has(r)){const s=jt(this.o_.get(r)),o=s.indexOf(e);o!==-1&&(s.splice(o,1),s.length===0&&this.o_.delete(r))}const i=e.Dt();i&&i.Ba().indexOf(e)>=0&&i.Zo(e),i!==null&&(i.Yo(),this.P_(i)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,n){e.Go(n)}O_(e,n){e.Jo(n),this.k_()}B_(e){e.Qo()}A_(e,n){e.t_(n)}I_(e,n){e.i_(n),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const n=this.yl.Xs();e.Ro({Wn:!0}),n!==null&&e.h_(n),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=vN(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const n=e.r_();if(n&&n.length>0&&!this.yl.Ni()){const r=this.yl.Xs();r!==null&&e.h_(r)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let n=0,r=0;for(let i=0;i<e.length;i++){const s=e[i].Xi();s!==null&&(s<n&&(n=s),s>r&&(r=s))}return{H_:n,y_:r}}T_(e,n,r){let i=this.w_(n);if(i===null&&(i=this.v_(n,this.$i.W().overlayPriceScales)),this.po.push(e),!Wd(n)){const s=this.o_.get(n)||[];s.push(e),this.o_.set(n,s)}i.qo(e),e.Gi(i),e.Ki(r),this.P_(i),this.mo=null}m_(e,n,r){n.Cr!==r.Cr&&this.L_(e)}v_(e,n){const r=Object.assign({visible:!0,autoScale:!0},_r(n)),i=new wB(e,r,this.$i.W().layout,this.$i.W().localization);return i.Lo(this.At()),i}}class SB{constructor(e,n,r=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=n,this.ir=r}Y_(e){const n=e.time,r=this.q_.cacheKey(n),i=this.tr.get(r);if(i!==void 0)return i.Z_;if(this.Ke===this.ir){const o=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(jt(o)),this.Je++,this.Ke--}const s=this.U_(e);return this.tr.set(r,{Z_:s,rr:this.Ge}),this.Qe.set(this.Ge,r),this.Ke++,this.Ge++,s}}class Pa{constructor(e,n){Ei(e<=n,"right should be >= left"),this.X_=e,this.K_=n}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function I0(t,e){return t===null||e===null?t===e:t.Ch(e)}class kB{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,n){this.nu(n),this.tr=null;for(let r=n;r<e.length;++r){const i=e[r];let s=this.J_.get(i.timeWeight);s===void 0&&(s=[],this.J_.set(i.timeWeight,s)),s.push({index:r,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}su(e,n){const r=Math.ceil(n/e);return this.tr!==null&&this.tr.eu===r||(this.tr={Ha:this.ru(r),eu:r}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const n=[];this.J_.forEach((r,i)=>{e<=r[0].index?n.push(i):r.splice(Ll(r,e,s=>s.index<e),1/0)});for(const r of n)this.J_.delete(r)}ru(e){let n=[];for(const r of Array.from(this.J_.keys()).sort((i,s)=>s-i)){if(!this.J_.get(r))continue;const i=n;n=[];const s=i.length;let o=0;const a=jt(this.J_.get(r)),l=a.length;let c=1/0,u=-1/0;for(let h=0;h<l;h++){const f=a[h],p=f.index;for(;o<s;){const g=i[o],m=g.index;if(!(m<p)){c=m;break}o++,n.push(g),u=m,c=1/0}if(c-p>=e&&p-u>=e)n.push(f),u=p;else if(this.Q_)return i}for(;o<s;o++)n.push(i[o])}return n}}class ao{constructor(e){this.hu=e}lu(){return this.hu===null?null:new Pa(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new ao(null)}}function CB(t,e){return t.weight>e.weight?t:e}class EB{constructor(e,n,r,i){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new kB,this.du=new Map,this.fu=ao.ou(),this.vu=!0,this.pu=new Qe,this.mu=new Qe,this.bu=new Qe,this.wu=null,this.gu=null,this.Mu=[],this.cn=n,this.yo=r,this.xu=n.rightOffset,this.Su=n.barSpacing,this.$i=e,this.q_=i,this.ku(),this.cu.tu(n.uniformDistribution)}W(){return this.cn}yu(e){Dn(this.yo,e),this.Cu(),this.ku()}$h(e,n){var r;Dn(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((r=e.barSpacing)!==null&&r!==void 0?r:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var n,r;return(r=(n=this.uu[e])===null||n===void 0?void 0:n.time)!==null&&r!==void 0?r:null}Ui(e){var n;return(n=this.uu[e])!==null&&n!==void 0?n:null}Va(e,n){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return n?this.uu.length-1:null;const r=Ll(this.uu,this.q_.key(e),(i,s)=>this.q_.key(i.time)<s);return this.q_.key(e)<this.q_.key(this.uu[r].time)?n?r:null:r}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const n={from:e.Os(),to:e.ui()};return this.Ou(n)}Ou(e){const n=Math.round(e.from),r=Math.round(e.to),i=Y(this.Bu()),s=Y(this.Au());return{from:Y(this.Ui(Math.max(i,n))),to:Y(this.Ui(Math.min(s,r)))}}Iu(e){return{from:Y(this.Va(e.from,!0)),to:Y(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const n=this.Du(),r=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&r!==0){const i=this.Su*e/r;this.Su=i}if(this.cn.fixLeftEdge&&n!==null&&n.Os()<=0){const i=r-e;this.xu-=Math.round(i/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!gl(e))return 0;const n=this.Eu()+this.xu-e;return this.__-(n+.5)*this.Su-1}Qs(e,n){const r=this.Eu(),i=n===void 0?0:n.from,s=n===void 0?e.length:n.to;for(let o=i;o<s;o++){const a=e[o].ot,l=r+this.xu-a,c=this.__-(l+.5)*this.Su-1;e[o].nt=c}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,n=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),r=Math.round(n/e),i=Y(this.Xs()),s=Math.max(i.Os(),i.Os()-r),o=Math.max(i.ui(),i.ui()-r),a=this.cu.su(e,n),l=this.Bu()+r,c=this.Au()-r,u=this.$u(),h=this.cn.fixLeftEdge||u,f=this.cn.fixRightEdge||u;let p=0;for(const g of a){if(!(s<=g.index&&g.index<=o))continue;let m;p<this.Mu.length?(m=this.Mu[p],m.coord=this.It(g.index),m.label=this.Uu(g),m.weight=g.weight):(m={needAlignCoordinate:!1,coord:this.It(g.index),label:this.Uu(g),weight:g.weight},this.Mu.push(m)),this.Su>n/2&&!u?m.needAlignCoordinate=!1:m.needAlignCoordinate=h&&g.index<=l||f&&g.index>=c,p++}return this.Mu.length=p,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,n){const r=this.Fu(e),i=this.le(),s=i+n*(i/10);this.Gn(s),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(r-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const n=Jp(this.__-e,0,this.__),r=Jp(this.__-Y(this.wo),0,this.__);n!==0&&r!==0&&this.Gn(this.wu.le*n/r)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const n=(this.Mo-e)/this.le();this.xu=Y(this.wu).Hu+n,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,n=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const r=this.xu,i=performance.now();this.$i.Zn({Qu:s=>(s-i)/n>=1,tc:s=>{const o=(s-i)/n;return o>=1?e:r+(e-r)*o}})}bt(e,n){this.vu=!0,this.uu=e,this.cu.iu(e,n),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const n=e.G_();this.ju(this.__/n),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),n=this.Au();e!==null&&n!==null&&this.rc(new Pa(e,n+this.cn.rightOffset))}lc(e){const n=new Pa(e.from,e.to);this.rc(n)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:n}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const n=this.ac(e),r=this.Eu()+this.xu-n;return Math.round(1e6*r)/1e6}ju(e){const n=this.Su;this.Su=e,this.zu(),n!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(ao.ou());const e=this.Eu(),n=this.__/this.Su,r=this.xu+e,i=new Pa(r-n+1,r);this._c(new ao(i))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const n=.5*this.__;this.Su>n&&(this.Su=n,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const n=this.dc();this.xu>n&&(this.xu=n,this.vu=!0)}cc(){const e=this.Bu(),n=this._u;return e===null||n===null?null:e-n-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let n=this.du.get(e.weight);return n===void 0&&(n=new SB(r=>this.fc(r),this.q_),this.du.set(e.weight,n)),n.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const n=this.fu;this.fu=e,I0(n.lu(),this.fu.lu())||this.pu.m(),I0(n.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const n=this.Xs();if(n===null)return;const r=n.Os()-e;if(r<0){const i=this.xu-r-1;this.Jn(i)}this.zu()}Pu(){this.Lu(),this.zu()}}class _B{X(e,n,r){e.useMediaCoordinateSpace(i=>this.K(i,n,r))}gl(e,n,r){e.useMediaCoordinateSpace(i=>this.vc(i,n,r))}vc(e,n,r){}}class NB extends _B{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:n,mediaSize:r}=e;let i=0;for(const o of this.zt.bc){if(o.Kt.length===0)continue;n.font=o.R;const a=this.wc(n,o.Kt);a>r.width?o.Zu=r.width/a:o.Zu=1,i+=o.gc*o.Zu}let s=0;switch(this.zt.Mc){case"top":s=0;break;case"center":s=Math.max((r.height-i)/2,0);break;case"bottom":s=Math.max(r.height-i,0)}n.fillStyle=this.zt.V;for(const o of this.zt.bc){n.save();let a=0;switch(this.zt.xc){case"left":n.textAlign="left",a=o.gc/2;break;case"center":n.textAlign="center",a=r.width/2;break;case"right":n.textAlign="right",a=r.width-1-o.gc/2}n.translate(a,s),n.textBaseline="top",n.font=o.R,n.scale(o.Zu,o.Zu),n.fillText(o.Kt,0,o.Sc),n.restore(),s+=o.gc*o.Zu}}wc(e,n){const r=this.kc(e.font);let i=r.get(n);return i===void 0&&(i=e.measureText(n).width,r.set(n,i)),i}kc(e){let n=this.mc.get(e);return n===void 0&&(n=new Map,this.mc.set(e,n)),n}}class TB{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new NB(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),n=this.Ft;n.yt=e.visible,n.yt&&(n.V=e.color,n.xc=e.horzAlign,n.Mc=e.vertAlign,n.bc=[{Kt:e.text,R:_o(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class PB extends ov{constructor(e,n){super(),this.cn=n,this.wn=new TB(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var O0,L0,$0,em,$i;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(O0||(O0={}));class AB{constructor(e,n,r){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new Qe,this.Rc=new Qe,this.Dc=null,this.Vc=e,this.cn=n,this.q_=r,this.Oc=new l3(this),this.yl=new EB(this,n.timeScale,this.cn.localization,r),this.vt=new x3(this,n.crosshair),this.Bc=new pB(n.crosshair),this.Ac=new PB(this,n.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(dt.es())}Uh(){this.Nc(dt.ss())}oa(){this.Nc(new dt(1))}Gl(e){const n=this.Fc(e);this.Nc(n)}Wc(){return this.Tc}jc(e){const n=this.Tc;this.Tc=e,n!==null&&this.Gl(n.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){Dn(this.cn,e),this.yc.forEach(n=>n.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,n){if(e==="left")return void this.$h({leftPriceScale:n});if(e==="right")return void this.$h({rightPriceScale:n});const r=this.Uc(e);r!==null&&(r.Dt.$h(n),this.Pc.m())}Uc(e){for(const n of this.yc){const r=n.w_(e);if(r!==null)return{Ht:n,Dt:r}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,n){e.Lo(n),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(n=>n.S_(e)),this.Wu()}Ic(e){const n=new bB(this.yl,this);e!==void 0?this.yc.splice(e,0,n):this.yc.push(n);const r=e===void 0?this.yc.length-1:e,i=dt.es();return i.Nn(r,{Fn:0,Wn:!0}),this.Nc(i),n}V_(e,n,r){e.V_(n,r)}O_(e,n,r){e.O_(n,r),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,n){e.B_(n),this.Nc(this.Gc(e,2))}A_(e,n,r){n.Vo()||e.A_(n,r)}I_(e,n,r){n.Vo()||(e.I_(n,r),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,n){n.Vo()||(e.z_(n),this.Nc(this.Gc(e,2)))}E_(e,n){e.E_(n),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,n){const r=this.St();if(r.Ni()||n===0)return;const i=r.Hi();e=Math.max(1,Math.min(e,i)),r.Zu(e,n),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,n,r,i,s){this.vt.gn(e,n);let o=NaN,a=this.yl.Nu(e);const l=this.yl.Xs();l!==null&&(a=Math.min(Math.max(l.Os(),a),l.ui()));const c=i.vn(),u=c.Ct();u!==null&&(o=c.pn(n,u)),o=this.Bc.Oa(o,a,i),this.vt.kn(a,o,i),this.oa(),s||this.Rc.m(this.vt.xt(),{x:e,y:n},r)}ad(e,n,r){const i=r.vn(),s=i.Ct(),o=i.Rt(e,Y(s)),a=this.yl.Va(n,!0),l=this.yl.It(Y(a));this.ld(l,o,null,r,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const n=this.vt.xn(),r=this.vt.Sn();this.ld(n,r,null,e)}this.vt.Vn()}_d(e,n,r){const i=this.yl.mn(0);n!==void 0&&r!==void 0&&this.yl.bt(n,r);const s=this.yl.mn(0),o=this.yl.Eu(),a=this.yl.Xs();if(a!==null&&i!==null&&s!==null){const l=a.Kr(o),c=this.q_.key(i)>this.q_.key(s),u=e!==null&&e>o&&!c,h=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=l&&(r!==void 0||h)&&this.yl.W().shiftVisibleRangeOnNewBar;if(u&&!f){const p=e-o;this.yl.Jn(this.yl.Hu()-p)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const n=this.yc.find(r=>r.Uo().includes(e));return n===void 0?null:n}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,n,r){const i=this.yc[0],s=this.fd(n,e,i,r);return this.Cc.push(s),this.Cc.length===1?this.Kl():this.Uh(),s}vd(e){const n=this.dr(e),r=this.Cc.indexOf(e);Ei(r!==-1,"Series not found"),this.Cc.splice(r,1),Y(n).Zo(e),e.S&&e.S()}Xl(e,n){const r=Y(this.dr(e));r.Zo(e);const i=this.Uc(n);if(i===null){const s=e.Xi();r.qo(e,n,s)}else{const s=i.Ht===r?e.Xi():void 0;i.Ht.qo(e,n,s)}}hc(){const e=dt.ss();e.$n(),this.Nc(e)}pd(e){const n=dt.ss();n.Yn(e),this.Nc(n)}Kn(){const e=dt.ss();e.Kn(),this.Nc(e)}Gn(e){const n=dt.ss();n.Gn(e),this.Nc(n)}Jn(e){const n=dt.ss();n.Jn(e),this.Nc(n)}Zn(e){const n=dt.ss();n.Zn(e),this.Nc(n)}Un(){const e=dt.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const n=this.Ec,r=this.zc;if(n===r)return n;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==r||this.Dc.Rs!==n)this.Dc={Ps:r,Rs:n,wd:new Map};else{const s=this.Dc.wd.get(e);if(s!==void 0)return s}const i=function(s,o,a){const[l,c,u,h]=ml(s),[f,p,g,m]=ml(o),w=[dn(l+a*(f-l)),dn(c+a*(p-c)),dn(u+a*(g-u)),J_(h+a*(m-h))];return`rgba(${w[0]}, ${w[1]}, ${w[2]}, ${w[3]})`}(r,n,e/100);return this.Dc.wd.set(e,i),i}Gc(e,n){const r=new dt(n);if(e!==null){const i=this.yc.indexOf(e);r.Nn(i,{Fn:n})}return r}Fc(e,n){return n===void 0&&(n=2),this.Gc(this.dr(e),n)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(n=>n.j_().qh().bt())}fd(e,n,r,i){const s=new uv(this,e,n,r,i),o=e.priceScaleId!==void 0?e.priceScaleId:this.md();return r.qo(s,o),Wd(o)||s.$h(e),s}Lc(e){const n=this.cn.layout;return n.background.type==="gradient"?e===0?n.background.topColor:n.background.bottomColor:n.background.color}}function tm(t){return!Xn(t)&&!Ol(t)}function yN(t){return Xn(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(L0||(L0={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}($0||($0={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(em||(em={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}($i||($i={}));const D0=t=>t.getUTCFullYear();function jB(t,e,n){return e.replace(/yyyy/g,(r=>Nr(D0(r),4))(t)).replace(/yy/g,(r=>Nr(D0(r)%100,2))(t)).replace(/MMMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,n)).replace(/MMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,n)).replace(/MM/g,(r=>Nr((i=>i.getUTCMonth()+1)(r),2))(t)).replace(/dd/g,(r=>Nr((i=>i.getUTCDate())(r),2))(t))}class xN{constructor(e="yyyy-MM-dd",n="default"){this.gd=e,this.Md=n}Y_(e){return jB(e,this.gd,this.Md)}}class MB{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",Nr(e.getUTCHours(),2)).replace("%m",Nr(e.getUTCMinutes(),2)).replace("%s",Nr(e.getUTCSeconds(),2))}}const RB={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class IB{constructor(e={}){const n=Object.assign(Object.assign({},RB),e);this.Td=new xN(n.Sd,n.Cd),this.Pd=new MB(n.kd),this.Rd=n.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function mc(t){return 60*t*60*1e3}function nf(t){return 60*t*1e3}const gc=[{Dd:(z0=1,1e3*z0),Vd:10},{Dd:nf(1),Vd:20},{Dd:nf(5),Vd:21},{Dd:nf(30),Vd:22},{Dd:mc(1),Vd:30},{Dd:mc(3),Vd:31},{Dd:mc(6),Vd:32},{Dd:mc(12),Vd:33}];var z0;function F0(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let n=gc.length-1;n>=0;--n)if(Math.floor(e.getTime()/gc[n].Dd)!==Math.floor(t.getTime()/gc[n].Dd))return gc[n].Vd;return 0}function rf(t){let e=t;if(Ol(t)&&(e=dv(t)),!tm(e))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(n.getTime()/1e3),Bd:e}}function B0(t){if(!yN(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function dv(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function V0(t){Ol(t.time)&&(t.time=dv(t.time))}class U0{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(n){n.forEach(V0)}(e):V0(e)}createConverterToInternalObj(e){return Y(function(n){return n.length===0?null:tm(n[0].time)||Ol(n[0].time)?rf:B0}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const n=e;return n.Bd===void 0?new Date(1e3*n.Od).getTime():new Date(Date.UTC(n.Bd.year,n.Bd.month-1,n.Bd.day)).getTime()}convertHorzItemToInternal(e){return yN(n=e)?B0(n):tm(n)?rf(n):rf(dv(n));var n}updateFormatter(e){if(!this.cn)return;const n=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new IB({Sd:n,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new xN(n,e.locale)}formatHorzItem(e){const n=e;return this.Ad.Y_(new Date(1e3*n.Od))}formatTickmark(e,n){const r=function(s,o,a){switch(s){case 0:case 10:return o?a?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),i=this.cn.timeScale;if(i.tickMarkFormatter!==void 0){const s=i.tickMarkFormatter(e.originalTime,r,n.locale);if(s!==null)return s}return function(s,o,a){const l={};switch(o){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const c=s.Bd===void 0?new Date(1e3*s.Od):new Date(Date.UTC(s.Bd.year,s.Bd.month-1,s.Bd.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(a,l)}(e.time,r,n.locale)}maxTickMarkWeight(e){let n=e.reduce(CB,e[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(e,n){(function(r,i=0){if(r.length===0)return;let s=i===0?null:r[i-1].time.Od,o=s!==null?new Date(1e3*s):null,a=0;for(let l=i;l<r.length;++l){const c=r[l],u=new Date(1e3*c.time.Od);o!==null&&(c.timeWeight=F0(u,o)),a+=c.time.Od-(s||c.time.Od),s=c.time.Od,o=u}if(i===0&&r.length>1){const l=Math.ceil(a/(r.length-1)),c=new Date(1e3*(r[0].time.Od-l));r[0].timeWeight=F0(new Date(1e3*r[0].time.Od),c)}})(e,n)}static Id(e){return Dn({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const No=typeof window<"u";function H0(){return!!No&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function sf(){return!!No&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function nm(t){return t+t%2}function of(t,e){return t.zd-e.zd}function af(t,e,n){const r=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(r)*Math.min(Math.abs(r),n)}class OB{constructor(e,n,r,i){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=n,this.qd=r,this.rs=i}Yd(e,n){if(this.Ld!==null){if(this.Ld.ot===n)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:n,zd:e}}Vr(e,n){if(this.Ld===null||this.Ed===null||n-this.Ld.ot>50)return;let r=0;const i=af(this.Ld,this.Ed,this.Ud),s=of(this.Ld,this.Ed),o=[i],a=[s];if(r+=s,this.Nd!==null){const c=af(this.Ed,this.Nd,this.Ud);if(Math.sign(c)===Math.sign(i)){const u=of(this.Ed,this.Nd);if(o.push(c),a.push(u),r+=u,this.Fd!==null){const h=af(this.Nd,this.Fd,this.Ud);if(Math.sign(h)===Math.sign(i)){const f=of(this.Nd,this.Fd);o.push(h),a.push(f),r+=f}}}}let l=0;for(let c=0;c<o.length;++c)l+=a[c]/r*o[c];Math.abs(l)<this.$d||(this.Wd={zd:e,ot:n},this.Hd=l,this.jd=function(c,u){const h=Math.log(u);return Math.log(1*h/-c)/h}(Math.abs(l),this.qd))}tc(e){const n=Y(this.Wd),r=e-n.ot;return n.zd+this.Hd*(Math.pow(this.qd,r)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const n=e-Y(this.Wd).ot;return Math.min(n,this.jd)}}class LB{constructor(e,n){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=n,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return eN(ml(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function us(t,e){const n=Y(t.ownerDocument).createElement("canvas");t.appendChild(n);const r=K4(n,{options:{allowResizeObserver:!1},transform:(i,s)=>({width:Math.max(i.width,s.width),height:Math.max(i.height,s.height)})});return r.resizeCanvasElement(e),r}function ds(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function rm(t,e,n,r){t.gl&&t.gl(e,n,r)}function Hc(t,e,n,r){t.X(e,n,r)}function im(t,e,n,r){const i=t(n,r);for(const s of i){const o=s.gt();o!==null&&e(o)}}function $B(t){No&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class hv{constructor(e,n,r){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!sf(),this.Af=i=>{this.If(i)},this.zf=i=>{if(this.Lf(i)){const s=this.Ef(i);if(++this._f,this.uf&&this._f>1){const{Nf:o}=this.Ff(Wn(i),this.cf);o<30&&!this.wf&&this.Wf(s,this.Hf.jf),this.$f()}}else{const s=this.Ef(i);if(++this.hf,this.lf&&this.hf>1){const{Nf:o}=this.Ff(Wn(i),this.af);o<5&&!this.bf&&this.Uf(s,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=n,this.cn=r,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const n=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",n)},this.Zf.addEventListener("mousemove",n),this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const n=this.Ef(e);this.Uf(n,this.Hf.tv),this.Bf=!0}iv(e){const n=lf(e.changedTouches,Y(this.Of));if(n===null||(this.Vf=vc(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const r=this.Ff(Wn(n),Y(this.pf)),{nv:i,sv:s,Nf:o}=r;if(this.mf||!(o<5)){if(!this.mf){const a=.5*i,l=s>=a&&!this.cn.ev(),c=a>s&&!this.cn.rv();l||c||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const a=this.Ef(e,n);this.Wf(a,this.Hf.hv),Es(e)}}}lv(e){if(e.button!==0)return;const n=this.Ff(Wn(e),Y(this.vf)),{Nf:r}=n;if(r>=5&&(this.bf=!0,this.Yf()),this.bf){const i=this.Ef(e);this.Uf(i,this.Hf.av)}}Ff(e,n){const r=Math.abs(n.nt-e.nt),i=Math.abs(n.st-e.st);return{nv:r,sv:i,Nf:r+i}}ov(e){let n=lf(e.changedTouches,Y(this.Of));if(n===null&&e.touches.length===0&&(n=e.changedTouches[0]),n===null)return;this.Of=null,this.Vf=vc(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const r=this.Ef(e,n);if(this.Wf(r,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:i}=this.Ff(Wn(n),this.cf);i<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}else this.wf||(this.Wf(r,this.Hf.uv),this.Hf.uv&&Es(e));this._f===0&&Es(e),e.touches.length===0&&this.ff&&(this.ff=!1,Es(e))}If(e){if(e.button!==0)return;const n=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),H0()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(n,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:r}=this.Ff(Wn(e),this.af);r<5&&!this.bf&&this.Uf(n,this.Hf.qf),this.Yf()}else this.bf||this.Uf(n,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const n=e.changedTouches[0];this.Of=n.identifier,this.Vf=vc(e);const r=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=Wn(n),this.yf&&(this.yf(),this.yf=null);{const s=this.iv.bind(this),o=this.ov.bind(this);this.yf=()=>{r.removeEventListener("touchmove",s),r.removeEventListener("touchend",o)},r.addEventListener("touchmove",s,{passive:!1}),r.addEventListener("touchend",o,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const i=this.Ef(e,n);this.Wf(i,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=Wn(n))}mv(e){if(e.button!==0)return;const n=this.Zf.ownerDocument.documentElement;H0()&&n.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=Wn(e),this.kf&&(this.kf(),this.kf=null);{const i=this.lv.bind(this),s=this.If.bind(this);this.kf=()=>{n.removeEventListener("mousemove",i),n.removeEventListener("mouseup",s)},n.addEventListener("mousemove",i),n.addEventListener("mouseup",s)}if(this.Df=!0,this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=Wn(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,n=r=>{this.Hf.wv&&(r.composed&&this.Zf.contains(r.composedPath()[0])||r.target&&this.Zf.contains(r.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",n)},this.gf=()=>{e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0})}sf()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),$B(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const n=W0(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,n),Es(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const n=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-n.left+(e[1].clientX-n.left))/2,st:(e[0].clientY-n.top+(e[1].clientY-n.top))/2},this.Tf=W0(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const n=this.Ef(e);this.Uf(n,this.Hf.Pv),this.Bf=!sf()}vv(e){const n=lf(e.touches,Y(this.Of));if(n===null)return;const r=this.Ef(e,n);this.Wf(r,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:vc(e)<this.Vf+500}Wf(e,n){n&&n.call(this.Hf,e)}Uf(e,n){n&&n.call(this.Hf,e)}Ef(e,n){const r=n||e,i=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY,localX:r.clientX-i.left,localY:r.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:r.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&Es(e)}}}}function W0(t,e){const n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)}function Es(t){t.cancelable&&t.preventDefault()}function Wn(t){return{nt:t.pageX,st:t.pageY}}function vc(t){return t.timeStamp||performance.now()}function lf(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}function yc(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function DB(t,e,n){for(const r of t){const i=r.gt();if(i!==null&&i.wr){const s=i.wr(e,n);if(s!==null)return{Bv:r,Iv:s}}}return null}function cf(t,e){return n=>{var r,i,s,o;return((i=(r=n.Dt())===null||r===void 0?void 0:r.Pa())!==null&&i!==void 0?i:"")!==e?[]:(o=(s=n.da)===null||s===void 0?void 0:s.call(n,t))!==null&&o!==void 0?o:[]}}function q0(t,e,n,r){if(!t.length)return;let i=0;const s=n/2,o=t[0].At(r,!0);let a=e===1?s-(t[0].Vi()-o/2):t[0].Vi()-o/2-s;a=Math.max(0,a);for(let l=1;l<t.length;l++){const c=t[l],u=t[l-1],h=u.At(r,!1),f=c.Vi(),p=u.Vi();if(e===1?f>p-h:f<p+h){const g=p-h*e;c.Oi(g);const m=g-e*h/2;if((e===1?m<0:m>n)&&a>0){const w=e===1?-1-m:m-n,v=Math.min(w,a);for(let x=i;x<t.length;x++)t[x].Oi(t[x].Vi()+e*v);a-=v}}else i=l,a=e===1?p-h-f:f-(p+h)}}class K0{constructor(e,n,r,i){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new yl(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=n,this.ko=n.layout,this.Oc=r,this.qv=i==="left",this.Yv=cf("normal",i),this.Zv=cf("top",i),this.Xv=cf("bottom",i),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=us(this.Kv,Be({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=us(this.Kv,Be({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const o=this.Jv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const a={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new hv(this.Jv.canvasElement,a,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ds(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ds(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const n=this.ap(),r=Y(this.Gv.canvasElement.getContext("2d"));r.save();const i=this.Li.Ha();r.font=this._p(),i.length>0&&(e=Math.max(this.Fv.xi(r,i[0].so),this.Fv.xi(r,i[i.length-1].so)));const s=this.up();for(let c=s.length;c--;){const u=this.Fv.xi(r,s[c].Kt());u>e&&(e=u)}const o=this.Li.Ct();if(o!==null&&this.Ev!==null&&(a=this.cn.crosshair).mode!==2&&a.horzLine.visible&&a.horzLine.labelVisible){const c=this.Li.pn(1,o),u=this.Li.pn(this.Ev.height-2,o);e=Math.max(e,this.Fv.xi(r,this.Li.Fi(Math.floor(Math.min(c,u))+.11111111111111,o)),this.Fv.xi(r,this.Li.Fi(Math.ceil(Math.max(c,u))-.11111111111111,o)))}var a;r.restore();const l=e||34;return nm(Math.ceil(n.C+n.T+n.A+n.I+5+l))}cp(e){this.Ev!==null&&Yi(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return Y(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,Y(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const r=ls(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)}),this.tn.bp(r,this.Xv),this.wp(r),this.tn.bp(r,this.Yv),this.gp(r))}this.Jv.applySuggestedBitmapSize();const n=ls(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.Mp(n),this.tn.bp(n,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!0,n.V_(r,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp(),i=this.Li;n.O_(r,i,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp(),r=this.Li;this.Nv&&(this.Nv=!1,e.B_(n,r))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!1,n.B_(r,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],n=this.Li===null?void 0:this.Li;return(r=>{for(let i=0;i<r.length;++i){const s=r[i].Rn(this.tn.fp(),n);for(let o=0;o<s.length;o++)e.push(s[o])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:n}){const{width:r,height:i}=n,s=this.tn.fp().$t(),o=s.q(),a=s.bd();o===a?Ud(e,0,0,r,i,o):tN(e,0,0,r,i,o,a)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:r}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const i=Math.max(1,Math.floor(this.ap().C*r));let s;s=this.qv?n.width-i:0,e.fillRect(s,0,i,n.height)}wp(e){if(this.Ev===null||this.Li===null)return;const n=this.Li.Ha(),r=this.Li.W(),i=this.ap(),s=this.qv?this.Ev.width-i.T:0;r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:a,verticalPixelRatio:l})=>{o.fillStyle=r.borderColor;const c=Math.max(1,Math.floor(l)),u=Math.floor(.5*l),h=Math.round(i.T*a);o.beginPath();for(const f of n)o.rect(Math.floor(s*a),Math.round(f.Ea*l)-u,h,c);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{var a;o.font=this._p(),o.fillStyle=(a=r.textColor)!==null&&a!==void 0?a:this.ko.textColor,o.textAlign=this.qv?"right":"left",o.textBaseline="middle";const l=this.qv?Math.round(s-i.A):Math.round(s+i.T+i.A),c=n.map(u=>this.Fv.Mi(o,u.so));for(let u=n.length;u--;){const h=n[u];o.fillText(h.so,l,h.Ea+c[u])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],n=this.Li.Uo().slice(),r=this.tn.fp(),i=this.ap();this.Li===r.pr()&&this.tn.fp().Uo().forEach(o=>{r.vr(o)&&n.push(o)});const s=this.Li;n.forEach(o=>{o.Rn(r,s).forEach(a=>{a.Oi(null),a.Bi()&&e.push(a)})}),e.forEach(o=>o.Oi(o.ki())),this.Li.W().alignLabels&&this.yp(e,i)}yp(e,n){if(this.Ev===null)return;const r=this.Ev.height/2,i=e.filter(o=>o.ki()<=r),s=e.filter(o=>o.ki()>r);i.sort((o,a)=>a.ki()-o.ki()),s.sort((o,a)=>o.ki()-a.ki());for(const o of e){const a=Math.floor(o.At(n)/2),l=o.ki();l>-a&&l<a&&o.Oi(a),l>this.Ev.height-a&&l<this.Ev.height+a&&o.Oi(this.Ev.height-a)}q0(i,1,this.Ev.height,n),q0(s,-1,this.Ev.height,n)}gp(e){if(this.Ev===null)return;const n=this.up(),r=this.ap(),i=this.qv?"right":"left";n.forEach(s=>{s.Ai()&&s.gt(Y(this.Li)).X(e,r,this.Fv,i)})}Mp(e){if(this.Ev===null||this.Li===null)return;const n=this.tn.$v().$t(),r=[],i=this.tn.fp(),s=n.Zc().Rn(i,this.Li);s.length&&r.push(s);const o=this.ap(),a=this.qv?"right":"left";r.forEach(l=>{l.forEach(c=>{c.gt(Y(this.Li)).X(e,o,this.Fv,a)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return _o(this.ko.fontSize,this.ko.fontFamily)}}function zB(t,e){var n,r;return(r=(n=t.ua)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function xc(t,e){var n,r;return(r=(n=t.Pn)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function FB(t,e){var n,r;return(r=(n=t.Ji)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}function BB(t,e){var n,r;return(r=(n=t.aa)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:[]}class fv{constructor(e,n){this.Ev=Be({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new Qe,this.Op=new Qe,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=n,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(r),this.Gv=us(r,Be({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=us(r,Be({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const s=this.Jv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new hv(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ds(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ds(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return Y(this.Np)}qp(e){var n,r;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(fv.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(n=this.Pp)!==null&&n!==void 0?n:new LB(this.Wp,this.Qd),this.Pp.bt()):((r=this.Pp)===null||r===void 0||r.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(Y(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(Y(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const n=e.localX,r=e.localY;this.Gp(n,r,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var n;if(!this.Np)return;this.Kp();const r=e.localX,i=e.localY;this.Gp(r,i,e);const s=this.wr(r,i);this.Qd.Qp((n=s==null?void 0:s.Lv)!==null&&n!==void 0?n:null),this.$i().jc(s&&{Hc:s.Hc,Iv:s.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const n={x:e.localX,y:e.localY};this.rm(n,n,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,n){if(!this.Qd.W().handleScale.pinch)return;const r=5*(n-this.Bp);this.Bp=n,this.$i().Qc(e.nt,r)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const n=this.$i().Zc();this.Ip!==null&&n.yt()&&(this.Lp={x:n.Yt(),y:n.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const n=e.localX,r=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const i=Y(this.Lp),s=i.x+(n-this.Ip.x),o=i.y+(r-this.Ip.y);this.Gp(s,o,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,n){const r=this.Np;return r===null?null:function(i,s,o){const a=i.Uo(),l=function(c,u,h){var f,p;let g,m;for(const x of c){const b=(p=(f=x.va)===null||f===void 0?void 0:f.call(x,u,h))!==null&&p!==void 0?p:[];for(const S of b)w=S.zOrder,(!(v=g==null?void 0:g.zOrder)||w==="top"&&v!=="top"||w==="normal"&&v==="bottom")&&(g=S,m=x)}var w,v;return g&&m?{zv:g,Hc:m}:null}(a,s,o);if((l==null?void 0:l.zv.zOrder)==="top")return yc(l);for(const c of a){if(l&&l.Hc===c&&l.zv.zOrder!=="bottom"&&!l.zv.isBackground)return yc(l);const u=DB(c.Pn(i),s,o);if(u!==null)return{Hc:c,Bv:u.Bv,Iv:u.Iv};if(l&&l.Hc===c&&l.zv.zOrder!=="bottom"&&l.zv.isBackground)return yc(l)}return l!=null&&l.zv?yc(l):null}(r,e,n)}_m(e,n){Y(n==="left"?this.Cp:this.Tp).cp(Be({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){Yi(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=Y(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const n of e.Ba())if(e.vr(n)){const r=n.Dt();r!==null&&e.P_(r),n.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const r=ls(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i)}),this.Np&&(this.fm(r,zB),this.vm(r),this.pm(r),this.fm(r,xc),this.fm(r,FB)))}this.Jv.applySuggestedBitmapSize();const n=ls(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.bm(n),this.fm(n,BB))}wm(){return this.Cp}gm(){return this.Tp}bp(e,n){this.fm(e,n)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,n){const r=n.localX,i=n.localY;e.M()&&e.m(this.$i().St().Nu(r),{x:r,y:i},n)}mp({context:e,bitmapSize:n}){const{width:r,height:i}=n,s=this.$i(),o=s.q(),a=s.bd();o===a?Ud(e,0,0,r,i,a):tN(e,0,0,r,i,o,a)}vm(e){const n=Y(this.Np).j_().qh().gt();n!==null&&n.X(e,!1)}pm(e){const n=this.$i().Yc();this.Mm(e,xc,rm,n),this.Mm(e,xc,Hc,n)}bm(e){this.Mm(e,xc,Hc,this.$i().Zc())}fm(e,n){const r=Y(this.Np).Uo();for(const i of r)this.Mm(e,n,rm,i);for(const i of r)this.Mm(e,n,Hc,i)}Mm(e,n,r,i){const s=Y(this.Np),o=s.$t().Wc(),a=o!==null&&o.Hc===i,l=o!==null&&a&&o.Iv!==void 0?o.Iv.Mr:void 0;im(n,c=>r(c,e,a,l),i,s)}Zp(){if(this.Np===null)return;const e=this.Qd,n=this.Np.R_().W().visible,r=this.Np.D_().W().visible;n||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),r||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const i=e.$t().ud();n&&this.Cp===null&&(this.Cp=new K0(this,e.W(),i,"left"),this.jp.appendChild(this.Cp.lp())),r&&this.Tp===null&&(this.Tp=new K0(this,e.W(),i,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,n,r){this.$i().ld(this.Sm(e),this.km(n),r,Y(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,n,r){this.Ip=e,this.zp=!1,this.Gp(n.x,n.y,r);const i=this.$i().Zc();this.Lp={x:i.Yt(),y:i.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const n=this.$i(),r=this.fp();if(n.z_(r,r.vn()),this.Rp=null,this.Dp=!1,n.ed(),this.Ep!==null){const i=performance.now(),s=n.St();this.Ep.Vr(s.Hu(),i),this.Ep.Qu(i)||n.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Y(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const n=this.$i(),r=n.St();if(r.Ni())return;const i=this.Qd.W(),s=i.handleScroll,o=i.kineticScroll;if((!s.pressedMouseMove||e.Dv)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!e.Dv))return;const a=this.Np.vn(),l=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:l,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&o.touch||!e.Dv&&o.mouse){const c=r.le();this.Ep=new OB(.2/c,7/c,.997,15/c),this.Ep.Yd(r.Hu(),this.Rp.Od)}else this.Ep=null;a.Ni()||n.A_(this.Np,a,e.localY),n.nd(e.localX),this.Dp=!0}this.Dp&&(a.Ni()||n.I_(this.Np,a,e.localY),n.sd(e.localX),this.Ep!==null&&this.Ep.Yd(r.Hu(),l))}}class Y0{constructor(e,n,r,i,s){this.ft=!0,this.Ev=Be({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=r.ud,this.cn=n,this.Tm=i,this.Pm=s,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=us(this.Kv,Be({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ds(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){Yi(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const n=ls(this.Gv);n!==null&&n.useBitmapCoordinateSpace(r=>{this.mp(r),this.Ie(r)})}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:r,verticalPixelRatio:i}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const s=Math.floor(this.Oc.W().C*r),o=Math.floor(this.Oc.W().C*i),a=this.qv?n.width-s:0;e.fillRect(a,0,s,o)}mp({context:e,bitmapSize:n}){Ud(e,0,0,n.width,n.height,this.Pm())}}function pv(t){return e=>{var n,r;return(r=(n=e.fa)===null||n===void 0?void 0:n.call(e,t))!==null&&r!==void 0?r:[]}}const VB=pv("normal"),UB=pv("top"),HB=pv("bottom");class WB{constructor(e,n){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=Be({width:0,height:0}),this.Om=new Qe,this.Fv=new yl(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=n,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=us(this.Im,Be({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=us(this.Im,Be({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const i=this.Jv.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new hv(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ds(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ds(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,n,r){Yi(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(Be({width:n,height:e.height})),this.Dm!==null&&this.Dm.cp(Be({width:r,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,n,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,r)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const r=ls(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i),this.$m(r,HB)}),this.wp(r),this.$m(r,VB)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const n=ls(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],n),this.$m(n,UB))}$m(e,n){const r=this.Qd.$t().wt();for(const i of r)im(n,s=>rm(s,e,!1,void 0),i,void 0);for(const i of r)im(n,s=>Hc(s,e,!1,void 0),i,void 0)}mp({context:e,bitmapSize:n}){Ud(e,0,0,n.width,n.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:n,verticalPixelRatio:r}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const i=Math.max(1,Math.floor(this.jm().C*r));e.fillRect(0,0,n.width,i)}}wp(e){const n=this.Qd.$t().St(),r=n.Ha();if(!r||r.length===0)return;const i=this.q_.maxTickMarkWeight(r),s=this.jm(),o=n.W();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:l,verticalPixelRatio:c})=>{a.strokeStyle=this.qm(),a.fillStyle=this.qm();const u=Math.max(1,Math.floor(l)),h=Math.floor(.5*l);a.beginPath();const f=Math.round(s.T*c);for(let p=r.length;p--;){const g=Math.round(r[p].coord*l);a.rect(g-h,0,u,f)}a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{const l=s.C+s.T+s.L+s.P/2;a.textAlign="center",a.textBaseline="middle",a.fillStyle=this.$(),a.font=this._p();for(const c of r)if(c.weight<i){const u=c.needAlignCoordinate?this.Ym(a,c.coord,c.label):c.coord;a.fillText(c.label,u,l)}this.Qd.W().timeScale.allowBoldLabels&&(a.font=this.Zm());for(const c of r)if(c.weight>=i){const u=c.needAlignCoordinate?this.Ym(a,c.coord,c.label):c.coord;a.fillText(c.label,u,l)}})}Ym(e,n,r){const i=this.Fv.xi(e,r),s=i/2,o=Math.floor(n-s)+.5;return o<0?n+=Math.abs(0-o):o+i>this.Ev.width&&(n-=Math.abs(this.Ev.width-(o+i))),n}Um(e,n){const r=this.jm();for(const i of e)for(const s of i.Qi())s.gt().X(n,r)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return _o(this.j(),this.cn.fontFamily)}Zm(){return _o(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new yl,Hm:0});const e=this.k,n=this._p();if(e.R!==n){const r=this.j();e.P=r,e.R=n,e.L=3*r/12,e.B=3*r/12,e.ji=9*r/12,e.N=0,e.Hm=4*r/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),n=e.W();n.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),n.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const r={ud:this.Qd.$t().ud()},i=()=>n.leftPriceScale.borderVisible&&e.St().W().borderVisible,s=()=>e.bd();n.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new Y0("left",n,r,i,s),this.Bm.appendChild(this.Rm.lp())),n.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new Y0("right",n,r,i,s),this.Am.appendChild(this.Dm.lp()))}}const qB=!!No&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!No&&(!((uf=navigator==null?void 0:navigator.userAgentData)===null||uf===void 0)&&uf.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var uf;class KB{constructor(e,n,r){var i;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new Qe,this.Op=new Qe,this.Rc=new Qe,this.ib=null,this.nb=null,this.Jd=e,this.cn=n,this.q_=r,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(i=this.Xd).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),df(this.cn)&&this.hb(!0),this.$i=new AB(this.Vc.bind(this),this.cn,r),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new WB(this,this.q_),this.sb.appendChild(this.ab.lp());const s=n.autoSize&&this.ob();let o=this.cn.width,a=this.cn.height;if(s||o===0||a===0){const l=e.getBoundingClientRect();o=o||l.width,a=a||l.height}this._b(o,a),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],Y(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,n,r=!1){if(this.ho===n&&this.__===e)return;const i=function(a){const l=Math.floor(a.width),c=Math.floor(a.height);return Be({width:l-l%2,height:c-c%2})}(Be({width:e,height:n}));this.ho=i.height,this.__=i.width;const s=this.ho+"px",o=this.__+"px";Y(this.Xd).style.height=s,Y(this.Xd).style.width=o,this.sb.style.height=s,this.sb.style.width=o,r?this.mb(dt.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=dt.es());for(let n=0;n<this.Xm.length;n++)this.Xm[n].vp(e.Hn(n).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const n=df(this.cn);this.$i.$h(e);const r=df(this.cn);r!==n&&this.hb(r),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),n=document.createElement("canvas");n.width=e.width,n.height=e.height;const r=Y(n.getContext("2d"));return this.gb(r),n}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:Y(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return jt(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let n=0,r=0;const i=this.Xm[0],s=(a,l)=>{let c=0;for(let u=0;u<this.Xm.length;u++){const h=this.Xm[u],f=Y(a==="left"?h.wm():h.gm()),p=f.xp();e!==null&&f.Sp(e,l,c),c+=p.height}};this.xb()&&(s("left",0),n+=Y(i.wm()).xp().width);for(let a=0;a<this.Xm.length;a++){const l=this.Xm[a],c=l.xp();e!==null&&l.Sp(e,n,r),r+=c.height}n+=i.xp().width,this.Sb()&&(s("right",n),n+=Y(i.gm()).xp().width);const o=(a,l,c)=>{Y(a==="left"?this.ab.Lm():this.ab.Em()).Sp(Y(e),l,c)};if(this.cn.timeScale.visible){const a=this.ab.xp();if(e!==null){let l=0;this.xb()&&(o("left",l,r),l=Y(i.wm()).xp().width),this.ab.Sp(e,l,r),l+=a.width,this.Sb()&&o("right",l,r)}r+=a.height}return Be({width:n,height:r})}Pb(){let e=0,n=0,r=0;for(const g of this.Xm)this.xb()&&(n=Math.max(n,Y(g.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(r=Math.max(r,Y(g.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=g.M_();n=nm(n),r=nm(r);const i=this.__,s=this.ho,o=Math.max(i-n-r,0),a=this.cn.timeScale.visible;let l=a?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var c;l=(c=l)+c%2;const u=0+l,h=s<u?0:s-u,f=h/e;let p=0;for(let g=0;g<this.Xm.length;++g){const m=this.Xm[g];m.qp(this.$i.qc()[g]);let w=0,v=0;v=g===this.Xm.length-1?h-p:Math.round(m.M_()*f),w=Math.max(v,2),p+=w,m.cp(Be({width:o,height:w})),this.xb()&&m._m(n,"left"),this.Sb()&&m._m(r,"right"),m.fp()&&this.$i.Kc(m.fp(),w)}this.ab.Fm(Be({width:a?o:0,height:l}),a?n:0,a?r:0),this.$i.S_(o),this.Gm!==n&&(this.Gm=n),this.Jm!==r&&(this.Jm=r)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return qB?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const n=this.Rb(e),r=n*e.deltaX/100,i=-n*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.cn.handleScale.mouseWheel){const s=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(o,s)}r!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*r)}mb(e,n){var r;const i=e.jn();i===3&&this.Db(),i!==3&&i!==2||(this.Vb(e),this.Ob(e,n),this.ab.bt(),this.Xm.forEach(s=>{s.Xp()}),((r=this.Qm)===null||r===void 0?void 0:r.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,n),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,n){for(const r of e.Qn())this.ns(r,n)}Vb(e){const n=this.$i.qc();for(let r=0;r<n.length;r++)e.Hn(r).Wn&&n[r].N_()}ns(e,n){const r=this.$i.St();switch(e.qn){case 0:r.hc();break;case 1:r.lc(e.Vt);break;case 2:r.Gn(e.Vt);break;case 3:r.Jn(e.Vt);break;case 4:r.qu();break;case 5:e.Vt.Qu(n)||r.Jn(e.Vt.tc(n))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(n=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const r=this.Qm;this.Qm=null,this.mb(r,n);for(const i of r.Qn())if(i.qn===5&&!i.Vt.Qu(n)){this.$t().Zn(i.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),n=e.length,r=this.Xm.length;for(let i=n;i<r;i++){const s=jt(this.Xm.pop());this.sb.removeChild(s.lp()),s.lm().p(this),s.am().p(this),s.S()}for(let i=r;i<n;i++){const s=new fv(this,e[i]);s.lm().l(this.Bb.bind(this),this),s.am().l(this.Ab.bind(this),this),this.Xm.push(s),this.sb.insertBefore(s.lp(),this.ab.lp())}for(let i=0;i<n;i++){const s=e[i],o=this.Xm[i];o.fp()!==s?o.qp(s):o.Up()}this.cb(),this.Pb()}Ib(e,n,r){var i;const s=new Map;e!==null&&this.$i.wt().forEach(u=>{const h=u.In().ll(e);h!==null&&s.set(u,h)});let o;if(e!==null){const u=(i=this.$i.St().Ui(e))===null||i===void 0?void 0:i.originalTime;u!==void 0&&(o=u)}const a=this.$t().Wc(),l=a!==null&&a.Hc instanceof uv?a.Hc:void 0,c=a!==null&&a.Iv!==void 0?a.Iv.gr:void 0;return{zb:o,ee:e??void 0,Lb:n??void 0,Eb:l,Nb:s,Fb:c,Wb:r??void 0}}Bb(e,n,r){this.Vp.m(()=>this.Ib(e,n,r))}Ab(e,n,r){this.Op.m(()=>this.Ib(e,n,r))}lb(e,n,r){this.Rc.m(()=>this.Ib(e,n,r))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const n=e.find(r=>r.target===this.Jd);n&&this._b(n.contentRect.width,n.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function df(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function YB(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function wN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function G0(t,e,n,r){const i=n.value,s={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.color!==void 0&&(s.V=n.color),s}function GB(t,e,n,r){const i=n.value,s={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.lineColor!==void 0&&(s.lt=n.lineColor),n.topColor!==void 0&&(s.Ps=n.topColor),n.bottomColor!==void 0&&(s.Rs=n.bottomColor),s}function ZB(t,e,n,r){const i=n.value,s={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return n.topLineColor!==void 0&&(s.Re=n.topLineColor),n.bottomLineColor!==void 0&&(s.De=n.bottomLineColor),n.topFillColor1!==void 0&&(s.ke=n.topFillColor1),n.topFillColor2!==void 0&&(s.ye=n.topFillColor2),n.bottomFillColor1!==void 0&&(s.Ce=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(s.Te=n.bottomFillColor2),s}function XB(t,e,n,r){const i={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:r};return n.color!==void 0&&(i.V=n.color),i}function QB(t,e,n,r){const i={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:r};return n.color!==void 0&&(i.V=n.color),n.borderColor!==void 0&&(i.Ot=n.borderColor),n.wickColor!==void 0&&(i.Xh=n.wickColor),i}function JB(t,e,n,r,i){const s=jt(i)(n),o=Math.max(...s),a=Math.min(...s),l=s[s.length-1],c=[l,o,a,l],u=n,{time:h,color:f}=u;return{ee:e,ot:t,Vt:c,zb:r,$e:wN(u,["time","color"]),V:f}}function wc(t){return t.Vt!==void 0}function Z0(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function Ii(t){return(e,n,r,i,s,o)=>function(a,l){return l?l(a):(c=a).open===void 0&&c.value===void 0;var c}(r,o)?Z0({ot:e,ee:n,zb:i},r):Z0(t(e,n,r,i,s),r)}function X0(t){return{Candlestick:Ii(QB),Bar:Ii(XB),Area:Ii(GB),Baseline:Ii(ZB),Histogram:Ii(G0),Line:Ii(G0),Custom:Ii(JB)}[t]}function Q0(t){return{ee:0,Hb:new Map,la:t}}function J0(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function ew(t){let e;return t.forEach(n=>{e===void 0&&(e=n.zb)}),jt(e)}class e5{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,n){let r=this.qb.size!==0,i=!1;const s=this.Yb.get(e);if(s!==void 0)if(this.Yb.size===1)r=!1,i=!0,this.qb.clear();else for(const l of this.Xb)l.pointData.Hb.delete(e)&&(i=!0);let o=[];if(n.length!==0){const l=n.map(p=>p.time),c=this.q_.createConverterToInternalObj(n),u=X0(e.Qh()),h=e.Ca(),f=e.Ta();o=n.map((p,g)=>{const m=c(p.time),w=this.q_.key(m);let v=this.qb.get(w);v===void 0&&(v=Q0(m),this.qb.set(w,v),i=!0);const x=u(m,v.ee,p,l[g],h,f);return v.Hb.set(e,x),x})}r&&this.Gb(),this.Jb(e,o);let a=-1;if(i){const l=[];this.qb.forEach(c=>{l.push({timeWeight:0,time:c.la,pointData:c,originalTime:ew(c.Hb)})}),l.sort((c,u)=>this.q_.key(c.time)-this.q_.key(u.time)),a=this.Qb(l)}return this.tw(e,a,function(l,c,u){const h=J0(l,u),f=J0(c,u);if(h!==void 0&&f!==void 0)return{ta:h.Ub>=f.Ub&&h.$b>=f.$b}}(this.Yb.get(e),s,this.q_))}vd(e){return this.Kb(e,[])}iw(e,n){const r=n;(function(m){m.zb===void 0&&(m.zb=m.time)})(r),this.q_.preprocessData(n);const i=this.q_.createConverterToInternalObj([n])(n.time),s=this.Zb.get(e);if(s!==void 0&&this.q_.key(i)<this.q_.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${i}`);let o=this.qb.get(this.q_.key(i));const a=o===void 0;o===void 0&&(o=Q0(i),this.qb.set(this.q_.key(i),o));const l=X0(e.Qh()),c=e.Ca(),u=e.Ta(),h=l(i,o.ee,n,r.zb,c,u);o.Hb.set(e,h),this.nw(e,h);const f={ta:wc(h)};if(!a)return this.tw(e,-1,f);const p={timeWeight:0,time:o.la,pointData:o,originalTime:ew(o.Hb)},g=Ll(this.Xb,this.q_.key(p.time),(m,w)=>this.q_.key(m.time)<w);this.Xb.splice(g,0,p);for(let m=g;m<this.Xb.length;++m)hf(this.Xb[m].pointData,m);return this.q_.fillWeightsForPoints(this.Xb,g),this.tw(e,g,f)}nw(e,n){let r=this.Yb.get(e);r===void 0&&(r=[],this.Yb.set(e,r));const i=r.length!==0?r[r.length-1]:null;i===null||this.q_.key(n.ot)>this.q_.key(i.ot)?wc(n)&&r.push(n):wc(n)?r[r.length-1]=n:r.splice(-1,1),this.Zb.set(e,n.ot)}Jb(e,n){n.length!==0?(this.Yb.set(e,n.filter(wc)),this.Zb.set(e,n[n.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let n=-1;for(let r=0;r<this.Xb.length&&r<e.length;++r){const i=this.Xb[r],s=e[r];if(this.q_.key(i.time)!==this.q_.key(s.time)){n=r;break}s.timeWeight=i.timeWeight,hf(s.pointData,r)}if(n===-1&&this.Xb.length!==e.length&&(n=Math.min(this.Xb.length,e.length)),n===-1)return-1;for(let r=n;r<e.length;++r)hf(e[r].pointData,r);return this.q_.fillWeightsForPoints(e,n),this.Xb=e,n}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(n=>{n.length!==0&&(e=Math.max(e,n[n.length-1].ee))}),e}tw(e,n,r){const i={ew:new Map,St:{Eu:this.sw()}};if(n!==-1)this.Yb.forEach((s,o)=>{i.ew.set(o,{$e:s,rw:o===e?r:void 0})}),this.Yb.has(e)||i.ew.set(e,{$e:[],rw:r}),i.St.hw=this.Xb,i.St.lw=n;else{const s=this.Yb.get(e);i.ew.set(e,{$e:s||[],rw:r})}return i}}function hf(t,e){t.ee=e,t.Hb.forEach(n=>{n.ee=e})}function mv(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function tw(t){const e=mv(t);return t.V!==void 0&&(e.color=t.V),e}function t5(t){const e=mv(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function n5(t){const e=mv(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function bN(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function r5(t){const e=bN(t);return t.V!==void 0&&(e.color=t.V),e}function i5(t){const e=bN(t),{V:n,Ot:r,Xh:i}=t;return n!==void 0&&(e.color=n),r!==void 0&&(e.borderColor=r),i!==void 0&&(e.wickColor=i),e}function sm(t){return{Area:t5,Line:tw,Baseline:n5,Histogram:tw,Bar:r5,Candlestick:i5,Custom:s5}[t]}function s5(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const o5={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},a5={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},l5={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:iv,attributionLogo:!0},ff={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},c5={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},u5={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:iv,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function nw(){return{width:0,height:0,autoSize:!1,layout:l5,crosshair:o5,grid:a5,overlayPriceScales:Object.assign({},ff),leftPriceScale:Object.assign(Object.assign({},ff),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},ff),{visible:!0}),timeScale:c5,watermark:u5,localization:{locale:No?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class d5{constructor(e,n){this.aw=e,this.ow=n}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return Wd(this.ow)?this.aw.Mb(this.ow):0}Li(){return Y(this.aw.$t().Uc(this.ow)).Dt}}function rw(t,e,n){const r=wN(t,["time","originalTime"]),i=Object.assign({time:e},r);return n!==void 0&&(i.originalTime=n),i}const h5={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class f5{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class p5{constructor(e,n,r,i,s){this.uw=new Qe,this.Es=e,this.cw=n,this.dw=r,this.q_=s,this.fw=i}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().Rt(e,n.Vt)}coordinateToPrice(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().pn(e,n.Vt)}barsInLogicalRange(e){if(e===null)return null;const n=new ao(new Pa(e.from,e.to)).lu(),r=this.Es.In();if(r.Ni())return null;const i=r.ll(n.Os(),1),s=r.ll(n.ui(),-1),o=Y(r.el()),a=Y(r.An());if(i!==null&&s!==null&&i.ee>s.ee)return{barsBefore:e.from-o,barsAfter:a-e.to};const l={barsBefore:i===null||i.ee===o?e.from-o:i.ee-o,barsAfter:s===null||s.ee===a?a-e.to:a-s.ee};return i!==null&&s!==null&&(l.from=i.zb,l.to=s.zb),l}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,n){const r=this.Es.In().ll(e,n);return r===null?null:sm(this.seriesType())(r)}data(){const e=sm(this.seriesType());return this.Es.In().ne().map(n=>e(n))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const n=e.map(r=>rw(r,this.q_.convertHorzItemToInternal(r.time),r.time));this.Es.na(n)}markers(){return this.Es.sa().map(e=>rw(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return _r(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const n=Dn(_r(h5),e),r=this.Es.ea(n);return new f5(r)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class m5{constructor(e,n,r){this.ww=new Qe,this.mu=new Qe,this.Om=new Qe,this.$i=e,this.yl=e.St(),this.ab=n,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=r}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,n){n?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const n={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},r=this.yl.Iu(n);this.$i.pd(r)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){Ei(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const n=this.$i.St();return n.Ni()?null:n.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const n=this.q_.convertHorzItemToInternal(e),r=this.yl.Va(n,!1);return r===null?null:this.yl.It(r)}coordinateToTime(e){const n=this.$i.St(),r=n.Nu(e),i=n.Ui(r);return i===null?null:i.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},_r(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function g5(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(n){if(n>=1)return 0;let r=0;for(;r<8;r++){const i=Math.round(n);if(Math.abs(i-n)<1e-8)return r;n*=10}return r}(e.minMove))}function iw(t){return function(e){if(dc(e.handleScale)){const r=e.handleScale;e.handleScale={axisDoubleClickReset:{time:r,price:r},axisPressedMouseMove:{time:r,price:r},mouseWheel:r,pinch:r}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:r,axisDoubleClickReset:i}=e.handleScale;dc(r)&&(e.handleScale.axisPressedMouseMove={time:r,price:r}),dc(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const n=e.handleScroll;dc(n)&&(e.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(t),t}class v5{constructor(e,n,r){this.Sw=new Map,this.kw=new Map,this.yw=new Qe,this.Cw=new Qe,this.Tw=new Qe,this.Pw=new e5(n);const i=r===void 0?_r(nw()):Dn(_r(nw()),iw(r));this.q_=n,this.aw=new KB(e,i,n),this.aw.lm().l(o=>{this.yw.M()&&this.yw.m(this.Rw(o()))},this),this.aw.am().l(o=>{this.Cw.M()&&this.Cw.m(this.Rw(o()))},this),this.aw.Xc().l(o=>{this.Tw.M()&&this.Tw.m(this.Rw(o()))},this);const s=this.aw.$t();this.Dw=new m5(s,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,n,r){this.autoSizeActive()||this.aw._b(e,n,r)}addCustomSeries(e,n){const r=Hs(e),i=Object.assign(Object.assign({},Z_),r.defaultOptions());return this.Vw("Custom",i,n,r)}addAreaSeries(e){return this.Vw("Area",e3,e)}addBaselineSeries(e){return this.Vw("Baseline",t3,e)}addBarSeries(e){return this.Vw("Bar",Q4,e)}addCandlestickSeries(e={}){return function(n){n.borderColor!==void 0&&(n.borderUpColor=n.borderColor,n.borderDownColor=n.borderColor),n.wickColor!==void 0&&(n.wickUpColor=n.wickColor,n.wickDownColor=n.wickColor)}(e),this.Vw("Candlestick",X4,e)}addHistogramSeries(e){return this.Vw("Histogram",n3,e)}addLineSeries(e){return this.Vw("Line",J4,e)}removeSeries(e){const n=jt(this.Sw.get(e)),r=this.Pw.vd(n);this.aw.$t().vd(n),this.Ow(r),this.Sw.delete(e),this.kw.delete(n)}pw(e,n){this.Ow(this.Pw.Kb(e,n))}bw(e,n){this.Ow(this.Pw.iw(e,n))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new d5(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(iw(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,n,r){const i=this.Sw.get(r);if(i===void 0)return;const s=this.aw.$t().dr(i);s!==null&&this.aw.$t().ad(e,n,s)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,n,r={},i){g5(r.priceFormat);const s=Dn(_r(X_),_r(n),r),o=this.aw.$t().dd(e,s,i),a=new p5(o,this,this,this,this.q_);return this.Sw.set(a,o),this.kw.set(o,a),a}Ow(e){const n=this.aw.$t();n._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((r,i)=>i.J(r.$e,r.rw)),n.Wu()}Bw(e){return jt(this.kw.get(e))}Rw(e){const n=new Map;e.Nb.forEach((i,s)=>{const o=s.Qh(),a=sm(o)(i);if(o!=="Custom")Ei(YB(a));else{const l=s.Ta();Ei(!l||l(a)===!1)}n.set(this.Bw(s),a)});const r=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:r,hoveredObjectId:e.Fb,seriesData:n,sourceEvent:e.Wb}}}function y5(t,e,n){let r;if(Ol(t)){const s=document.getElementById(t);Ei(s!==null,`Cannot find element in DOM with id=${t}`),r=s}else r=t;const i=new v5(r,e,n);return e.setOptions(i.options()),i}function x5(t,e){return y5(t,new U0,U0.Id(e))}Object.assign(Object.assign({},X_),Z_);const _s={dark:{background:"#01091A",text:"#F9FAFC",grid:"#1C2330",border:"#1C2330",success:"#1F734C",destructive:"#A53232"},light:{background:"#FFFFFF",text:"#01091A",grid:"#E4E7EB",border:"#E4E7EB",success:"#299966",destructive:"#EB4444"}},w5=50,b5=30,SN=t=>{const e=new Date(t*1e3);try{return e.toLocaleTimeString("ru-RU",{timeZone:"Europe/Moscow",hour:"2-digit",minute:"2-digit"})}catch(n){console.error("Error formatting time with timeZone:",n);const r=3*60*60*1e3,i=new Date(e.getTime()+r),s=i.getUTCHours().toString().padStart(2,"0"),o=i.getUTCMinutes().toString().padStart(2,"0");return`${s}:${o}`}},S5=t=>new Date(t*1e3).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),sw=t=>({locale:"ru-RU",priceFormatter:e=>pi(e*100,"",!1),timeFormatter:e=>t==="1D"?SN(e):S5(e)}),kN=({data:t,chartType:e,period:n,className:r="h-full w-full",chartOptions:i,seriesOptions:s})=>{const o=y.useRef(null),a=y.useRef(null),l=y.useRef(null),c=Ki(p=>p.preference),u=y.useRef(n),h=p=>{const g=_s[p];return{layout:{background:{type:em.Solid,color:g.background},textColor:g.text,attributionLogo:!1,fontSize:11},grid:{vertLines:{color:g.grid},horzLines:{color:g.grid}},timeScale:{borderColor:g.border},rightPriceScale:{borderColor:g.border},crosshair:{mode:Qp.Normal,vertLine:{width:1,color:p==="dark"?"rgba(220, 220, 220, 0.4)":"rgba(50, 50, 50, 0.4)",labelVisible:!0,labelBackgroundColor:p==="dark"?"#3B4150":"#E0E3EB"},horzLine:{width:1,color:p==="dark"?"rgba(220, 220, 220, 0.4)":"rgba(50, 50, 50, 0.4)",labelVisible:!0,labelBackgroundColor:p==="dark"?"#3B4150":"#E0E3EB"}}}},f=p=>{const g=_s[p],m={lastValueVisible:!1,priceLineVisible:!1,priceFormat:{type:"price",precision:2,minMove:.01},priceLineSource:0,...e==="line"&&{crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:p==="dark"?g.background:g.border}};if(e==="candle")return{...m,upColor:g.success,downColor:g.destructive,borderVisible:!1,wickVisible:!0,wickUpColor:g.success,wickDownColor:g.destructive};{const w=g.destructive;return{...m,color:w,lineWidth:2,crosshairMarkerBackgroundColor:w}}};return y.useEffect(()=>{if(!o.current||a.current)return;console.log("[LightweightChart] Creating chart instance.");const p=()=>{a.current&&o.current&&a.current.resize(o.current.clientWidth,o.current.clientHeight)},g=6;let m;const w=Ki.getState().preference;w==="system"?m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":m=w;const v=h(m),x=sw(u.current),b={width:o.current.clientWidth,height:o.current.clientHeight,localization:x,rightPriceScale:{scaleMargins:{top:.1,bottom:.1},borderColor:_s[m].border,visible:!0,autoScale:!0,invertScale:!1},timeScale:{rightOffset:0,barSpacing:g,fixLeftEdge:!0,fixRightEdge:!0,borderColor:_s[m].border,timeVisible:!0,secondsVisible:!1,tickMarkFormatter:(k,C)=>{const _=new Date(k*1e3),T="ru-RU";switch(C){case $i.Year:return _.toLocaleDateString(T,{year:"numeric"});case $i.Month:return _.toLocaleDateString(T,{month:"short",year:"numeric"});case $i.DayOfMonth:return _.toLocaleDateString(T,{day:"2-digit",month:"2-digit"});case $i.Time:case $i.TimeWithSeconds:return SN(k);default:return _.toLocaleDateString(T)}}},handleScroll:{vertTouchDrag:!1,mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0},handleScale:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:!0,axisDoubleClickReset:!0},watermark:{visible:!1},crosshair:v.crosshair},S={...b,...v,...i||{},localization:{...b.localization||{},...v.localization||{},...(i==null?void 0:i.localization)||{}},timeScale:{...b.timeScale||{},...v.timeScale||{},...(i==null?void 0:i.timeScale)||{}},rightPriceScale:{...b.rightPriceScale||{},...v.rightPriceScale||{},...(i==null?void 0:i.rightPriceScale)||{}},crosshair:{...b.crosshair||{},...v.crosshair||{},...(i==null?void 0:i.crosshair)||{}}};return a.current=x5(o.current,S),window.addEventListener("resize",p),()=>{console.log("[LightweightChart] Removing chart instance."),window.removeEventListener("resize",p),a.current&&(a.current.remove(),a.current=null,l.current=null)}},[i]),y.useEffect(()=>{if(u.current=n,!a.current)return;console.log(`[LightweightChart] Applying localization options for period: ${n}`);const p=sw(n);a.current.applyOptions({localization:p})},[n]),y.useLayoutEffect(()=>{if(!a.current)return;let p;c==="system"?p=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":p=c;const g=h(p);if(g.timeScale={...g.timeScale||{},borderColor:_s[p].border},g.rightPriceScale={...g.rightPriceScale||{},borderColor:_s[p].border},a.current.applyOptions(g),l.current){const m=f(p);l.current.applyOptions(m)}},[c,e]),y.useEffect(()=>{if(!a.current||!t){console.log("[LightweightChart] Skipping series update: chart or data not ready.");return}if(console.log(`[LightweightChart] Updating series. Type: ${e}, Points: ${t.length}`),l.current){console.log("[LightweightChart] Removing existing series.");try{a.current.removeSeries(l.current)}catch(b){console.error("[LightweightChart] Error removing series:",b)}l.current=null}let p;const g=Ki.getState().preference;g==="system"?p=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":p=g;const v={...f(p),...s||{}};let x=null;try{if(e==="candle"){x=a.current.addCandlestickSeries(v);const b=t.map(S=>({time:S.time,open:S.open,high:S.high,low:S.low,close:S.close}));x.setData(b)}else{x=a.current.addLineSeries(v);const b=t.map(S=>({time:S.time,value:S.close}));x.setData(b)}if(l.current=x,console.log("[LightweightChart] New series added and data set."),t.length>0){const b=e==="line"?w5:b5,S=Math.max(0,t.length-b),k=t.length-1;a.current.timeScale().setVisibleLogicalRange({from:S,to:k}),console.log(`[LightweightChart] Set initial visible range: ${S} to ${k}`),a.current.timeScale().applyOptions({fixLeftEdge:!0,fixRightEdge:!0})}else a.current.timeScale().applyOptions({fixLeftEdge:!1,fixRightEdge:!1})}catch(b){console.error("[LightweightChart] Error adding series or setting data:",b),b instanceof Error&&b.message.includes("disposed")&&console.warn("[LightweightChart] Attempted to operate on a disposed chart object.")}},[t,e,c,s]),d.jsx("div",{ref:o,className:r})};var gv="Tabs",[k5,y8]=It(gv,[Bd]),CN=Bd(),[C5,vv]=k5(gv),EN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Ml(a),[h,f]=bn({prop:r,onChange:i,defaultProp:s});return d.jsx(C5,{scope:n,baseId:tr(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:l,children:d.jsx(ae.div,{dir:u,"data-orientation":o,...c,ref:e})})});EN.displayName=gv;var _N="TabsList",NN=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=vv(_N,n),o=CN(n);return d.jsx(v_,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:d.jsx(ae.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});NN.displayName=_N;var TN="TabsTrigger",PN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=vv(TN,n),a=CN(n),l=MN(o.baseId,r),c=RN(o.baseId,r),u=r===o.value;return d.jsx(y_,{asChild:!0,...a,focusable:!i,active:u,children:d.jsx(ae.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:le(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:le(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:le(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});PN.displayName=TN;var AN="TabsContent",jN=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=vv(AN,n),l=MN(a.baseId,r),c=RN(a.baseId,r),u=r===a.value,h=y.useRef(u);return y.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),d.jsx(Fr,{present:i||u,children:({present:f})=>d.jsx(ae.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&s})})});jN.displayName=AN;function MN(t,e){return`${t}-trigger-${e}`}function RN(t,e){return`${t}-content-${e}`}var E5=EN,IN=NN,ON=PN,LN=jN;const Yd=E5,$l=y.forwardRef(({className:t,...e},n)=>d.jsx(IN,{ref:n,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));$l.displayName=IN.displayName;const wt=y.forwardRef(({className:t,...e},n)=>d.jsx(ON,{ref:n,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));wt.displayName=ON.displayName;const _5=y.forwardRef(({className:t,...e},n)=>d.jsx(LN,{ref:n,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));_5.displayName=LN.displayName;const N5=()=>{var $;const{id:t}=gs(),e=Number(t),n=ct(),r=cn(),{accounts:i,isLoading:s,error:o}=ir(),[a,l]=y.useState(null),[c,u]=y.useState(!0),[h,f]=y.useState(null),{tg:p}=qt(),[g,m]=y.useState("1M"),[w,v]=y.useState("line"),[x,b]=y.useState([]),[S,k]=y.useState(!0),[C,_]=y.useState(null),T=y.useMemo(()=>g==="1D"?"line":w,[g,w]),j=y.useMemo(()=>a?[a.ticker]:[],[a]),{prices:R,isLoading:O,error:A}=xd(j),B=y.useMemo(()=>a?R.get(a.ticker):null,[a,R]),I=y.useMemo(()=>B?Math.round(B.price*100):null,[B]),L=y.useMemo(()=>{var z;if(!a||!i)return null;let E;for(const X of i)if(E=(z=X.portfolioItems)==null?void 0:z.find(N=>N.assetId===a.id&&N.averagePriceCopecks!=null&&N.averagePriceCopecks>0),E)break;return(E==null?void 0:E.averagePriceCopecks)??null},[a,i]),M=async()=>{if(!e||isNaN(e)){u(!1),f(" ID .");return}u(!0),f(null),l(null);try{const E=await wk(e);if(!E||typeof E.isSuccess!="boolean")throw new Error("   getAssetById.");if(E.isSuccess&&E.resultObject)l(E.resultObject),f(null);else{const z=E.errorMessage||` ${e}  .`;f(z),l(null)}}catch(E){f(E.message||" "),l(null)}finally{u(!1)}};y.useEffect(()=>{M()},[e]),y.useEffect(()=>{const E=new AbortController,z=E.signal;return(async()=>{if(!(a!=null&&a.id)){b([]),k(!1),_(null);return}k(!0),_(null),F.log(`[AssetPage] Fetching chart history for asset ${a.id}, period ${g}`);try{const N=await Sk(a.id,g,{signal:z});z.aborted||(N.isSuccess&&Array.isArray(N.resultObject)?(b(N.resultObject),_(null)):(_(N.errorMessage||`     ${g}.`),b([])))}catch(N){N.name==="AbortError"?F.log(`[AssetPage] Fetch aborted for period ${g}`):z.aborted||(_(N.message||"   ."),b([]))}finally{z.aborted||k(!1)}})(),()=>{F.log(`[AssetPage] Aborting fetch for period ${g}`),E.abort()}},[a==null?void 0:a.id,g]),y.useEffect(()=>{var X;const E=((X=r.state)==null?void 0:X.from)||"/market",z=()=>n(E,{replace:!0});return p&&(p.BackButton.show(),p.onEvent("backButtonClicked",z),F.log("[AssetPage] Telegram BackButton shown and handler attached.")),()=>{p&&(p.BackButton.hide(),p.offEvent("backButtonClicked",z),F.log("[AssetPage] Telegram BackButton hidden and handler removed."))}},[p,n,($=r.state)==null?void 0:$.from]);const D=y.useMemo(()=>(i==null?void 0:i.filter(E=>!!(E!=null&&E.brokerAccount)&&!E.brokerAccount.isDeleted))??[],[i]);if(c||s)return d.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-8rem)]",children:d.jsx(Ce,{size:"lg"})});if(o)return d.jsxs("div",{className:"p-4 text-center",children:[" ",d.jsx(ft,{message:`   : ${o}`})," "," "]});if(!a||h){const E=h||`  ID ${e}     .`;return d.jsxs("div",{className:"p-4 text-center",children:[" ",d.jsx(ft,{message:E})," "," "]})}const P=E=>{v(E)};return d.jsxs("div",{className:"p-4 space-y-6 pb-32",children:[d.jsxs("div",{className:"relative flex items-center justify-between h-12",children:[d.jsx("div",{className:"absolute left-0 h-9 w-9"})," ",d.jsxs("div",{className:"flex flex-col items-center text-center flex-grow mx-2 min-w-0",children:[d.jsxs("h1",{className:"text-lg font-semibold truncate leading-tight",title:a.title||a.shortName||a.ticker,children:[" ",Co(a)," "]}),d.jsx("span",{className:"text-sm text-muted-foreground uppercase mt-0.5",children:a.ticker}),d.jsxs("div",{className:"text-xs mt-1",children:[" ",O&&I===null?d.jsx(Ce,{size:"sm"}):I!==null?d.jsx(St,{value:I,className:"text-foreground"}):A?d.jsx("span",{className:"text-destructive",title:A,children:" "}):d.jsx("span",{className:"text-muted-foreground",children:""})," "]})]}),d.jsxs("div",{className:"flex-shrink-0",children:[" ",d.jsx(U_,{asset:a,priceInfo:B||null,isLoadingPrice:O,priceError:A})," "]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2 px-1 gap-2",children:[d.jsx(Yd,{defaultValue:g,onValueChange:E=>m(E),className:"flex-grow",children:d.jsxs($l,{className:"grid grid-cols-6 h-9 w-full",children:[" ",d.jsx(wt,{value:"1D",className:"text-xs h-full",children:"1D"})," ",d.jsx(wt,{value:"1W",className:"text-xs h-full",children:"1W"})," ",d.jsx(wt,{value:"1M",className:"text-xs h-full",children:"1M"})," ",d.jsx(wt,{value:"1Y",className:"text-xs h-full",children:"1Y"})," ",d.jsx(wt,{value:"5Y",className:"text-xs h-full",children:"5Y"})," ",d.jsx(wt,{value:"ALL",className:"text-xs h-full",children:"All"})," "]})}),d.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[d.jsxs(Se,{variant:T==="line"?"secondary":"ghost",size:"icon",className:"h-9 w-9",onClick:()=>P("line"),title:" ",children:[" ",d.jsx(Ak,{className:"h-4 w-4"})," "]}),d.jsxs(Se,{variant:T==="candle"?"secondary":"ghost",size:"icon",className:"h-9 w-9",onClick:()=>P("candle"),title:" ",disabled:g==="1D",children:[" ",d.jsx(Ck,{className:"h-4 w-4"})," "]})]})]}),d.jsxs("div",{className:"relative h-[250px] w-full bg-card rounded-md border shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"absolute bottom-0 right-2 z-10",children:[" ",d.jsxs(Se,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>n(`/asset/${a.id}/chart`),title:"  ",children:[" ",d.jsx(KO,{className:"h-3.5 w-3.5"})," "]})," "]}),d.jsx("div",{className:W("absolute inset-0 transition-opacity duration-200",S?"opacity-50 pointer-events-none":"opacity-100"),children:x.length>0?d.jsx(kN,{data:x,chartType:T,period:g}):!S&&!C?d.jsx("div",{className:W("flex items-center justify-center text-muted-foreground h-full"),children:"       . "}):null}),S&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/30 z-10",children:d.jsx(Ce,{})}),C&&!S&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 z-10",children:d.jsxs("div",{className:"text-center p-4 border border-destructive/50 rounded-md bg-destructive/10 text-destructive",children:[" ",d.jsx("span",{className:"text-2xl mr-2",children:""})," ",C," "]})})]})]}),L!==null&&d.jsx("div",{className:"mt-4 p-3 bg-card border rounded-md shadow-sm",children:d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"    :"}),d.jsx(St,{value:L,className:"font-medium"})]})}),d.jsx(G_,{asset:a,accounts:D})]})},T5=(t,e)=>{let n=null;const r=(...i)=>{n&&clearTimeout(n),n=setTimeout(()=>{t(...i),n=null},e)};return r.cancel=()=>{n&&(clearTimeout(n),n=null)},r},P5=20,A5=()=>{const{searchTerm:t,activeTabValue:e,searchResults:n,totalResults:r,isLoading:i,error:s,didPerformSearch:o,marketTabs:a,isTypesLoading:l,typesError:c}=yr(A=>({searchTerm:A.searchTerm,activeTabValue:A.activeTabValue,searchResults:A.searchResults,totalResults:A.totalResults,isLoading:A.isLoading,error:A.error,didPerformSearch:A.didPerformSearch,marketTabs:A.marketTabs,isTypesLoading:A.isTypesLoading,typesError:A.typesError}),eo),u=yr(A=>A.setSearchTerm),h=yr(A=>A.setActiveTab),f=yr(A=>A.fetchMarketAssets),p=yr(A=>A.fetchMarketTabs),g=ct(),m=cn(),w=y.useRef(null);y.useEffect(()=>{yr.getState().marketTabs.length<=1&&!l&&p()},[p,l]);const v=y.useRef(T5(A=>{u(A)},400)).current,x=A=>{v(A.target.value)};y.useEffect(()=>{const A=yr.getState();!A.didPerformSearch&&!A.isTypesLoading&&!A.isLoading&&A.marketTabs.length>0&&f(!1)},[l]);const b=y.useCallback(A=>{const I=yr.getState().marketTabs.find(L=>L.value===A);I&&h(A,I.apiTitles)},[h]),S=y.useMemo(()=>n.map(A=>A==null?void 0:A.ticker).filter(A=>!!A&&A!=="RUB"),[n]),{prices:k,isLoading:C,error:_}=xd(S),T=A=>{A&&g(`/asset/${A}`,{state:{from:m.pathname}})},j=y.useCallback(()=>{!i&&n.length<r&&f(!0)},[i,n.length,r,f]),R=!i&&n.length>0&&n.length<r;y.useEffect(()=>{const A=w.current;if(!A)return;const B=new IntersectionObserver(([I])=>{I.isIntersecting&&R&&!i&&j()},{threshold:.1});return B.observe(A),()=>{A&&B.unobserve(A)}},[R,j,i]);const O=A=>d.jsxs("div",{className:"flex items-center justify-between p-3 space-x-3 animate-pulse",children:[d.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden flex-grow",children:[d.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex-shrink-0"}),d.jsxs("div",{className:"space-y-1.5 flex-grow",children:[d.jsx("div",{className:"h-3 rounded bg-muted w-3/4"}),d.jsx("div",{className:"h-2.5 rounded bg-muted w-1/2"})]})]}),d.jsx("div",{className:"h-4 w-16 rounded bg-muted flex-shrink-0 ml-2"})]},`skel-${A}`);return d.jsxs("div",{className:"p-4 space-y-4 flex flex-col",children:[d.jsxs(mt,{className:"flex-shrink-0 shadow-sm border border-border rounded-lg overflow-hidden bg-card",children:[d.jsxs(dr,{className:"pb-3 pt-4 px-4",children:[d.jsx(zr,{className:"text-lg mb-2",children:""}),d.jsxs("div",{className:"relative",children:[d.jsx(ZO,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),d.jsx(Rn,{type:"search",placeholder:"  ...",defaultValue:t,onChange:x,className:"pl-9 h-10 rounded-md text-sm","aria-label":" "})]})]}),d.jsx(Wt,{className:"pt-1 pb-3 px-4",children:d.jsx("div",{className:"min-h-[40px]",children:l?d.jsx("div",{className:"flex justify-center p-2",children:d.jsx(Ce,{size:"sm"})}):c?d.jsx("div",{className:"text-destructive text-xs p-2 text-center",children:c}):a.length>0?d.jsx(Yd,{value:e,onValueChange:b,children:d.jsx($l,{className:"flex flex-wrap h-auto justify-start -m-1 p-0 bg-transparent",children:a.map(A=>d.jsxs(wt,{value:A.value,className:W("text-xs h-8 px-3 py-1 m-1 rounded-full transition-all border shadow-sm","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:border-primary data-[state=active]:shadow","data-[state=inactive]:bg-card data-[state=inactive]:border-border data-[state=inactive]:text-muted-foreground hover:data-[state=inactive]:bg-muted/60"),disabled:i||l,children:[" ",A.label," "]},A.value))})}):null})})]}),d.jsxs("div",{className:"relative flex-grow overflow-y-auto no-scrollbar border border-border rounded-lg shadow-sm bg-card",children:[i&&n.length===0&&!s&&d.jsxs("div",{className:"divide-y divide-border",children:[" ",Array.from({length:8}).map((A,B)=>O(B))," "]}),s&&n.length===0&&!i&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[" ",d.jsx(ft,{message:s})," "]}),o&&n.length===0&&!i&&!s&&d.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground p-4 text-center",children:"  ."}),n.length>0&&d.jsxs("div",{className:"divide-y divide-border",children:[n.map(A=>{if(!A)return null;const B=k.get(A.ticker),I=B?Math.round(B.price*100):null;return d.jsxs("div",{className:"flex items-center justify-between p-3 space-x-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>T(A.id),children:[d.jsx(Eg,{asset:A,showLotSize:!0,className:"flex-grow min-w-0",iconClassName:"h-8 w-8 rounded-full flex-shrink-0"}),d.jsx("div",{className:"text-right flex-shrink-0 ml-2",children:C&&I===null&&!_?d.jsx(Ce,{size:"sm"}):I!==null?d.jsx(St,{value:I,className:"text-sm"}):_?d.jsx("span",{className:"text-xs text-destructive",title:_,children:d.jsx(Lk,{size:12,className:"inline -mt-0.5"})}):d.jsx("span",{className:"text-xs text-muted-foreground",children:""})})]},A.id)}),d.jsx("div",{ref:w,style:{height:"1px"},"aria-hidden":"true"}),i&&n.length>0&&d.jsx("div",{className:"flex justify-center p-4",children:d.jsx(Ce,{size:"sm"})}),!i&&!R&&n.length>0&&r>P5&&d.jsx("p",{className:"p-4 text-center text-sm text-muted-foreground",children:" "})]}),_&&n.length>0&&!C&&d.jsx("div",{className:"sticky bottom-0 p-1 text-center text-xs bg-destructive/10 text-destructive border-t border-destructive/30 z-10 rounded-b-lg",role:"alert",children:"   . "})]})]})},j5=({investor:t,index:e})=>{const[n,r]=y.useState(!1);if(!(t!=null&&t.telegramUser))return null;const i=t.telegramUser,s=i.userId;Le.useEffect(()=>{r(!1)},[s]);const o=(p,g)=>{var v,x;const m=(v=p==null?void 0:p[0])==null?void 0:v.toUpperCase(),w=(x=g==null?void 0:g[0])==null?void 0:x.toUpperCase();return m&&w?`${m}${w}`:m||"?"},a=i.firstName?`${i.firstName}${i.lastName?` ${i.lastName}`:""}`:i.username?`@${i.username}`:`User ID: ${s}`,l=o(i.firstName,i.lastName),c=i.photo_url||i.photoUrl||null,u=()=>{n||r(!0)},h=e===0?"text-yellow-500":e===1?"text-gray-500 dark:text-gray-400":e===2?"text-orange-500 dark:text-orange-400":"text-foreground/80",f=e+1;return d.jsxs("li",{className:"flex items-center justify-between px-4 py-4 space-x-4 hover:bg-muted/50 transition-colors duration-100",children:[d.jsxs("div",{className:"flex items-center space-x-4 flex-grow min-w-0",children:[d.jsx("div",{className:W("flex-shrink-0 w-8 h-10 flex items-center justify-center font-semibold text-sm tabular-nums"),children:f===1?d.jsx(FO,{size:18,className:W("inline -mt-0.5",h),fill:"currentColor"}):d.jsx("span",{className:h,children:`${f}.`})}),d.jsxs($d,{className:"w-10 h-10 flex-shrink-0 border",children:[!n&&c&&d.jsx(Dd,{src:c,alt:a,onError:u},c),d.jsx(zd,{className:"text-sm",children:l})]}),d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("p",{className:"text-base font-semibold truncate leading-tight",title:a,children:a}),i.username&&d.jsxs("p",{className:"text-sm text-muted-foreground truncate leading-tight",children:["@",i.username]})]})]}),d.jsx("div",{className:"flex-shrink-0 ml-2 text-right",children:d.jsx(St,{value:t.totalAmountCopecks,className:"text-base font-semibold"})})]})},M5=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},R5=(t,e)=>{var r,i;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:t!=null&&t.response?n=`Request failed (${t.response.status}): ${((r=t.response.data)==null?void 0:r.errorMessage)||((i=t.response.data)==null?void 0:i.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},I5=async()=>{var e;const t="Failed to get top investors.";console.log("[API/Investors] getTop10Investors called");try{const n=await et.get("/api/BrokerAccountUser/GetTop10MostRichInvestors");console.log("[API/Investors] getTop10Investors response received:",(e=n==null?void 0:n.data)==null?void 0:e.isSuccess);const r=M5(n,t);return r.isSuccess&&r.resultObject===null&&(console.warn("[API/Investors] getTop10Investors success but resultObject is null. Returning empty array."),r.resultObject=[]),r}catch(n){return R5(n,t)}},O5=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0),[i,s]=y.useState(null);return y.useEffect(()=>{(async()=>{r(!0),s(null);try{const a=await I5();if(a!=null&&a.isSuccess&&a.resultObject){const l=a.resultObject.sort((c,u)=>u.totalAmountCopecks-c.totalAmountCopecks);console.log("[TopInvestorsPage] Fetched investors:",l),e(l)}else throw new Error((a==null?void 0:a.errorMessage)||"Failed to load top investors")}catch(a){s(a.message||"Error fetching data"),e([])}finally{r(!1)}})()},[]),d.jsx("div",{className:"p-4 space-y-4 pb-20 flex flex-col h-full",children:d.jsxs(mt,{className:"flex flex-col flex-grow overflow-hidden shadow-md rounded-xl border",children:[d.jsxs(dr,{className:"flex-shrink-0 border-b pb-3 pt-4 text-center",children:[d.jsx(zr,{className:"text-lg font-semibold",children:" 10 "}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"(   )"})]}),d.jsxs(Wt,{className:"flex-grow overflow-y-auto no-scrollbar p-0",children:[n&&d.jsx("div",{className:"flex justify-center items-center h-48",children:d.jsx(Ce,{})}),i&&d.jsx("div",{className:"p-4",children:d.jsx(ft,{message:i})}),!n&&!i&&d.jsx(d.Fragment,{children:t.length>0?d.jsx("ol",{className:"divide-y divide-border/60",children:t.map((o,a)=>{var l;return d.jsx(j5,{investor:o,index:a},((l=o.telegramUser)==null?void 0:l.userId)||a)})}):d.jsx("p",{className:"text-center text-muted-foreground py-16",children:"  ."})})]})]})})},L5=`
##        ?

    ,  ,      .  ,   ****   .

###    ?

*   ** :**   ,     :   ,  ,    .
*   **:**      .

###    ?

1.  ** :**      ,      .     ,  ,  ****.
2.  **:**        ,  ****.     .

###  

*   **:**            (   ).
*   ** (""):**     ,      (   ).    ""      .

### 

*   ** :**      ,    -        .
*   ** :**   ,      .

**:**      .         .
`,$5=`
##    ?

     -   (,  1990-    ),   ,     .

###  1:  

    :
*    ,   .
*     .
*    ,    .
*     :   ,   (    ).

###  2:   

      ****.
*   **  :**     (  ""  "")      (, e-disclosure.ru)  ,     .
*   **  :**    ( ,    )   .        . ,   ,     (   ).    .

###  3:      (    )

        ,     .
*     /.
*                 .

###  4:  

     ,     ** **.
*     ,    .       .
*            , ,         .

###  ,   ?

*   ** :**          ,          .           .
*   ** /:**    ,       .     ,   /      .

**:**        .             .
`,D5=`
##    ?

  ()    ,  **      **.       -    ,  - (   )    ,     .

###   :

*   ** (ADR, American Depositary Receipt):**     (NYSE, NASDAQ).
*   ** (GDR, Global Depositary Receipt):**       (, ,   .).
*   ** (  ):**          (  ).

###   ?

*   **:**
    *   **   :**                .
    *   **:**         .
    *   **:**       ,      (   -  ).
*   ** ():**
    *   **  :**             .
    *   ** :**       .
    *   **:**        .

###    

      ,      .   (ratio)    .

### 

*   ** :**            .
*   ** :**     ,     ,        .
*   ** :**        .
*   ** :**              (     ,     ).

** :**            ,        .
`,z5=`
##         ?

** **           (   ),        .     ,     ,   ,     (  , "").

###   ?

1.  ** :**           " ".
2.  ** ():**           ( ).
3.  ** :**     ,       (,  1:3 ,   1      2   ).
4.  **:**     ,    .
5.  **  :**        ( ).
6.  ** :**    ( )       ( ),  .

###   :

*   ** (Long):**           .   .
*   ** (Short,  ):**  ,     ,      .    .   ,         ( )   .

### :

*   **  :**       , ,     .
*   **   :**  ""     .
*   **:**        .

###  ( !):

*   **  :**      .     ,            .
*   **- (Margin Call):**           ,             .
*   **  :**      -,            ,     .     .
*   **   :**      "" ,      .
*   ** "-" (Short Squeeze):**           ""    ( ),      ,    .

**:**      ****   ,       . **   **          .
`,F5=`
## :        ?

****     .  ,       (,   ),               ()     .

###    ()?

*   **:**   (    ),   (),  ().   .
*   ** ():**       .     .

###   :

*   **:** ,       .  1000 .
*   ** :** ,      .   ,    .      (, 98,5%  102%).
*   ** :** ,     .
*   **:**  ,     .  :
    *   **:**        (, 8% ).
    *   **:**     -  (,    RUONIA + 1%).
    *   ** ( ):**   ,      ()  .           .
*   **  :**     (,   ,   ).
*   **   ():**  ,  ""    .           ,       .

###    ?

1.  ** :**    .
2.  **  :**      .       ( ),      .
3.  **   :**      (, -     ),         .

###  :

*   ** :**   / .
*   ** :**   /   .
*   **   (YTM, Yield to Maturity):**   .               .    ,   ,      .

### :

*   **  ( ):**           .    ,    ,  ,  .
*   ** :**      ,     (   ) ,         .
*   ** :**   ""  ,    (  )    .
*   ** :**   (  )         .

**:**       ,  .    ,       (  ).          .
`,B5=`
## :        ?

****       ,     .           ,     .

###   ?

*   **  :**           .
*   ** :**    ()      .
*   ** :**             .
*   ** :** ,       ()        (  ).
*   ** :**    , ,  (     ).
*   ** :**    ,  ,  ,   ..

###   ?

1.  ** :** ** !** ,           .         "   ".    .
2.  **:**   ,  ,   ( ).  ,   ,     .
3.  **  :**    :
    *     (/)  %    . .
    *         .
    *      (        ).
    *     .
    *       (  ).
    *      (  ).
     ,      ( , ).
4.  **   :** ,        (,  )   ( ,  , , , ),   .
5.  ** :**    :
    *   ** :**      .     .
    *   **-:**   .
    *   **  (QUIK, MetaTrader  .):**   ,        .
6.  ** :** ,               /.
7.  ** :**        ?          .
8.  ** :**  , , ,   (    ).

###    ?

1.  ** :**                .
2.  ** :**         .
3.  ** :**      (     ).
4.  **  ():**          :
    *   ** :**        .
    *   ** :**        .
5.  ** :**    ,  ,  .
6.  ** :**          .

**:**    .    ,           .
`,V5=`
##         ?

**  ()**   ,            ( , ),           .    ,        .

###   ?

1.  ** :**      ,  :
    *   ** :** ,  ,   (,   ,  ,  ).
    *   ** .**
    *   ** :**          (management fee) /        (success fee).
    *   ** :**         .
2.  ** :**      ,       .
3.  **:**             (/ ).
4.  **:**           .
5.  **  /  :**         (  )      ( /  )     (     ).

###     :

*   ** :**           ,      .
*   ** :**      ,     .
*   **   :**    ,    .
*   **:**         .

###    :

*   **  :**    .        .  .
*   **  :**         (    ),      .
*   **:**        ,    .
*   ** :**            .
*   **  :**           .
*   **:**     .     .

###  vs   vs :

*   ** vs :**   ,          ,       .    , ,          .
*   ** vs :**  (  )    ,           .       ,  ,   .       (     ).

**:**          ** **,           ,        .         ,        /.
`,U5=`
##        ?

** **     ,   **   ()**      , ,      .

###     :

*   **:**   ,    .     (   ).
*   ** ():**        .       .
*   **:** ****,    ,  **   **.       ,      .

###   ?

*   ** :**     (  ,  ,  )        .
*   ** -:**         .
*   ** :**     / , ,    ,      -.
*   **   :**         .
*   **  :**   , ,  .
*   ** :**        .

###     ?

*   ** :**   ,   ,       .
*   ** :**          .
*   **   :**        .
*   **,    " "**   .

###   ?

1.  **  :** **!** ,    (  )  **   **    .       .
2.  **  :**    ,    (/), .
3.  **:**        . ,      .
4.  ** :**    ?
    *   ** :**  ,     .
    *   **  :**     ,    .
    *   **  :**      (      ).
    *   **  :**         (    !). **  .**
          %  ,      .
5.  **  :**   .       ,  ,   ,  ,  .
6.  **  :**    ,     .
7.  ** :**   ( -),  ,       / ,      .

**:**    ,  **         **.           ,        .
`,H5=`
##   ():        ?

**   ()**     .   ()       ,    **  ()**      .

###   ?

1.  ** :**        (,    ,  ,  ).
2.  ** :**   ****     .         (  , ),      .
3.  ** :**             .       .
4.  **/  :**     ,   , ,  .       .
5.  ** () :**         (   )      (   ).

###     :

*   ** ():**      ()           .   .
*   ** ():**          (),    (,     ).
*   ** ():**     ,         (   ).          .       (,  ).

###     :

*   ** :**    .
*   ** :**      .
*   ** :**    ,      .
*   **  :**       .
*   ** :**         (,  ).
*   **  ():**    .
*   ** ** (,   ..)

###    ?

   **  **.    ,   .   ,     ,  ****,       ,    .        ,    .

###  :

*   ** :**     .
*   **:**        ,   .
*   **:**       (  1000 ).
*   **:**       .

###    :

*   **  :**      ,   .  .
*   **:**      (  ),           .    .
*   **  :**      .
*   **    :**    .

**:**       ,            .      ,     .
`,W5=`
##   (, ETF):      ?

**    ()**  **Exchange Traded Fund (ETF)**    ,  ( )       ,    .

###   :

*   **:**  ,  ETF      (, ,   ..),     (  ).   / ,        .
*   **:**   **** .     ().     ,    (    ).      .
*   **ETF:**   ****  (, , ).    (FinEx, BlackRock, Vanguard  .).   .       ,  -      **   ETF         **.

** ,           ETF.**

###   ?

1.  **  ( ):**    ****.            (,   IMOEX,   RGBI,   IT-  ..).
2.  ** :**       ,    .
3.  **  :**            .       /    .
4.  **-:**    ( )   ,               (  ).     /    .
5.  ** :**   ,  ,  ,   .

###   ( ETF):

*   ** :**        .
*   **  :**     ,     .
*   **:**        .   .
*   **:**   /          (   ,     ).
*   **  ():**        ,     .

###     ( ETF):

*   ** :**       .   ,   .
*   **  (Tracking Error):**         - , ,   .
*   ** :**     ,      (, ),     .
*   ** :**  /        .
*   **  ( ETF):**   ,        .
*   **  (  ETF     ):**   ,  ,    .

###   ?

 ( )  **      **  ,     .          .

**     :**

*   ** /:**    ?     ?
*   **:**    (TER/).  ,  .
*   ** :**       ( ).
*   **:**     .
*   ** :**    .

  ETF      ** ** -        .
`,q5=`
##    ():          ?

**    ()**    ,          ( ),   (   )      ,     (,  5, 10  15 ).

###   :

1.  **   :**      (),    /    ,    ""       .
2.  **   :**        ,         .   :
    *   **:**     (, , ).
    *   **  (Private Equity):**    .
    *   ** :**      .
    *   ** , .**
    *      ,    .
3.  **  :**  ,        ,      (      ).
4.  **  "":**    **   **.       (  ),     .
5.  ** :**          .         ,    .      ,              ().
6.  ** :**   (   )       (,     ).            .

###  :

*   **   :**    ,     ,     .
*   **  :**         ,     (   ).
*   **   :**             .

###    :

*   ** :**  .          .
*   **  .**
*   **   "".**
*   **   :**   , ,   inherently  .
*   ** :**     ,       .
*   ** :**   ,   /.
*   **  :**      .

###     ?

** , .** -   ,  ,        ,      **   **,   ""                 .

      ,    ,   ,  ,       .
`,K5=`
##    ?

** **    ,        (, ,    .)      .

###   :

1.  ** :**   ( )      .
2.  ** :**              .
3.  **  :**          .
4.  **  :**    (. )  ,    ,    .
5.  **:**             ( ,   ..).
6.  ** :**        ,     .
7.  **  :**           .

###   :

*   **:**   ,      .
*   **:**     (, ,  ),          . **    ,   .**
*   **:**  ,      .   .
*   **:** ,     (  )      .
*   **:**       .
*   ** :**     ()       .
*   **-:**  ,       ,       .
*   **:**  .
*   **  ():**   (   ,   ),      .    ,    .     ,      .
*   ** :**          .
*   **:**   (    ),        .

###   ?

1.        **** ()           ( )      ( ).
2.     **""**         (, bid)   (, ask)   ,   .
3.  **  **   :
    *        ,       .
    *        ,       .
4.        , ** ** .
5.       ** **  ** **.
6.   **** ()  **** (      ,  +2):        ,          .

    ,  ,       .
`,Y5=`
##    ?

  ,       ,        ()  :

1.  **    :**        (   , ,  ).
2.  **  :**    (  )    ().

###  

*   ** :** **13%**    ,        5  .
*   ** :** **15%**   ,  5    .
*   ** :**  **30%**       **15%**   (        ).

###   ?

*   **   :**    **  **  ,   ** **,   ,      .   :
    *        .
    *       ( ).
    *       .
         **   **      .
     **    ** (, , ,   2017 )     ( ).     ,   2017 ,        (  + 5%).
*   ** :**       3-      :
    *   **     ** (      ).
    *   **   .**        (, 10%      W-8BEN),        13% ( 15%)  ,  .      15%  ,   ,       .
    *   **    .**
    *       .

###      :

*   **   ():**    :
    *   ** :**    ( 52 000 .  ).  ,     ,   13%.
    *   ** :**            ( 3 ).
    *   **-3 (   2024 .):**              ( 5  10 ,     ).
*   **    ():**      (     ) ** 3 **,          .      3      .
*   ** :** ,         ,      ( 10 )       .

**:**    .              .
`,G5=`
##      ?           ?

 ,   ,    ,     .

###    (   ):

1.  **   ():**     .       .  ,      .    .
2.  **  :**  ,       .    ,  .
3.  **     ()  ETF (  ):**   ,        (,       ,  ).   **** (     )       .     .
4.  ** " ":**   ,      (, , , ).   ,    ,      .

### ,     "":

 1  2021     ** **           .   ,       .

**   :**

*   ** :**     ( ).
*   **   ():** , .
*   ** .**
*   **   .**
*   **  ,      .**
*   ** ETF.**
*   **   ().**
*   **       (  ).**
*   ** .**

  ****    ( ).    .        .

###    ("")

** **   ,   ,    ,   ****       .

**   "" (    ):**

1.  **:**    /     /   **  6  **.
2.  ** :**     ,      (  2 ,    "",  3    ).
3.  **:**      ,      .     ,       (/), CFA, CIIA, FRM.
4.  ** :**    4        **  6  **,     10       1   .

         .

**   "" ?**

**.**        (,  ,    ,  " ") ****  ""    ( ).  ""      ,    .

** :**       (,   ).   .      ,    .     "",   ,    .
`,Z5=`
##   -3?

**-3 (    )**     ,     1  2024 .        (    ),      2024  (       ).

###   -3:

1.  ** :** -3      :
    *   **   :**     .   13% ( 15%)  ,     ,      400 000  (..    52 000  60 000   ).    . :   ,     13%/15%.
    *   **    :**     .    (    , )          .
2.  **  :**   .    , -3   ** 10 **.   ** :**
    *    ,   2024-2026 .    **5 **.
    *         1  ,    10   2031 .
3.  ** :**   ** **  -3    /.   (  )  , ..       ,      -3. **:**     (52/60 . .)  **   **,      .
4.  ** :**   -3  ** ** (    ,    1  .  ).     -   400 000 .  .
5.  ** :**    -3          **  ** (,    ),      .               (        ).
6.  **  :**    (  ),   31  2023 , :
    *           3-  ( ).
    *        -3.       (   3 )      -3.

###  -3:

*       .
*       .
*        (  ).

###  -3:

*   **    (5-10 ):**  .  ""      .
*         .

**:** -3     **** ,      5-10   ,      .        , ,      ( )       (  ).
`,X5=`
##    ?

 2022          **  ** (, ETF,  ),    .   - ,        (, Euroclear, Clearstream).

**  ""?**   -  ,       (  )      (, ),      .

###   ( )  :

1.  **   844 ( ):**
    *   **:**        ,            "".
    *   **:**  " ".
    *   **:**           **  100 000 **.
    *   **:**      8  2024 .        ( 5  2024)        .    1  2024 . **      .**
    *   ** :**    ,         .

2.  **   (/)  :**
    *   **:**  ,     ,        ,   .
    *   **:**      2022-2023 .          .
    *   ** :**    .     /   (, ,   .),       .    ,    .

3.  **     (  ):**
    *   **:**        (, ,   .),    ( )       ,     .
    *   **:** ,      .
    *   ** :**           -  . **:**       ,     /Euroclear,           ,   .

4.  **  (  ):**
    *   **:**      (,  ,   Euroclear)     .
    *   **:** ,    ,            ( /).   .

5.  **  :**
    *   **:**   ,                    .
    *   **:**       .

**    (  ):**

*           .
*        .
*         ( ""   ).

**:**         .         844,  .      ,     .
`,Q5=`
##       :  ?

       (),     (,    ),     ,   ,      ,    .

###   :

*   **  :**   . -      (Euroclear/Clearstream)      , ETF,      .    ,  "".
*   **    :**     //  ,    "" .
*   **     :**           .
*   **  :** /      ( )    ,    .

###   ?

1.  ** :**        .      ,     ,    .
2.  **    /:**          .    ,  ,  email.
3.  **  :**
    *   **  ( , ,  . ):**  ,      .            (     )        .
    *   ** :**   , .   /  .   **  (,    ),        .
    *   **:**          "" . ,             ""  ().
4.  **  ( /):**
    *   **  :**       , **  **.    ,     .     (, , -).
    *   **    :**             (    ),        .
5.  **    :**
    *   **  ():**      ,         / .      ,      ,         .     .
    *   **  ():**  .    ,            .
    *   **  ():**    .
6.  **  ()   :**                  .

**:**    /,       .       .
`,J5=[{id:"stocks",title:"",isActive:!0,articles:[{id:"what-are-stocks",title:"       ?",url:"https://fincult.info/article/chto-takoe-aktsii-i-kak-na-nikh-zarabotat/",content:L5},{id:"find-lost-stocks",title:"   ?",url:"https://fincult.info/article/kak-nayti-poteryannye-aktsii/",content:$5},{id:"depository-receipts",title:"   ?",url:"https://fincult.info/article/zachem-nuzhny-depozitarnye-raspiski/",content:D5},{id:"margin-trading",title:"        ?",url:"https://fincult.info/article/chto-takoe-marzhinalnaya-torgovlya-i-v-chem-ee-riski/",content:z5}]},{id:"bonds",title:"",isActive:!0,articles:[{id:"what-are-bonds",title:":        ?",url:"https://fincult.info/article/obligatsii-chto-eto-takoe-i-kak-na-nikh-zarabotat/",content:F5}]},{id:"brokers-and-management",title:"  ",isActive:!0,articles:[{id:"choose-broker",title:":        ?",url:"https://fincult.info/article/broker-kak-ego-vybrat-i-kak-s-nim-rabotat/",content:B5},{id:"trust-management",title:"        ?",url:"https://fincult.info/article/chto-takoe-doveritelnoe-upravlenie-i-zachem-ono-nachinayushchemu-investoru/",content:V5},{id:"investment-advisor",title:"       ?",url:"https://fincult.info/article/zachem-nuzhen-investitsionnyy-sovetnik-i-kak-ego-vybrat/",content:U5}]},{id:"funds",title:" (, , ETF)",isActive:!0,articles:[{id:"mutual-funds",title:"  ():        ?",url:"https://fincult.info/article/paevye-fondy-kak-oni-rabotayut-i-kak-na-nikh-zarabotat/",content:H5},{id:"etfs",title:"  (, ETF):      ?",url:"https://fincult.info/article/birzhevye-fondy-ili-etf-chto-eto-i-stoit-li-vkladyvat-v-nikh-dengi/",content:W5},{id:"closed-end-funds",title:"   ():    ?",url:"https://fincult.info/article/zakrytye-paevye-fondy-v-chem-ikh-osobennosti-i-podkhodyat-li-oni-nachinayushchim-investoram/",content:q5}]},{id:"general-investing",title:"  ",isActive:!0,articles:[{id:"stock-exchange",title:"   ?",url:"https://fincult.info/article/kak-ustroena-fondovaya-birzha/",content:K5},{id:"investor-taxes",title:"   ?",url:"https://fincult.info/article/kakie-nalogi-platit-investor/",content:Y5},{id:"newbie-investing",title:"     ?    ?",url:"https://fincult.info/article/vo-chto-investirovat-novichku-na-birzhe-chto-daet-status-kvala-i-v-kakikh-sluchayakh-pridetsya-prokh/",content:G5},{id:"iis-3",title:"  -3?",url:"https://fincult.info/article/chto-takoe-iis-3/",content:Z5}]},{id:"sanctions",title:"  ",isActive:!0,articles:[{id:"sell-blocked-assets",title:"   ?",url:"https://fincult.info/article/kak-prodat-zablokirovannye-aktivy/",content:X5},{id:"broker-sanctions",title:"      :  ?",url:"https://fincult.info/article/broker-ili-doveritelnyy-upravlyayushchiy-okazalis-pod-sanktsiyami-chto-delat/",content:Q5}]}],om=t=>`${t}-${Date.now()}-${Math.random().toString(36).substring(2,7)}`,eV=J5.map(t=>({...t,isActive:t.isActive??!0,articles:t.articles.map(e=>({...e,id:e.id||om(`art-${t.id}`)}))})),Jt=ur()(Io((t,e)=>({categories:eV,setCategories:n=>t({categories:n}),addCategory:n=>{const r=n.trim();if(!r)return null;const i=om("cat"),s={id:i,title:r,articles:[],isActive:!0};return t(o=>({categories:[...o.categories,s]})),console.log(`[FaqStore] Added category: ${i} - ${r}`),i},deleteCategory:n=>t(r=>({categories:r.categories.filter(i=>i.id!==n)})),updateCategoryTitle:(n,r)=>{const i=r.trim();i&&t(s=>({categories:s.categories.map(o=>o.id===n?{...o,title:i}:o)}))},toggleCategoryActive:n=>t(r=>({categories:r.categories.map(i=>i.id===n?{...i,isActive:!(i.isActive??!0)}:i)})),addArticle:(n,r,i="")=>{const s=r.trim();if(!s)return null;const o=om(`art-${n}`),a={id:o,title:s,content:i,url:""};let l=!1;return t(c=>({categories:c.categories.map(u=>u.id===n?(l=!0,{...u,articles:[...u.articles,a]}):u)})),l?(console.log(`[FaqStore] Added article ${o} to category ${n}`),o):(console.error(`[FaqStore] Category ${n} not found when trying to add article.`),null)},deleteArticle:(n,r)=>t(i=>({categories:i.categories.map(s=>s.id===n?{...s,articles:s.articles.filter(o=>o.id!==r)}:s)})),updateArticle:(n,r,i)=>{const s={...i};if(delete s.id,delete s.url,Object.keys(s).length===0){console.log(`[FaqStore] No valid updates provided for article ${r}.`);return}t(o=>({categories:o.categories.map(a=>a.id===n?{...a,articles:a.articles.map(l=>l.id===r?{...l,...s}:l)}:a)})),console.log(`[FaqStore] Updated article ${r} in category ${n} with:`,s)},getCategoryById:n=>e().categories.find(r=>r.id===n),getArticleByIds:(n,r)=>{const i=e().getCategoryById(n);return i==null?void 0:i.articles.find(s=>s.id===r)}}),{name:"faq-storage",storage:vs(()=>localStorage),onRehydrateStorage:()=>t=>{console.log("[FaqStore] Hydration finished.")}}));console.log("[FaqStore] Initialized with data:",Jt.getState().categories);const tV=()=>{const t=ct(),{tg:e}=qt(),n=Jt(s=>s.categories);y.useEffect(()=>{const s=()=>t("/profile");return e&&(e.BackButton.show(),e.onEvent("backButtonClicked",s),F.log("[FaqPage] Telegram BackButton shown and handler attached.")),()=>{e&&(e.BackButton.hide(),e.offEvent("backButtonClicked",s),F.log("[FaqPage] Telegram BackButton hidden and handler removed."))}},[e,t]);const r=s=>{t(`/faq/${s}`)},i=n.filter(s=>s.isActive??!0);return d.jsxs("div",{className:"p-4 space-y-4 pb-4 flex flex-col h-full",children:[d.jsxs("div",{className:"relative flex items-center justify-center h-12 mb-2 flex-shrink-0",children:[d.jsx("div",{className:"absolute left-0 h-9 w-9"})," ",d.jsx("h1",{className:"text-lg font-semibold text-center",children:"  "}),d.jsx("div",{className:"h-9 w-9 absolute right-0"})," "]}),d.jsx(mt,{className:"flex-grow shadow-sm border rounded-lg overflow-hidden flex flex-col",children:d.jsx(Wt,{className:"p-0 flex-grow overflow-y-auto no-scrollbar",children:d.jsx("div",{className:"divide-y divide-border/60",children:i.length>0?i.map(s=>d.jsxs("button",{onClick:()=>r(s.id),className:W("flex items-center w-full text-left p-4 transition-colors","hover:bg-muted/50 active:bg-muted/80 cursor-pointer"),children:[d.jsx("span",{className:"text-base flex-grow",children:s.title}),d.jsx(Nk,{className:"h-5 w-5 flex-shrink-0 text-muted-foreground"})]},s.id)):d.jsx("p",{className:"p-6 text-center text-muted-foreground",children:"  ."})})})})]})},nV=()=>{const{categoryId:t}=gs(),e=ct(),{tg:n}=qt(),{getCategoryById:r}=Jt(),i=Jt.persist.hasHydrated(),s=y.useMemo(()=>{if(!(!i||!t))return F.log(`[FaqCategoryPage] Store hydrated, getting category: ${t}`),r(t)},[t,r,i]);y.useEffect(()=>{const a=()=>e("/faq");return n&&(n.BackButton.show(),n.onEvent("backButtonClicked",a),F.log("[FaqCategoryPage] Telegram BackButton shown and handler attached.")),()=>{n&&(n.BackButton.hide(),n.offEvent("backButtonClicked",a),F.log("[FaqCategoryPage] Telegram BackButton hidden and handler removed."))}},[n,e]);const o=a=>{F.log("[FaqCategoryPage handleArticleClick] Clicked article:",a),a.content||a.id?(F.log("[FaqCategoryPage handleArticleClick] Navigating internally..."),e(`/faq/${t}/${a.id}`)):F.error("[FaqCategoryPage handleArticleClick] Article has no content or id!",a)};if(!i)return d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx(Ce,{size:"lg"})});if(!s||!(s.isActive??!0)){const a=s?` "${s.title}"  .`:` FAQ "${t}"  .`;return d.jsx("div",{className:"p-4 text-center",children:d.jsx(ft,{message:a})})}return d.jsxs("div",{className:"p-4 space-y-4 pb-4 flex flex-col h-full",children:[d.jsxs("div",{className:"relative flex items-center justify-center h-12 mb-2 flex-shrink-0",children:[d.jsx("div",{className:"absolute left-0 h-9 w-9"})," ",d.jsx("h1",{className:"text-lg font-semibold text-center truncate max-w-[calc(100%-5rem)]",title:s.title,children:s.title}),d.jsx("div",{className:"h-9 w-9 absolute right-0"})]}),d.jsx(mt,{className:"flex-grow shadow-sm border rounded-lg overflow-hidden flex flex-col",children:d.jsx(Wt,{className:"p-0 flex-grow overflow-y-auto no-scrollbar",children:d.jsx("div",{className:"divide-y divide-border/60",children:s.articles.length>0?s.articles.map(a=>d.jsxs("button",{onClick:()=>o(a),className:W("flex items-center w-full text-left p-4 transition-colors","hover:bg-muted/50 active:bg-muted/80 cursor-pointer"),children:[d.jsx("span",{className:"text-base flex-grow mr-2",children:a.title}),d.jsx(OO,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground"})]},a.id)):d.jsx("p",{className:"p-6 text-center text-muted-foreground",children:"     ."})})})})]})};function rV(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const iV=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sV=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,oV={};function ow(t,e){return(oV.jsx?sV:iV).test(t)}const aV=/[ \t\n\f\r]/g;function lV(t){return typeof t=="object"?t.type==="text"?aw(t.value):!1:aw(t)}function aw(t){return t.replace(aV,"")===""}class Dl{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Dl.prototype.normal={};Dl.prototype.property={};Dl.prototype.space=void 0;function $N(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Dl(n,r,e)}function am(t){return t.toLowerCase()}class Kt{constructor(e,n){this.attribute=n,this.property=e}}Kt.prototype.attribute="";Kt.prototype.booleanish=!1;Kt.prototype.boolean=!1;Kt.prototype.commaOrSpaceSeparated=!1;Kt.prototype.commaSeparated=!1;Kt.prototype.defined=!1;Kt.prototype.mustUseProperty=!1;Kt.prototype.number=!1;Kt.prototype.overloadedBoolean=!1;Kt.prototype.property="";Kt.prototype.spaceSeparated=!1;Kt.prototype.space=void 0;let cV=0;const ge=ys(),tt=ys(),DN=ys(),Z=ys(),Oe=ys(),lo=ys(),Gt=ys();function ys(){return 2**++cV}const lm=Object.freeze(Object.defineProperty({__proto__:null,boolean:ge,booleanish:tt,commaOrSpaceSeparated:Gt,commaSeparated:lo,number:Z,overloadedBoolean:DN,spaceSeparated:Oe},Symbol.toStringTag,{value:"Module"})),pf=Object.keys(lm);class yv extends Kt{constructor(e,n,r,i){let s=-1;if(super(e,n),lw(this,"space",i),typeof r=="number")for(;++s<pf.length;){const o=pf[s];lw(this,pf[s],(r&lm[o])===lm[o])}}}yv.prototype.defined=!0;function lw(t,e,n){n&&(t[e]=n)}function zo(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new yv(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[am(r)]=r,n[am(s.attribute)]=r}return new Dl(e,n,t.space)}const zN=zo({properties:{ariaActiveDescendant:null,ariaAtomic:tt,ariaAutoComplete:null,ariaBusy:tt,ariaChecked:tt,ariaColCount:Z,ariaColIndex:Z,ariaColSpan:Z,ariaControls:Oe,ariaCurrent:null,ariaDescribedBy:Oe,ariaDetails:null,ariaDisabled:tt,ariaDropEffect:Oe,ariaErrorMessage:null,ariaExpanded:tt,ariaFlowTo:Oe,ariaGrabbed:tt,ariaHasPopup:null,ariaHidden:tt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Oe,ariaLevel:Z,ariaLive:null,ariaModal:tt,ariaMultiLine:tt,ariaMultiSelectable:tt,ariaOrientation:null,ariaOwns:Oe,ariaPlaceholder:null,ariaPosInSet:Z,ariaPressed:tt,ariaReadOnly:tt,ariaRelevant:null,ariaRequired:tt,ariaRoleDescription:Oe,ariaRowCount:Z,ariaRowIndex:Z,ariaRowSpan:Z,ariaSelected:tt,ariaSetSize:Z,ariaSort:null,ariaValueMax:Z,ariaValueMin:Z,ariaValueNow:Z,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function FN(t,e){return e in t?t[e]:e}function BN(t,e){return FN(t,e.toLowerCase())}const uV=zo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lo,acceptCharset:Oe,accessKey:Oe,action:null,allow:null,allowFullScreen:ge,allowPaymentRequest:ge,allowUserMedia:ge,alt:null,as:null,async:ge,autoCapitalize:null,autoComplete:Oe,autoFocus:ge,autoPlay:ge,blocking:Oe,capture:null,charSet:null,checked:ge,cite:null,className:Oe,cols:Z,colSpan:null,content:null,contentEditable:tt,controls:ge,controlsList:Oe,coords:Z|lo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ge,defer:ge,dir:null,dirName:null,disabled:ge,download:DN,draggable:tt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ge,formTarget:null,headers:Oe,height:Z,hidden:ge,high:Z,href:null,hrefLang:null,htmlFor:Oe,httpEquiv:Oe,id:null,imageSizes:null,imageSrcSet:null,inert:ge,inputMode:null,integrity:null,is:null,isMap:ge,itemId:null,itemProp:Oe,itemRef:Oe,itemScope:ge,itemType:Oe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ge,low:Z,manifest:null,max:null,maxLength:Z,media:null,method:null,min:null,minLength:Z,multiple:ge,muted:ge,name:null,nonce:null,noModule:ge,noValidate:ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ge,optimum:Z,pattern:null,ping:Oe,placeholder:null,playsInline:ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ge,referrerPolicy:null,rel:Oe,required:ge,reversed:ge,rows:Z,rowSpan:Z,sandbox:Oe,scope:null,scoped:ge,seamless:ge,selected:ge,shadowRootClonable:ge,shadowRootDelegatesFocus:ge,shadowRootMode:null,shape:null,size:Z,sizes:null,slot:null,span:Z,spellCheck:tt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Z,step:null,style:null,tabIndex:Z,target:null,title:null,translate:null,type:null,typeMustMatch:ge,useMap:null,value:tt,width:Z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Oe,axis:null,background:null,bgColor:null,border:Z,borderColor:null,bottomMargin:Z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ge,declare:ge,event:null,face:null,frame:null,frameBorder:null,hSpace:Z,leftMargin:Z,link:null,longDesc:null,lowSrc:null,marginHeight:Z,marginWidth:Z,noResize:ge,noHref:ge,noShade:ge,noWrap:ge,object:null,profile:null,prompt:null,rev:null,rightMargin:Z,rules:null,scheme:null,scrolling:tt,standby:null,summary:null,text:null,topMargin:Z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ge,disableRemotePlayback:ge,prefix:null,property:null,results:Z,security:null,unselectable:null},space:"html",transform:BN}),dV=zo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gt,accentHeight:Z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Z,amplitude:Z,arabicForm:null,ascent:Z,attributeName:null,attributeType:null,azimuth:Z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Z,by:null,calcMode:null,capHeight:Z,className:Oe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Z,diffuseConstant:Z,direction:null,display:null,dur:null,divisor:Z,dominantBaseline:null,download:ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:Z,enableBackground:null,end:null,event:null,exponent:Z,externalResourcesRequired:null,fill:null,fillOpacity:Z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lo,g2:lo,glyphName:lo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Z,horizOriginX:Z,horizOriginY:Z,id:null,ideographic:Z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Z,k:Z,k1:Z,k2:Z,k3:Z,k4:Z,kernelMatrix:Gt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Z,overlineThickness:Z,paintOrder:null,panose1:null,path:null,pathLength:Z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Oe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Z,pointsAtY:Z,pointsAtZ:Z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gt,rev:Gt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gt,requiredFeatures:Gt,requiredFonts:Gt,requiredFormats:Gt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Z,specularExponent:Z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Z,strikethroughThickness:Z,string:null,stroke:null,strokeDashArray:Gt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Z,strokeOpacity:Z,strokeWidth:null,style:null,surfaceScale:Z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gt,tabIndex:Z,tableValues:null,target:null,targetX:Z,targetY:Z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Z,underlineThickness:Z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Z,values:null,vAlphabetic:Z,vMathematical:Z,vectorEffect:null,vHanging:Z,vIdeographic:Z,version:null,vertAdvY:Z,vertOriginX:Z,vertOriginY:Z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:FN}),VN=zo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),UN=zo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:BN}),HN=zo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),hV={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fV=/[A-Z]/g,cw=/-[a-z]/g,pV=/^data[-\w.:]+$/i;function mV(t,e){const n=am(e);let r=e,i=Kt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&pV.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(cw,vV);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!cw.test(s)){let o=s.replace(fV,gV);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=yv}return new i(r,e)}function gV(t){return"-"+t.toLowerCase()}function vV(t){return t.charAt(1).toUpperCase()}const yV=$N([zN,uV,VN,UN,HN],"html"),xv=$N([zN,dV,VN,UN,HN],"svg");function xV(t){return t.join(" ").trim()}var wv={},uw=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,wV=/\n/g,bV=/^\s*/,SV=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,kV=/^:\s*/,CV=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,EV=/^[;\s]*/,_V=/^\s+|\s+$/g,NV=`
`,dw="/",hw="*",Di="",TV="comment",PV="declaration",AV=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(g){var m=g.match(wV);m&&(n+=m.length);var w=g.lastIndexOf(NV);r=~w?g.length-w:r+g.length}function s(){var g={line:n,column:r};return function(m){return m.position=new o(g),c(),m}}function o(g){this.start=g,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(g){var m=new Error(e.source+":"+n+":"+r+": "+g);if(m.reason=g,m.filename=e.source,m.line=n,m.column=r,m.source=t,!e.silent)throw m}function l(g){var m=g.exec(t);if(m){var w=m[0];return i(w),t=t.slice(w.length),m}}function c(){l(bV)}function u(g){var m;for(g=g||[];m=h();)m!==!1&&g.push(m);return g}function h(){var g=s();if(!(dw!=t.charAt(0)||hw!=t.charAt(1))){for(var m=2;Di!=t.charAt(m)&&(hw!=t.charAt(m)||dw!=t.charAt(m+1));)++m;if(m+=2,Di===t.charAt(m-1))return a("End of comment missing");var w=t.slice(2,m-2);return r+=2,i(w),t=t.slice(m),r+=2,g({type:TV,comment:w})}}function f(){var g=s(),m=l(SV);if(m){if(h(),!l(kV))return a("property missing ':'");var w=l(CV),v=g({type:PV,property:fw(m[0].replace(uw,Di)),value:w?fw(w[0].replace(uw,Di)):Di});return l(EV),v}}function p(){var g=[];u(g);for(var m;m=f();)m!==!1&&(g.push(m),u(g));return g}return c(),p()};function fw(t){return t?t.replace(_V,Di):Di}var jV=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wv,"__esModule",{value:!0});wv.default=RV;var MV=jV(AV);function RV(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,MV.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.camelCase=void 0;var IV=/^--[a-zA-Z0-9_-]+$/,OV=/-([a-z])/g,LV=/^[^-]+$/,$V=/^-(webkit|moz|ms|o|khtml)-/,DV=/^-(ms)-/,zV=function(t){return!t||LV.test(t)||IV.test(t)},FV=function(t,e){return e.toUpperCase()},pw=function(t,e){return"".concat(e,"-")},BV=function(t,e){return e===void 0&&(e={}),zV(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(DV,pw):t=t.replace($V,pw),t.replace(OV,FV))};Gd.camelCase=BV;var VV=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},UV=VV(wv),HV=Gd;function cm(t,e){var n={};return!t||typeof t!="string"||(0,UV.default)(t,function(r,i){r&&i&&(n[(0,HV.camelCase)(r,e)]=i)}),n}cm.default=cm;var WV=cm;const qV=cr(WV),WN=qN("end"),bv=qN("start");function qN(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function KV(t){const e=bv(t),n=WN(t);if(e&&n)return{start:e,end:n}}function Aa(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?mw(t.position):"start"in t||"end"in t?mw(t):"line"in t||"column"in t?um(t):""}function um(t){return gw(t&&t.line)+":"+gw(t&&t.column)}function mw(t){return um(t&&t.start)+"-"+um(t&&t.end)}function gw(t){return t&&typeof t=="number"?t:1}class _t extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Aa(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}_t.prototype.file="";_t.prototype.name="";_t.prototype.reason="";_t.prototype.message="";_t.prototype.stack="";_t.prototype.column=void 0;_t.prototype.line=void 0;_t.prototype.ancestors=void 0;_t.prototype.cause=void 0;_t.prototype.fatal=void 0;_t.prototype.place=void 0;_t.prototype.ruleId=void 0;_t.prototype.source=void 0;const Sv={}.hasOwnProperty,YV=new Map,GV=/[A-Z]/g,ZV=new Set(["table","tbody","thead","tfoot","tr"]),XV=new Set(["td","th"]),KN="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function QV(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=oU(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=sU(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?xv:yV,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=YN(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function YN(t,e,n){if(e.type==="element")return JV(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return eU(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return nU(t,e,n);if(e.type==="mdxjsEsm")return tU(t,e);if(e.type==="root")return rU(t,e,n);if(e.type==="text")return iU(t,e)}function JV(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=xv,t.schema=i),t.ancestors.push(e);const s=ZN(t,e.tagName,!1),o=aU(t,e);let a=Cv(t,e);return ZV.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!lV(l):!0})),GN(t,o,s,e),kv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function eU(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}wl(t,e.position)}function tU(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);wl(t,e.position)}function nU(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=xv,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:ZN(t,e.name,!0),o=lU(t,e),a=Cv(t,e);return GN(t,o,s,e),kv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function rU(t,e,n){const r={};return kv(r,Cv(t,e)),t.create(e,t.Fragment,r,n)}function iU(t,e){return e.value}function GN(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function kv(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function sU(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function oU(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=bv(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function aU(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Sv.call(e.properties,i)){const s=cU(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&XV.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function lU(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else wl(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else wl(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Cv(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:YV;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=YN(t,s,o);a!==void 0&&n.push(a)}return n}function cU(t,e,n){const r=mV(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?rV(n):xV(n)),r.property==="style"){let i=typeof n=="object"?n:uU(t,String(n));return t.stylePropertyNameCase==="css"&&(i=dU(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?hV[r.property]||r.property:r.attribute,n]}}function uU(t,e){try{return qV(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new _t("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=KN+"#cannot-parse-style-attribute",i}}function ZN(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=ow(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=ow(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Sv.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);wl(t)}function wl(t,e){const n=new _t("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=KN+"#cannot-handle-mdx-estrees-without-createevaluater",n}function dU(t){const e={};let n;for(n in t)Sv.call(t,n)&&(e[hU(n)]=t[n]);return e}function hU(t){let e=t.replace(GV,fU);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function fU(t){return"-"+t.toLowerCase()}const mf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},pU={};function mU(t,e){const n=pU,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return XN(t,r,i)}function XN(t,e,n){if(gU(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return vw(t.children,e,n)}return Array.isArray(t)?vw(t,e,n):""}function vw(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=XN(t[i],e,n);return r.join("")}function gU(t){return!!(t&&typeof t=="object")}const yw=document.createElement("i");function Ev(t){const e="&"+t+";";yw.innerHTML=e;const n=yw.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function lr(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function pn(t,e){return t.length>0?(lr(t,t.length,0,e),t):e}const xw={}.hasOwnProperty;function vU(t){const e={};let n=-1;for(;++n<t.length;)yU(e,t[n]);return e}function yU(t,e){let n;for(n in e){const i=(xw.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){xw.call(i,o)||(i[o]=[]);const a=s[o];xU(i[o],Array.isArray(a)?a:a?[a]:[])}}}function xU(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);lr(t,0,0,r)}function QN(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function co(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zn=ji(/[A-Za-z]/),en=ji(/[\dA-Za-z]/),wU=ji(/[#-'*+\--9=?A-Z^-~]/);function dm(t){return t!==null&&(t<32||t===127)}const hm=ji(/\d/),bU=ji(/[\dA-Fa-f]/),SU=ji(/[!-/:-@[-`{-~]/);function fe(t){return t!==null&&t<-2}function Ht(t){return t!==null&&(t<0||t===32)}function je(t){return t===-2||t===-1||t===32}const kU=ji(new RegExp("\\p{P}|\\p{S}","u")),CU=ji(/\s/);function ji(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Fo(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&en(t.charCodeAt(n+1))&&en(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function De(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return je(l)?(t.enter(n),a(l)):e(l)}function a(l){return je(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const EU={tokenize:_U};function _U(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),De(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return fe(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const NU={tokenize:TU},ww={tokenize:PU};function TU(t){const e=this,n=[];let r=0,i,s,o;return a;function a(b){if(r<n.length){const S=n[r];return e.containerState=S[1],t.attempt(S[0].continuation,l,c)(b)}return c(b)}function l(b){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const S=e.events.length;let k=S,C;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){C=e.events[k][1].end;break}v(r);let _=S;for(;_<e.events.length;)e.events[_][1].end={...C},_++;return lr(e.events,k+1,0,e.events.slice(S)),e.events.length=_,c(b)}return a(b)}function c(b){if(r===n.length){if(!i)return f(b);if(i.currentConstruct&&i.currentConstruct.concrete)return g(b);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(ww,u,h)(b)}function u(b){return i&&x(),v(r),f(b)}function h(b){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,g(b)}function f(b){return e.containerState={},t.attempt(ww,p,g)(b)}function p(b){return r++,n.push([e.currentConstruct,e.containerState]),f(b)}function g(b){if(b===null){i&&x(),v(0),t.consume(b);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(b)}function m(b){if(b===null){w(t.exit("chunkFlow"),!0),v(0),t.consume(b);return}return fe(b)?(t.consume(b),w(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(b),m)}function w(b,S){const k=e.sliceStream(b);if(S&&k.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(k),e.parser.lazy[b.start.line]){let C=i.events.length;for(;C--;)if(i.events[C][1].start.offset<o&&(!i.events[C][1].end||i.events[C][1].end.offset>o))return;const _=e.events.length;let T=_,j,R;for(;T--;)if(e.events[T][0]==="exit"&&e.events[T][1].type==="chunkFlow"){if(j){R=e.events[T][1].end;break}j=!0}for(v(r),C=_;C<e.events.length;)e.events[C][1].end={...R},C++;lr(e.events,T+1,0,e.events.slice(_)),e.events.length=C}}function v(b){let S=n.length;for(;S-- >b;){const k=n[S];e.containerState=k[1],k[0].exit.call(e,t)}n.length=b}function x(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function PU(t,e,n){return De(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function bw(t){if(t===null||Ht(t)||CU(t))return 1;if(kU(t))return 2}function _v(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const fm={name:"attention",resolveAll:AU,tokenize:jU};function AU(t,e){let n=-1,r,i,s,o,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},f={...t[n][1].start};Sw(h,-l),Sw(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=pn(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=pn(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=pn(c,_v(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=pn(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=pn(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,lr(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function jU(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=bw(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),u=bw(l),h=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?h:h&&(i||!f)),c._close=!!(s===42?f:f&&(u||!h)),e(l)}}function Sw(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const MU={name:"autolink",tokenize:RU};function RU(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return Zn(p)?(t.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||en(p)?(r=1,a(p)):c(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||en(p))&&r++<32?(t.consume(p),a):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||dm(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),u):wU(p)?(t.consume(p),c):n(p)}function u(p){return en(p)?h(p):n(p)}function h(p){return p===46?(t.consume(p),r=0,u):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||en(p))&&r++<63){const g=p===45?f:h;return t.consume(p),g}return n(p)}}const Zd={partial:!0,tokenize:IU};function IU(t,e,n){return r;function r(s){return je(s)?De(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||fe(s)?e(s):n(s)}}const JN={continuation:{tokenize:LU},exit:$U,name:"blockQuote",tokenize:OU};function OU(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return je(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function LU(t,e,n){const r=this;return i;function i(o){return je(o)?De(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(JN,e,n)(o)}}function $U(t){t.exit("blockQuote")}const eT={name:"characterEscape",tokenize:DU};function DU(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return SU(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const tT={name:"characterReference",tokenize:zU};function zU(t,e,n){const r=this;let i=0,s,o;return a;function a(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=en,u(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=bU,u):(t.enter("characterReferenceValue"),s=7,o=hm,u(h))}function u(h){if(h===59&&i){const f=t.exit("characterReferenceValue");return o===en&&!Ev(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&i++<s?(t.consume(h),u):n(h)}}const kw={partial:!0,tokenize:BU},Cw={concrete:!0,name:"codeFenced",tokenize:FU};function FU(t,e,n){const r=this,i={partial:!0,tokenize:k};let s=0,o=0,a;return l;function l(C){return c(C)}function c(C){const _=r.events[r.events.length-1];return s=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,a=C,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(C)}function u(C){return C===a?(o++,t.consume(C),u):o<3?n(C):(t.exit("codeFencedFenceSequence"),je(C)?De(t,h,"whitespace")(C):h(C))}function h(C){return C===null||fe(C)?(t.exit("codeFencedFence"),r.interrupt?e(C):t.check(kw,m,S)(C)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(C))}function f(C){return C===null||fe(C)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(C)):je(C)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),De(t,p,"whitespace")(C)):C===96&&C===a?n(C):(t.consume(C),f)}function p(C){return C===null||fe(C)?h(C):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(C))}function g(C){return C===null||fe(C)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(C)):C===96&&C===a?n(C):(t.consume(C),g)}function m(C){return t.attempt(i,S,w)(C)}function w(C){return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),v}function v(C){return s>0&&je(C)?De(t,x,"linePrefix",s+1)(C):x(C)}function x(C){return C===null||fe(C)?t.check(kw,m,S)(C):(t.enter("codeFlowValue"),b(C))}function b(C){return C===null||fe(C)?(t.exit("codeFlowValue"),x(C)):(t.consume(C),b)}function S(C){return t.exit("codeFenced"),e(C)}function k(C,_,T){let j=0;return R;function R(L){return C.enter("lineEnding"),C.consume(L),C.exit("lineEnding"),O}function O(L){return C.enter("codeFencedFence"),je(L)?De(C,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):A(L)}function A(L){return L===a?(C.enter("codeFencedFenceSequence"),B(L)):T(L)}function B(L){return L===a?(j++,C.consume(L),B):j>=o?(C.exit("codeFencedFenceSequence"),je(L)?De(C,I,"whitespace")(L):I(L)):T(L)}function I(L){return L===null||fe(L)?(C.exit("codeFencedFence"),_(L)):T(L)}}}function BU(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const gf={name:"codeIndented",tokenize:UU},VU={partial:!0,tokenize:HU};function UU(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),De(t,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):fe(c)?t.attempt(VU,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||fe(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function HU(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):fe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):De(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):fe(o)?i(o):n(o)}}const WU={name:"codeText",previous:KU,resolve:qU,tokenize:YU};function qU(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function KU(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function YU(t,e,n){let r=0,i,s;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)}function a(h){return h===96?(t.consume(h),r++,a):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(s=t.enter("codeTextSequence"),i=0,u(h)):fe(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||fe(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function u(h){return h===96?(t.consume(h),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",c(h))}}class GU{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&na(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),na(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),na(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);na(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);na(this.left,n.reverse())}}}function na(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function nT(t){const e={};let n=-1,r,i,s,o,a,l,c;const u=new GU(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,ZU(u,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return lr(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function ZU(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let u,h,f=-1,p=n,g=0,m=0;const w=[m];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),h&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,w.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),f=w.length;f--;){const v=a.slice(w[f],w[f+1]),x=s.pop();l.push([x,x+v.length-1]),t.splice(x,2,v)}for(l.reverse(),f=-1;++f<l.length;)c[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return c}const XU={resolve:JU,tokenize:e6},QU={partial:!0,tokenize:t6};function JU(t){return nT(t),t}function e6(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):fe(a)?t.check(QU,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function t6(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),De(t,s,"linePrefix")}function s(o){if(o===null||fe(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function rT(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return h;function h(v){return v===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(v),t.exit(s),f):v===null||v===32||v===41||dm(v)?n(v):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),m(v))}function f(v){return v===62?(t.enter(s),t.consume(v),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(t.exit("chunkString"),t.exit(a),f(v)):v===null||v===60||fe(v)?n(v):(t.consume(v),v===92?g:p)}function g(v){return v===60||v===62||v===92?(t.consume(v),p):p(v)}function m(v){return!u&&(v===null||v===41||Ht(v))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(v)):u<c&&v===40?(t.consume(v),u++,m):v===41?(t.consume(v),u--,m):v===null||v===32||v===40||dm(v)?n(v):(t.consume(v),v===92?w:m)}function w(v){return v===40||v===41||v===92?(t.consume(v),m):m(v)}}function iT(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),u}function u(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):fe(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||fe(p)||a++>999?(t.exit("chunkString"),u(p)):(t.consume(p),l||(l=!je(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,h):h(p)}}function sT(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),c(f))}function c(f){return f===o?(t.exit(s),l(o)):f===null?n(f):fe(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),De(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===o||f===null||fe(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?h:u)}function h(f){return f===o||f===92?(t.consume(f),u):u(f)}}function ja(t,e){let n;return r;function r(i){return fe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):je(i)?De(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const n6={name:"definition",tokenize:i6},r6={partial:!0,tokenize:s6};function i6(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return iT.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=co(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Ht(p)?ja(t,c)(p):c(p)}function c(p){return rT(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return t.attempt(r6,h,h)(p)}function h(p){return je(p)?De(t,f,"whitespace")(p):f(p)}function f(p){return p===null||fe(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function s6(t,e,n){return r;function r(a){return Ht(a)?ja(t,i)(a):n(a)}function i(a){return sT(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return je(a)?De(t,o,"whitespace")(a):o(a)}function o(a){return a===null||fe(a)?e(a):n(a)}}const o6={name:"hardBreakEscape",tokenize:a6};function a6(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return fe(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const l6={name:"headingAtx",resolve:c6,tokenize:u6};function c6(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},lr(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function u6(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(t.consume(u),o):u===null||Ht(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||fe(u)?(t.exit("atxHeading"),e(u)):je(u)?De(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||Ht(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const d6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ew=["pre","script","style","textarea"],h6={concrete:!0,name:"htmlFlow",resolveTo:m6,tokenize:g6},f6={partial:!0,tokenize:y6},p6={partial:!0,tokenize:v6};function m6(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function g6(t,e,n){const r=this;let i,s,o,a,l;return c;function c(N){return u(N)}function u(N){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(N),h}function h(N){return N===33?(t.consume(N),f):N===47?(t.consume(N),s=!0,m):N===63?(t.consume(N),i=3,r.interrupt?e:E):Zn(N)?(t.consume(N),o=String.fromCharCode(N),w):n(N)}function f(N){return N===45?(t.consume(N),i=2,p):N===91?(t.consume(N),i=5,a=0,g):Zn(N)?(t.consume(N),i=4,r.interrupt?e:E):n(N)}function p(N){return N===45?(t.consume(N),r.interrupt?e:E):n(N)}function g(N){const oe="CDATA[";return N===oe.charCodeAt(a++)?(t.consume(N),a===oe.length?r.interrupt?e:A:g):n(N)}function m(N){return Zn(N)?(t.consume(N),o=String.fromCharCode(N),w):n(N)}function w(N){if(N===null||N===47||N===62||Ht(N)){const oe=N===47,be=o.toLowerCase();return!oe&&!s&&Ew.includes(be)?(i=1,r.interrupt?e(N):A(N)):d6.includes(o.toLowerCase())?(i=6,oe?(t.consume(N),v):r.interrupt?e(N):A(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?x(N):b(N))}return N===45||en(N)?(t.consume(N),o+=String.fromCharCode(N),w):n(N)}function v(N){return N===62?(t.consume(N),r.interrupt?e:A):n(N)}function x(N){return je(N)?(t.consume(N),x):R(N)}function b(N){return N===47?(t.consume(N),R):N===58||N===95||Zn(N)?(t.consume(N),S):je(N)?(t.consume(N),b):R(N)}function S(N){return N===45||N===46||N===58||N===95||en(N)?(t.consume(N),S):k(N)}function k(N){return N===61?(t.consume(N),C):je(N)?(t.consume(N),k):b(N)}function C(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),l=N,_):je(N)?(t.consume(N),C):T(N)}function _(N){return N===l?(t.consume(N),l=null,j):N===null||fe(N)?n(N):(t.consume(N),_)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Ht(N)?k(N):(t.consume(N),T)}function j(N){return N===47||N===62||je(N)?b(N):n(N)}function R(N){return N===62?(t.consume(N),O):n(N)}function O(N){return N===null||fe(N)?A(N):je(N)?(t.consume(N),O):n(N)}function A(N){return N===45&&i===2?(t.consume(N),M):N===60&&i===1?(t.consume(N),D):N===62&&i===4?(t.consume(N),z):N===63&&i===3?(t.consume(N),E):N===93&&i===5?(t.consume(N),$):fe(N)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(f6,X,B)(N)):N===null||fe(N)?(t.exit("htmlFlowData"),B(N)):(t.consume(N),A)}function B(N){return t.check(p6,I,X)(N)}function I(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),L}function L(N){return N===null||fe(N)?B(N):(t.enter("htmlFlowData"),A(N))}function M(N){return N===45?(t.consume(N),E):A(N)}function D(N){return N===47?(t.consume(N),o="",P):A(N)}function P(N){if(N===62){const oe=o.toLowerCase();return Ew.includes(oe)?(t.consume(N),z):A(N)}return Zn(N)&&o.length<8?(t.consume(N),o+=String.fromCharCode(N),P):A(N)}function $(N){return N===93?(t.consume(N),E):A(N)}function E(N){return N===62?(t.consume(N),z):N===45&&i===2?(t.consume(N),E):A(N)}function z(N){return N===null||fe(N)?(t.exit("htmlFlowData"),X(N)):(t.consume(N),z)}function X(N){return t.exit("htmlFlow"),e(N)}}function v6(t,e,n){const r=this;return i;function i(o){return fe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function y6(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Zd,e,n)}}const x6={name:"htmlText",tokenize:w6};function w6(t,e,n){const r=this;let i,s,o;return a;function a(E){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(E),l}function l(E){return E===33?(t.consume(E),c):E===47?(t.consume(E),k):E===63?(t.consume(E),b):Zn(E)?(t.consume(E),T):n(E)}function c(E){return E===45?(t.consume(E),u):E===91?(t.consume(E),s=0,g):Zn(E)?(t.consume(E),x):n(E)}function u(E){return E===45?(t.consume(E),p):n(E)}function h(E){return E===null?n(E):E===45?(t.consume(E),f):fe(E)?(o=h,D(E)):(t.consume(E),h)}function f(E){return E===45?(t.consume(E),p):h(E)}function p(E){return E===62?M(E):E===45?f(E):h(E)}function g(E){const z="CDATA[";return E===z.charCodeAt(s++)?(t.consume(E),s===z.length?m:g):n(E)}function m(E){return E===null?n(E):E===93?(t.consume(E),w):fe(E)?(o=m,D(E)):(t.consume(E),m)}function w(E){return E===93?(t.consume(E),v):m(E)}function v(E){return E===62?M(E):E===93?(t.consume(E),v):m(E)}function x(E){return E===null||E===62?M(E):fe(E)?(o=x,D(E)):(t.consume(E),x)}function b(E){return E===null?n(E):E===63?(t.consume(E),S):fe(E)?(o=b,D(E)):(t.consume(E),b)}function S(E){return E===62?M(E):b(E)}function k(E){return Zn(E)?(t.consume(E),C):n(E)}function C(E){return E===45||en(E)?(t.consume(E),C):_(E)}function _(E){return fe(E)?(o=_,D(E)):je(E)?(t.consume(E),_):M(E)}function T(E){return E===45||en(E)?(t.consume(E),T):E===47||E===62||Ht(E)?j(E):n(E)}function j(E){return E===47?(t.consume(E),M):E===58||E===95||Zn(E)?(t.consume(E),R):fe(E)?(o=j,D(E)):je(E)?(t.consume(E),j):M(E)}function R(E){return E===45||E===46||E===58||E===95||en(E)?(t.consume(E),R):O(E)}function O(E){return E===61?(t.consume(E),A):fe(E)?(o=O,D(E)):je(E)?(t.consume(E),O):j(E)}function A(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(t.consume(E),i=E,B):fe(E)?(o=A,D(E)):je(E)?(t.consume(E),A):(t.consume(E),I)}function B(E){return E===i?(t.consume(E),i=void 0,L):E===null?n(E):fe(E)?(o=B,D(E)):(t.consume(E),B)}function I(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Ht(E)?j(E):(t.consume(E),I)}function L(E){return E===47||E===62||Ht(E)?j(E):n(E)}function M(E){return E===62?(t.consume(E),t.exit("htmlTextData"),t.exit("htmlText"),e):n(E)}function D(E){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),P}function P(E){return je(E)?De(t,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):$(E)}function $(E){return t.enter("htmlTextData"),o(E)}}const Nv={name:"labelEnd",resolveAll:C6,resolveTo:E6,tokenize:_6},b6={tokenize:N6},S6={tokenize:T6},k6={tokenize:P6};function C6(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&lr(t,0,t.length,n),t}function E6(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},u={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=pn(a,t.slice(s+1,s+r+3)),a=pn(a,[["enter",u,e]]),a=pn(a,_v(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=pn(a,[["exit",u,e],t[o-2],t[o-1],["exit",c,e]]),a=pn(a,t.slice(o+1)),a=pn(a,[["exit",l,e]]),lr(t,s,t.length,a),t}function _6(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?h(f):(o=r.parser.defined.includes(co(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(b6,u,o?u:h)(f):f===91?t.attempt(S6,u,o?c:h)(f):o?u(f):h(f)}function c(f){return t.attempt(k6,u,h)(f)}function u(f){return e(f)}function h(f){return s._balanced=!0,n(f)}}function N6(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Ht(h)?ja(t,s)(h):s(h)}function s(h){return h===41?u(h):rT(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Ht(h)?ja(t,l)(h):u(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?sT(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function c(h){return Ht(h)?ja(t,u)(h):u(h)}function u(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function T6(t,e,n){const r=this;return i;function i(a){return iT.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(co(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function P6(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const A6={name:"labelStartImage",resolveAll:Nv.resolveAll,tokenize:j6};function j6(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const M6={name:"labelStartLink",resolveAll:Nv.resolveAll,tokenize:R6};function R6(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const vf={name:"lineEnding",tokenize:I6};function I6(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),De(t,e,"linePrefix")}}const Wc={name:"thematicBreak",tokenize:O6};function O6(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||fe(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),je(c)?De(t,a,"whitespace")(c):a(c))}}const Lt={continuation:{tokenize:z6},exit:B6,name:"list",tokenize:D6},L6={partial:!0,tokenize:V6},$6={partial:!0,tokenize:F6};function D6(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:hm(p)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Wc,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return hm(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Zd,r.interrupt?n:u,t.attempt(L6,f,h))}function u(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function h(p){return je(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function z6(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Zd,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,De(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!je(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt($6,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,De(t,t.attempt(Lt,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function F6(t,e,n){const r=this;return De(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function B6(t){t.exit(this.containerState.type)}function V6(t,e,n){const r=this;return De(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!je(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const _w={name:"setextUnderline",resolveTo:U6,tokenize:H6};function U6(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function H6(t,e,n){const r=this;let i;return s;function s(c){let u=r.events.length,h;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){h=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),je(c)?De(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||fe(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const W6={tokenize:q6};function q6(t){const e=this,n=t.attempt(Zd,r,t.attempt(this.parser.constructs.flowInitial,i,De(t,t.attempt(this.parser.constructs.flow,i,t.attempt(XU,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const K6={resolveAll:aT()},Y6=oT("string"),G6=oT("text");function oT(t){return{resolveAll:aT(t==="text"?Z6:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const h=i[u];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function aT(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Z6(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const X6={42:Lt,43:Lt,45:Lt,48:Lt,49:Lt,50:Lt,51:Lt,52:Lt,53:Lt,54:Lt,55:Lt,56:Lt,57:Lt,62:JN},Q6={91:n6},J6={[-2]:gf,[-1]:gf,32:gf},eH={35:l6,42:Wc,45:[_w,Wc],60:h6,61:_w,95:Wc,96:Cw,126:Cw},tH={38:tT,92:eT},nH={[-5]:vf,[-4]:vf,[-3]:vf,33:A6,38:tT,42:fm,60:[MU,x6],91:M6,92:[o6,eT],93:Nv,95:fm,96:WU},rH={null:[fm,K6]},iH={null:[42,95]},sH={null:[]},oH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:iH,contentInitial:Q6,disable:sH,document:X6,flow:eH,flowInitial:J6,insideSpan:rH,string:tH,text:nH},Symbol.toStringTag,{value:"Module"}));function aH(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:_(k),check:_(C),consume:x,enter:b,exit:S,interrupt:_(C,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:h};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function h(O){return o=pn(o,O),w(),o[o.length-1]!==null?[]:(T(e,0),c.events=_v(s,c.events,c),c.events)}function f(O,A){return cH(p(O),A)}function p(O){return lH(o,O)}function g(){const{_bufferIndex:O,_index:A,line:B,column:I,offset:L}=r;return{_bufferIndex:O,_index:A,line:B,column:I,offset:L}}function m(O){i[O.line]=O.column,R()}function w(){let O;for(;r._index<o.length;){const A=o[r._index];if(typeof A=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<A.length;)v(A.charCodeAt(r._bufferIndex));else v(A)}}function v(O){u=u(O)}function x(O){fe(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,R()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=O}function b(O,A){const B=A||{};return B.type=O,B.start=g(),c.events.push(["enter",B,c]),a.push(B),B}function S(O){const A=a.pop();return A.end=g(),c.events.push(["exit",A,c]),A}function k(O,A){T(O,A.from)}function C(O,A){A.restore()}function _(O,A){return B;function B(I,L,M){let D,P,$,E;return Array.isArray(I)?X(I):"tokenize"in I?X([I]):z(I);function z(he){return te;function te(ue){const q=ue!==null&&he[ue],U=ue!==null&&he.null,J=[...Array.isArray(q)?q:q?[q]:[],...Array.isArray(U)?U:U?[U]:[]];return X(J)(ue)}}function X(he){return D=he,P=0,he.length===0?M:N(he[P])}function N(he){return te;function te(ue){return E=j(),$=he,he.partial||(c.currentConstruct=he),he.name&&c.parser.constructs.disable.null.includes(he.name)?be():he.tokenize.call(A?Object.assign(Object.create(c),A):c,l,oe,be)(ue)}}function oe(he){return O($,E),L}function be(he){return E.restore(),++P<D.length?N(D[P]):M}}}function T(O,A){O.resolveAll&&!s.includes(O)&&s.push(O),O.resolve&&lr(c.events,A,c.events.length-A,O.resolve(c.events.slice(A),c)),O.resolveTo&&(c.events=O.resolveTo(c.events,c))}function j(){const O=g(),A=c.previous,B=c.currentConstruct,I=c.events.length,L=Array.from(a);return{from:I,restore:M};function M(){r=O,c.previous=A,c.currentConstruct=B,c.events.length=I,a=L,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function lH(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function cH(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function uH(t){const r={constructs:vU([oH,...(t||{}).extensions||[]]),content:i(EU),defined:[],document:i(NU),flow:i(W6),lazy:{},string:i(Y6),text:i(G6)};return r;function i(s){return o;function o(a){return aH(r,s,a)}}}function dH(t){for(;!nT(t););return t}const Nw=/[\0\t\n\r]/g;function hH(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,h,f,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(Nw.lastIndex=h,c=Nw.exec(s),f=c&&c.index!==void 0?c.index:s.length,p=s.charCodeAt(f),!c){e=s.slice(h);break}if(p===10&&h===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<f&&(l.push(s.slice(h,f)),t+=f-h),p){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const fH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pH(t){return t.replace(fH,mH)}function mH(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return QN(n.slice(s?2:1),s?16:10)}return Ev(n)||t}const lT={}.hasOwnProperty;function gH(t,e,n){return typeof e!="string"&&(n=e,e=void 0),vH(n)(dH(uH(n).document().write(hH()(t,e,!0))))}function vH(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Sn),autolinkProtocol:j,autolinkEmail:j,atxHeading:s(gt),blockQuote:s(U),characterEscape:j,characterReference:j,codeFenced:s(J),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(J,o),codeText:s(ie,o),codeTextData:j,data:j,codeFlowValue:j,definition:s(Te),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Re),hardBreakEscape:s(Ot),hardBreakTrailing:s(Ot),htmlFlow:s(un,o),htmlFlowData:j,htmlText:s(un,o),htmlTextData:j,image:s(Mi),label:o,link:s(Sn),listItem:s(yP),listItemValue:f,listOrdered:s(th,h),listUnordered:s(th),paragraph:s(xP),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(gt),strong:s(wP),thematicBreak:s(SP)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:q,autolinkProtocol:ue,blockQuote:l(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:be,characterReferenceMarkerNumeric:be,characterReferenceValue:he,characterReference:te,codeFenced:l(w),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:R,codeIndented:l(v),codeText:l(L),codeTextData:R,data:R,definition:l(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(B),htmlFlowData:R,htmlText:l(I),htmlTextData:R,image:l(D),label:$,labelText:P,lineEnding:O,link:l(M),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:oe,resourceDestinationString:E,resourceTitleString:z,resource:X,setextHeading:l(T),setextHeadingLineSequence:_,setextHeadingText:C,strong:l(),thematicBreak:l()}};cT(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(H){let Q={type:"root",children:[]};const me={stack:[Q],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:n},Ee=[];let Ie=-1;for(;++Ie<H.length;)if(H[Ie][1].type==="listOrdered"||H[Ie][1].type==="listUnordered")if(H[Ie][0]==="enter")Ee.push(Ie);else{const kn=Ee.pop();Ie=i(H,kn,Ie)}for(Ie=-1;++Ie<H.length;){const kn=e[H[Ie][0]];lT.call(kn,H[Ie][1].type)&&kn[H[Ie][1].type].call(Object.assign({sliceSerialize:H[Ie][2].sliceSerialize},me),H[Ie][1])}if(me.tokenStack.length>0){const kn=me.tokenStack[me.tokenStack.length-1];(kn[1]||Tw).call(me,void 0,kn[0])}for(Q.position={start:Kr(H.length>0?H[0][1].start:{line:1,column:1,offset:0}),end:Kr(H.length>0?H[H.length-2][1].end:{line:1,column:1,offset:0})},Ie=-1;++Ie<e.transforms.length;)Q=e.transforms[Ie](Q)||Q;return Q}function i(H,Q,me){let Ee=Q-1,Ie=-1,kn=!1,Ri,fr,Bo,Vo;for(;++Ee<=me;){const Yt=H[Ee];switch(Yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Yt[0]==="enter"?Ie++:Ie--,Vo=void 0;break}case"lineEndingBlank":{Yt[0]==="enter"&&(Ri&&!Vo&&!Ie&&!Bo&&(Bo=Ee),Vo=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Vo=void 0}if(!Ie&&Yt[0]==="enter"&&Yt[1].type==="listItemPrefix"||Ie===-1&&Yt[0]==="exit"&&(Yt[1].type==="listUnordered"||Yt[1].type==="listOrdered")){if(Ri){let xs=Ee;for(fr=void 0;xs--;){const pr=H[xs];if(pr[1].type==="lineEnding"||pr[1].type==="lineEndingBlank"){if(pr[0]==="exit")continue;fr&&(H[fr][1].type="lineEndingBlank",kn=!0),pr[1].type="lineEnding",fr=xs}else if(!(pr[1].type==="linePrefix"||pr[1].type==="blockQuotePrefix"||pr[1].type==="blockQuotePrefixWhitespace"||pr[1].type==="blockQuoteMarker"||pr[1].type==="listItemIndent"))break}Bo&&(!fr||Bo<fr)&&(Ri._spread=!0),Ri.end=Object.assign({},fr?H[fr][1].start:Yt[1].end),H.splice(fr||Ee,0,["exit",Ri,Yt[2]]),Ee++,me++}if(Yt[1].type==="listItemPrefix"){const xs={type:"listItem",_spread:!1,start:Object.assign({},Yt[1].start),end:void 0};Ri=xs,H.splice(Ee,0,["enter",xs,Yt[2]]),Ee++,me++,Bo=void 0,Vo=!0}}}return H[Q][1]._spread=kn,me}function s(H,Q){return me;function me(Ee){a.call(this,H(Ee),Ee),Q&&Q.call(this,Ee)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(H,Q,me){this.stack[this.stack.length-1].children.push(H),this.stack.push(H),this.tokenStack.push([Q,me||void 0]),H.position={start:Kr(Q.start),end:void 0}}function l(H){return Q;function Q(me){H&&H.call(this,me),c.call(this,me)}}function c(H,Q){const me=this.stack.pop(),Ee=this.tokenStack.pop();if(Ee)Ee[0].type!==H.type&&(Q?Q.call(this,H,Ee[0]):(Ee[1]||Tw).call(this,H,Ee[0]));else throw new Error("Cannot close `"+H.type+"` ("+Aa({start:H.start,end:H.end})+"): its not open");me.position.end=Kr(H.end)}function u(){return mU(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(H){if(this.data.expectingFirstListItemValue){const Q=this.stack[this.stack.length-2];Q.start=Number.parseInt(this.sliceSerialize(H),10),this.data.expectingFirstListItemValue=void 0}}function p(){const H=this.resume(),Q=this.stack[this.stack.length-1];Q.lang=H}function g(){const H=this.resume(),Q=this.stack[this.stack.length-1];Q.meta=H}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const H=this.resume(),Q=this.stack[this.stack.length-1];Q.value=H.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const H=this.resume(),Q=this.stack[this.stack.length-1];Q.value=H.replace(/(\r?\n|\r)$/g,"")}function x(H){const Q=this.resume(),me=this.stack[this.stack.length-1];me.label=Q,me.identifier=co(this.sliceSerialize(H)).toLowerCase()}function b(){const H=this.resume(),Q=this.stack[this.stack.length-1];Q.title=H}function S(){const H=this.resume(),Q=this.stack[this.stack.length-1];Q.url=H}function k(H){const Q=this.stack[this.stack.length-1];if(!Q.depth){const me=this.sliceSerialize(H).length;Q.depth=me}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function _(H){const Q=this.stack[this.stack.length-1];Q.depth=this.sliceSerialize(H).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function j(H){const me=this.stack[this.stack.length-1].children;let Ee=me[me.length-1];(!Ee||Ee.type!=="text")&&(Ee=bP(),Ee.position={start:Kr(H.start),end:void 0},me.push(Ee)),this.stack.push(Ee)}function R(H){const Q=this.stack.pop();Q.value+=this.sliceSerialize(H),Q.position.end=Kr(H.end)}function O(H){const Q=this.stack[this.stack.length-1];if(this.data.atHardBreak){const me=Q.children[Q.children.length-1];me.position.end=Kr(H.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Q.type)&&(j.call(this,H),R.call(this,H))}function A(){this.data.atHardBreak=!0}function B(){const H=this.resume(),Q=this.stack[this.stack.length-1];Q.value=H}function I(){const H=this.resume(),Q=this.stack[this.stack.length-1];Q.value=H}function L(){const H=this.resume(),Q=this.stack[this.stack.length-1];Q.value=H}function M(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const Q=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=Q,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function D(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const Q=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=Q,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function P(H){const Q=this.sliceSerialize(H),me=this.stack[this.stack.length-2];me.label=pH(Q),me.identifier=co(Q).toLowerCase()}function $(){const H=this.stack[this.stack.length-1],Q=this.resume(),me=this.stack[this.stack.length-1];if(this.data.inReference=!0,me.type==="link"){const Ee=H.children;me.children=Ee}else me.alt=Q}function E(){const H=this.resume(),Q=this.stack[this.stack.length-1];Q.url=H}function z(){const H=this.resume(),Q=this.stack[this.stack.length-1];Q.title=H}function X(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function oe(H){const Q=this.resume(),me=this.stack[this.stack.length-1];me.label=Q,me.identifier=co(this.sliceSerialize(H)).toLowerCase(),this.data.referenceType="full"}function be(H){this.data.characterReferenceType=H.type}function he(H){const Q=this.sliceSerialize(H),me=this.data.characterReferenceType;let Ee;me?(Ee=QN(Q,me==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ee=Ev(Q);const Ie=this.stack[this.stack.length-1];Ie.value+=Ee}function te(H){const Q=this.stack.pop();Q.position.end=Kr(H.end)}function ue(H){R.call(this,H);const Q=this.stack[this.stack.length-1];Q.url=this.sliceSerialize(H)}function q(H){R.call(this,H);const Q=this.stack[this.stack.length-1];Q.url="mailto:"+this.sliceSerialize(H)}function U(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function Te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Re(){return{type:"emphasis",children:[]}}function gt(){return{type:"heading",depth:0,children:[]}}function Ot(){return{type:"break"}}function un(){return{type:"html",value:""}}function Mi(){return{type:"image",title:null,url:"",alt:null}}function Sn(){return{type:"link",title:null,url:"",children:[]}}function th(H){return{type:"list",ordered:H.type==="listOrdered",start:null,spread:H._spread,children:[]}}function yP(H){return{type:"listItem",spread:H._spread,checked:null,children:[]}}function xP(){return{type:"paragraph",children:[]}}function wP(){return{type:"strong",children:[]}}function bP(){return{type:"text",value:""}}function SP(){return{type:"thematicBreak"}}}function Kr(t){return{line:t.line,column:t.column,offset:t.offset}}function cT(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?cT(t,r):yH(t,r)}}function yH(t,e){let n;for(n in e)if(lT.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Tw(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Aa({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Aa({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Aa({start:e.start,end:e.end})+") is still open")}function xH(t){const e=this;e.parser=n;function n(r){return gH(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function wH(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function bH(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function SH(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function kH(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function CH(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function EH(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Fo(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function _H(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function NH(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function uT(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function TH(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return uT(t,e);const i={src:Fo(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function PH(t,e){const n={src:Fo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function AH(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function jH(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return uT(t,e);const i={href:Fo(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function MH(t,e){const n={href:Fo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function RH(t,e,n){const r=t.all(e),i=n?IH(n):dT(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function IH(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=dT(n[r])}return e}function dT(t){const e=t.spread;return e??t.children.length>1}function OH(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function LH(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $H(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function DH(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zH(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=bv(e.children[1]),l=WN(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function FH(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const h=e.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let g={type:"element",tagName:s,properties:f,children:[]};h&&(g.children=t.all(h),t.patch(h,g),g=t.applyData(h,g)),c.push(g)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function BH(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Pw=9,Aw=32;function VH(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(jw(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(jw(e.slice(i),i>0,!1)),s.join("")}function jw(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===Pw||s===Aw;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===Pw||s===Aw;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function UH(t,e){const n={type:"text",value:VH(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function HH(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const WH={blockquote:wH,break:bH,code:SH,delete:kH,emphasis:CH,footnoteReference:EH,heading:_H,html:NH,imageReference:TH,image:PH,inlineCode:AH,linkReference:jH,link:MH,listItem:RH,list:OH,paragraph:LH,root:$H,strong:DH,table:zH,tableCell:BH,tableRow:FH,text:UH,thematicBreak:HH,toml:bc,yaml:bc,definition:bc,footnoteDefinition:bc};function bc(){}const hT=-1,Xd=0,Ma=1,Bu=2,Tv=3,Pv=4,Av=5,jv=6,fT=7,pT=8,Mw=typeof self=="object"?self:globalThis,qH=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Xd:case hT:return n(o,i);case Ma:{const a=n([],i);for(const l of o)a.push(r(l));return a}case Bu:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case Tv:return n(new Date(o),i);case Pv:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Av:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case jv:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case fT:{const{name:a,message:l}=o;return n(new Mw[a](l),i)}case pT:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new Mw[s](o),i)};return r},Rw=t=>qH(new Map,t)(0),Ns="",{toString:KH}={},{keys:YH}=Object,ra=t=>{const e=typeof t;if(e!=="object"||!t)return[Xd,e];const n=KH.call(t).slice(8,-1);switch(n){case"Array":return[Ma,Ns];case"Object":return[Bu,Ns];case"Date":return[Tv,Ns];case"RegExp":return[Pv,Ns];case"Map":return[Av,Ns];case"Set":return[jv,Ns];case"DataView":return[Ma,n]}return n.includes("Array")?[Ma,n]:n.includes("Error")?[fT,n]:[Bu,n]},Sc=([t,e])=>t===Xd&&(e==="function"||e==="symbol"),GH=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=ra(o);switch(a){case Xd:{let u=o;switch(l){case"bigint":a=pT,u=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([hT],o)}return i([a,u],o)}case Ma:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const u=[],h=i([a,u],o);for(const f of o)u.push(s(f));return h}case Bu:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],h=i([a,u],o);for(const f of YH(o))(t||!Sc(ra(o[f])))&&u.push([s(f),s(o[f])]);return h}case Tv:return i([a,o.toISOString()],o);case Pv:{const{source:u,flags:h}=o;return i([a,{source:u,flags:h}],o)}case Av:{const u=[],h=i([a,u],o);for(const[f,p]of o)(t||!(Sc(ra(f))||Sc(ra(p))))&&u.push([s(f),s(p)]);return h}case jv:{const u=[],h=i([a,u],o);for(const f of o)(t||!Sc(ra(f)))&&u.push(s(f));return h}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},Iw=(t,{json:e,lossy:n}={})=>{const r=[];return GH(!(e||n),!!e,new Map,r)(t),r},Vu=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Rw(Iw(t,e)):structuredClone(t):(t,e)=>Rw(Iw(t,e));function ZH(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function XH(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function QH(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||ZH,r=t.options.footnoteBackLabel||XH,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),h=String(c.identifier).toUpperCase(),f=Fo(h.toLowerCase());let p=0;const g=[],m=t.footnoteCounts.get(h);for(;m!==void 0&&++p<=m;){g.length>0&&g.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,p);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const w=u[u.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const x=w.children[w.children.length-1];x&&x.type==="text"?x.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else u.push(...g);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(u,!0)};t.patch(c,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Vu(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const mT=function(t){if(t==null)return nW;if(typeof t=="function")return Qd(t);if(typeof t=="object")return Array.isArray(t)?JH(t):eW(t);if(typeof t=="string")return tW(t);throw new Error("Expected function, string, or object as test")};function JH(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=mT(t[n]);return Qd(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function eW(t){const e=t;return Qd(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function tW(t){return Qd(e);function e(n){return n&&n.type===t}}function Qd(t){return e;function e(n,r,i){return!!(rW(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function nW(){return!0}function rW(t){return t!==null&&typeof t=="object"&&"type"in t}const gT=[],iW=!0,Ow=!1,sW="skip";function oW(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=mT(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=gT,g,m,w;if((!e||s(l,c,u[u.length-1]||void 0))&&(p=aW(n(l,u)),p[0]===Ow))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==sW)for(m=(r?v.children.length:-1)+o,w=u.concat(v);m>-1&&m<v.children.length;){const x=v.children[m];if(g=a(x,m,w)(),g[0]===Ow)return g;m=typeof g[1]=="number"?g[1]:m+o}}return p}}}function aW(t){return Array.isArray(t)?t:typeof t=="number"?[iW,t]:t==null?gT:[t]}function vT(t,e,n,r){let i,s,o;typeof e=="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),oW(t,s,a,i);function a(l,c){const u=c[c.length-1],h=u?u.children.indexOf(l):void 0;return o(l,h,u)}}const pm={}.hasOwnProperty,lW={};function cW(t,e){const n=e||lW,r=new Map,i=new Map,s=new Map,o={...WH,...n.handlers},a={all:c,applyData:dW,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:uW,wrap:fW};return vT(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?r:i,f=String(u.identifier).toUpperCase();h.has(f)||h.set(f,u)}}),a;function l(u,h){const f=u.type,p=a.handlers[f];if(pm.call(a.handlers,f)&&p)return p(a,u,h);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in u){const{children:m,...w}=u,v=Vu(w);return v.children=a.all(u),v}return Vu(u)}return(a.options.unknownHandler||hW)(a,u,h)}function c(u){const h=[];if("children"in u){const f=u.children;let p=-1;for(;++p<f.length;){const g=a.one(f[p],u);if(g){if(p&&f[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=Lw(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=Lw(m.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function uW(t,e){t.position&&(e.position=KV(t))}function dW(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Vu(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function hW(t,e){const n=e.data||{},r="value"in e&&!(pm.call(n,"hProperties")||pm.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function fW(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Lw(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function $w(t,e){const n=cW(t,e),r=n.one(t,void 0),i=QH(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function pW(t,e){return t&&"run"in t?async function(n,r){const i=$w(n,{file:r,...e});await t.run(i,r)}:function(n,r){return $w(n,{file:r,...t||e})}}function Dw(t){if(t)throw t}var qc=Object.prototype.hasOwnProperty,yT=Object.prototype.toString,zw=Object.defineProperty,Fw=Object.getOwnPropertyDescriptor,Bw=function(e){return typeof Array.isArray=="function"?Array.isArray(e):yT.call(e)==="[object Array]"},Vw=function(e){if(!e||yT.call(e)!=="[object Object]")return!1;var n=qc.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&qc.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||qc.call(e,i)},Uw=function(e,n){zw&&n.name==="__proto__"?zw(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Hw=function(e,n){if(n==="__proto__")if(qc.call(e,n)){if(Fw)return Fw(e,n).value}else return;return e[n]},mW=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=Hw(a,n),i=Hw(e,n),a!==i&&(u&&i&&(Vw(i)||(s=Bw(i)))?(s?(s=!1,o=r&&Bw(r)?r:[]):o=r&&Vw(r)?r:{},Uw(a,{name:n,newValue:t(u,o,i)})):typeof i<"u"&&Uw(a,{name:n,newValue:i}));return a};const yf=cr(mW);function mm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function gW(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=t[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,u?vW(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function vW(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const Kn={basename:yW,dirname:xW,extname:wW,join:bW,sep:"/"};function yW(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');zl(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function xW(t){if(zl(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function wW(t){zl(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function bW(...t){let e=-1,n;for(;++e<t.length;)zl(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":SW(n)}function SW(t){zl(t);const e=t.codePointAt(0)===47;let n=kW(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function kW(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function zl(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const CW={cwd:EW};function EW(){return"/"}function gm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function _W(t){if(typeof t=="string")t=new URL(t);else if(!gm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return NW(t)}function NW(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const xf=["history","path","basename","stem","extname","dirname"];class xT{constructor(e){let n;e?gm(e)?n={path:e}:typeof e=="string"||TW(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":CW.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<xf.length;){const s=xf[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)xf.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Kn.basename(this.path):void 0}set basename(e){bf(e,"basename"),wf(e,"basename"),this.path=Kn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Kn.dirname(this.path):void 0}set dirname(e){Ww(this.basename,"dirname"),this.path=Kn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Kn.extname(this.path):void 0}set extname(e){if(wf(e,"extname"),Ww(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Kn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){gm(e)&&(e=_W(e)),bf(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Kn.basename(this.path,this.extname):void 0}set stem(e){bf(e,"stem"),wf(e,"stem"),this.path=Kn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new _t(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function wf(t,e){if(t&&t.includes(Kn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Kn.sep+"`")}function bf(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Ww(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function TW(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const PW=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},AW={}.hasOwnProperty;class Mv extends PW{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=gW()}copy(){const e=new Mv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(yf(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Cf("data",this.frozen),this.namespace[e]=n,this):AW.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Cf("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=kc(e),r=this.parser||this.Parser;return Sf("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Sf("process",this.parser||this.Parser),kf("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=kc(e),l=r.parse(a);r.run(l,a,function(u,h,f){if(u||!h||!f)return c(u);const p=h,g=r.stringify(p,f);RW(g)?f.value=g:f.result=g,c(u,f)});function c(u,h){u||!h?o(u):s?s(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),Sf("processSync",this.parser||this.Parser),kf("processSync",this.compiler||this.Compiler),this.process(e,i),Kw("processSync","process",n),r;function i(s,o){n=!0,Dw(s),r=o}}run(e,n,r){qw(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=kc(n);i.run(e,l,c);function c(u,h,f){const p=h||e;u?a(u):o?o(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),Kw("runSync","run",r),i;function s(o,a){Dw(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=kc(n),i=this.compiler||this.Compiler;return kf("stringify",i),qw(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Cf("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...h]=c;l(u,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=yf(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const h=c[u];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===c){f=h;break}if(f===-1)r.push([c,...u]);else if(u.length>0){let[p,...g]=u;const m=r[f][1];mm(m)&&mm(p)&&(p=yf(!0,m,p)),r[f]=[c,p,...g]}}}}const jW=new Mv().freeze();function Sf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function kf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Cf(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qw(t){if(!mm(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Kw(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function kc(t){return MW(t)?t:new xT(t)}function MW(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function RW(t){return typeof t=="string"||IW(t)}function IW(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const OW="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Yw=[],Gw={allowDangerousHtml:!0},LW=/^(https?|ircs?|mailto|xmpp)$/i,$W=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function DW(t){const e=zW(t),n=FW(t);return BW(e.runSync(e.parse(n),n),t)}function zW(t){const e=t.rehypePlugins||Yw,n=t.remarkPlugins||Yw,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Gw}:Gw;return jW().use(xH).use(n).use(pW,r).use(e)}function FW(t){const e=t.children||"",n=new xT;return typeof e=="string"&&(n.value=e),n}function BW(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||VW;for(const u of $W)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+OW+u.id,void 0);return vT(t,c),QV(t,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function c(u,h,f){if(u.type==="raw"&&f&&typeof h=="number")return o?f.children.splice(h,1):f.children[h]={type:"text",value:u.value},h;if(u.type==="element"){let p;for(p in mf)if(Object.hasOwn(mf,p)&&Object.hasOwn(u.properties,p)){const g=u.properties[p],m=mf[p];(m===null||m.includes(u.tagName))&&(u.properties[p]=l(String(g||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):s?s.includes(u.tagName):!1;if(!p&&r&&typeof h=="number"&&(p=!r(u,h,f)),p&&f&&typeof h=="number")return a&&u.children?f.children.splice(h,1,...u.children):f.children.splice(h,1),h}}}function VW(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||LW.test(t.slice(0,e))?t:""}const UW=()=>{const{categoryId:t,articleId:e}=gs(),n=ct(),{tg:r}=qt(),i=Jt(l=>l.getArticleByIds),s=Jt(l=>l.getCategoryById),o=y.useMemo(()=>i(t||"",e||""),[t,e,i]),a=y.useMemo(()=>s(t||""),[t,s]);if(y.useEffect(()=>{const l=()=>n(`/faq/${t}`);return r&&(r.BackButton.show(),r.onEvent("backButtonClicked",l),F.log("[FaqArticlePage] Telegram BackButton shown and handler attached.")),()=>{r&&(r.BackButton.hide(),r.offEvent("backButtonClicked",l),F.log("[FaqArticlePage] Telegram BackButton hidden and handler removed."))}},[r,n,t]),!a||!(a.isActive??!0)||!o||!o.content){const l=!a||!(a.isActive??!0)?` FAQ "${t}"    .`:` FAQ "${e}"      .`;return d.jsx("div",{className:"p-4 text-center",children:d.jsx(ft,{message:l})})}return d.jsxs("div",{className:"p-4 pb-6 flex flex-col h-full",children:[d.jsxs("div",{className:"relative flex items-center justify-center h-12 mb-4 flex-shrink-0 border-b pb-4",children:[d.jsx("div",{className:"absolute left-0 h-9 w-9"})," ",d.jsx("h1",{className:"text-lg font-semibold text-center truncate max-w-[calc(100%-5rem)]",title:o.title,children:o.title}),d.jsx("div",{className:"h-9 w-9 absolute right-0"})," "]}),d.jsx("div",{className:W("flex-grow overflow-y-auto no-scrollbar","prose prose-sm dark:prose-invert","max-w-none","prose-headings:font-semibold prose-a:text-primary hover:prose-a:underline","prose-li:my-1 prose-p:leading-relaxed","prose-strong:font-semibold","prose-headings:mt-6 prose-headings:mb-2 first:prose-headings:mt-0","prose-ul:pl-5 prose-ol:pl-5"),children:d.jsx(DW,{children:o.content})})]})},HW=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(!1),{toast:o}=Bn(),a=ct(),l=Er(f=>f.login),c=wn(f=>f.login),u=async()=>{var f;s(!0);try{console.log("[AdminLogin] Attempting login via /Account/LoginByLogPassPair...");const p=await L4(t,n);if(p.isSuccess&&((f=p.resultObject)!=null&&f.jwt))console.log("[AdminLogin] API login successful. Setting user and admin state."),c(p.resultObject.userId,p.resultObject.jwt),l(),o({title:" ",description:" , !",variant:"success"}),a("/admin/panel");else throw new Error(p.errorMessage||"  .    .")}catch(p){console.error("[AdminLogin] Login failed:",p),o({title:" ",description:p.message||"  .",variant:"destructive"}),s(!1)}},h=t.length>0&&n.length>0&&!i;return d.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-muted/40",children:d.jsxs(mt,{className:"w-full max-w-sm shadow-lg rounded-xl",children:[d.jsxs(dr,{className:"items-center text-center space-y-2 pt-8 pb-6",children:[d.jsx(Rk,{className:"h-12 w-12 text-primary mb-2"}),d.jsx(zr,{className:"text-2xl font-bold",children:"  "}),d.jsx(yd,{children:"  "})]}),d.jsxs(Wt,{className:"space-y-5 px-6 pb-8",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(at,{htmlFor:"username",children:""}),d.jsx(Rn,{id:"username",type:"text",placeholder:" ",value:t,onChange:f=>e(f.target.value),disabled:i,autoComplete:"username"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(at,{htmlFor:"password",children:""}),d.jsx(Rn,{id:"password",type:"password",placeholder:"",value:n,onChange:f=>r(f.target.value),disabled:i,autoComplete:"current-password"})]}),d.jsx(Se,{className:"w-full h-11 text-base font-semibold mt-4",onClick:u,disabled:!h,children:i?d.jsx(Ce,{size:"sm"}):""}),d.jsx(Se,{variant:"link",className:"text-xs text-muted-foreground hover:text-primary h-auto p-0 w-full mt-2",onClick:()=>a("/login"),children:"   "})]})]})})};var Rv="Switch",[WW,x8]=It(Rv),[qW,KW]=WW(Rv),wT=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...h}=t,[f,p]=y.useState(null),g=Pe(e,b=>p(b)),m=y.useRef(!1),w=f?u||!!f.closest("form"):!0,[v=!1,x]=bn({prop:i,defaultProp:s,onChange:c});return d.jsxs(qW,{scope:n,checked:v,disabled:a,children:[d.jsx(ae.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":kT(v),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:g,onClick:le(t.onClick,b=>{x(S=>!S),w&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),w&&d.jsx(YW,{control:f,bubbles:!m.current,name:r,value:l,checked:v,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});wT.displayName=Rv;var bT="SwitchThumb",ST=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=KW(bT,n);return d.jsx(ae.span,{"data-state":kT(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});ST.displayName=bT;var YW=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=y.useRef(null),o=Ad(n),a=Td(e);return y.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(l,n),l.dispatchEvent(f)}},[o,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function kT(t){return t?"checked":"unchecked"}var CT=wT,GW=ST;const Iv=y.forwardRef(({className:t,...e},n)=>d.jsx(CT,{className:W("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:d.jsx(GW,{className:W("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Iv.displayName=CT.displayName;var ET="AlertDialog",[ZW,w8]=It(ET,[$E]),Vr=$E(),_T=t=>{const{__scopeAlertDialog:e,...n}=t,r=Vr(e);return d.jsx(JE,{...r,...n,modal:!0})};_T.displayName=ET;var XW="AlertDialogTrigger",NT=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Vr(n);return d.jsx(BF,{...i,...r,ref:e})});NT.displayName=XW;var QW="AlertDialogPortal",TT=t=>{const{__scopeAlertDialog:e,...n}=t,r=Vr(e);return d.jsx(e_,{...r,...n})};TT.displayName=QW;var JW="AlertDialogOverlay",PT=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Vr(n);return d.jsx(Gg,{...i,...r,ref:e})});PT.displayName=JW;var uo="AlertDialogContent",[e9,t9]=ZW(uo),AT=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=Vr(n),o=y.useRef(null),a=Pe(e,o),l=y.useRef(null);return d.jsx($F,{contentName:uo,titleName:jT,docsSlug:"alert-dialog",children:d.jsx(e9,{scope:n,cancelRef:l,children:d.jsxs(Zg,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:le(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(Yk,{children:r}),d.jsx(r9,{contentRef:o})]})})})});AT.displayName=uo;var jT="AlertDialogTitle",MT=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Vr(n);return d.jsx(Xg,{...i,...r,ref:e})});MT.displayName=jT;var RT="AlertDialogDescription",IT=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Vr(n);return d.jsx(Qg,{...i,...r,ref:e})});IT.displayName=RT;var n9="AlertDialogAction",OT=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Vr(n);return d.jsx(Ld,{...i,...r,ref:e})});OT.displayName=n9;var LT="AlertDialogCancel",$T=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=t9(LT,n),s=Vr(n),o=Pe(e,i);return d.jsx(Ld,{...s,...r,ref:o})});$T.displayName=LT;var r9=({contentRef:t})=>{const e=`\`${uo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${uo}\` by passing a \`${RT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${uo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},i9=_T,s9=NT,o9=TT,DT=PT,zT=AT,FT=OT,BT=$T,VT=MT,UT=IT;const HT=i9,WT=s9,a9=o9,qT=y.forwardRef(({className:t,...e},n)=>d.jsx(DT,{className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));qT.displayName=DT.displayName;const Ov=y.forwardRef(({className:t,...e},n)=>d.jsxs(a9,{children:[d.jsx(qT,{}),d.jsx(zT,{ref:n,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Ov.displayName=zT.displayName;const Lv=({className:t,...e})=>d.jsx("div",{className:W("flex flex-col space-y-2 text-center sm:text-left",t),...e});Lv.displayName="AlertDialogHeader";const $v=({className:t,...e})=>d.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});$v.displayName="AlertDialogFooter";const Dv=y.forwardRef(({className:t,...e},n)=>d.jsx(VT,{ref:n,className:W("text-lg font-semibold",t),...e}));Dv.displayName=VT.displayName;const zv=y.forwardRef(({className:t,...e},n)=>d.jsx(UT,{ref:n,className:W("text-sm text-muted-foreground",t),...e}));zv.displayName=UT.displayName;const Fv=y.forwardRef(({className:t,...e},n)=>d.jsx(FT,{ref:n,className:W(jl(),t),...e}));Fv.displayName=FT.displayName;const Bv=y.forwardRef(({className:t,...e},n)=>d.jsx(BT,{ref:n,className:W(jl({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Bv.displayName=BT.displayName;const Vv=(t,e)=>{var r;if(!t||t.data===null||typeof t.data>"u"||typeof t.data.isSuccess!="boolean"){console.error("[API Helper] Invalid/Undefined Response Structure:",t);let i=e;return(t==null?void 0:t.data)===null?i="Received null data from server.":(r=t==null?void 0:t.data)!=null&&r.errorMessage?i=t.data.errorMessage:t!=null&&t.statusText&&(i=t.statusText),{isSuccess:!1,errorMessage:i,resultObject:null}}return t.data},Uv=(t,e)=>{var r,i,s,o;console.error(`[API Error Handler] ${e}:`,t);let n=e;return t instanceof Error?n=t.message:typeof t=="string"?n=t:((r=t==null?void 0:t.response)==null?void 0:r.status)===401||((i=t==null?void 0:t.response)==null?void 0:i.status)===403?n="  .   .":t!=null&&t.response?n=`Request failed (${t.response.status}): ${((s=t.response.data)==null?void 0:s.errorMessage)||((o=t.response.data)==null?void 0:o.title)||t.response.statusText||"Server error"}`:t!=null&&t.request?n="No response received from server.":t!=null&&t.errorMessage&&(n=t.errorMessage),{isSuccess:!1,errorMessage:n,resultObject:null}},l9=async()=>{const t="Failed to trigger Moex assets update.";console.log("[API/Admin] Triggering Moex assets update...");try{const e=await et.post("/api/Admin/FillDatabaseWithMoexAssets");return console.log("[API/Admin] Update Moex Assets response:",e==null?void 0:e.data),Vv(e,t)}catch(e){return Uv(e,t)}},c9=async t=>{const e="Failed to get system variables.";if(!t||t.length===0)return{isSuccess:!0,errorMessage:null,resultObject:[]};console.log("[API/SystemVariables] Getting variables:",t);try{const n={SystemVariableNames:t},r=await et.post("/api/SystemVariables/GetSystemVariables",n);console.log("[API/SystemVariables] Get response:",r==null?void 0:r.data);const i=Vv(r,e);return i.isSuccess&&i.resultObject===null&&(i.resultObject=[]),i}catch(n){return Uv(n,e)}},u9=async t=>{const e="Failed to set system variables.";if(!t||t.length===0)return{isSuccess:!1,errorMessage:"No variables provided to set.",resultObject:null};console.log("[API/SystemVariables] Setting variables:",t);try{const n={SystemVariables:t},r=await et.post("/api/SystemVariables/SetSystemVariables",n);return console.log("[API/SystemVariables] Set response:",r==null?void 0:r.data),Vv(r,e)}catch(n){return Uv(n,e)}},Yr=[{name:"telegramLink",backendName:"chat_link",label:"  Telegram ",placeholder:"https://t.me/your_chat",type:"url"}],d9=()=>{var ue;const[t,e]=y.useState(!1),[n,r]=y.useState({}),[i,s]=y.useState({}),[o,a]=y.useState(!0),[l,c]=y.useState(null),[u,h]=y.useState(!1),{toast:f}=Bn(),p=ct(),g=cn(),m=Er(q=>q.logout),w=wn(q=>q.logout),{tg:v}=qt(),{categories:x,toggleCategoryActive:b,addCategory:S,deleteCategory:k,updateCategoryTitle:C}=Jt(),[_,T]=y.useState(""),[j,R]=y.useState(!1),[O,A]=y.useState(null),[B,I]=y.useState(""),L=y.useCallback(async()=>{const q=Yr.map(U=>U.backendName||U.name);if(q.length===0){a(!1);return}F.log("[AdminPanelPage] Fetching system variables (backend names):",q),a(!0),c(null);try{const U=await c9(q);if(U.isSuccess&&U.resultObject){const J={};Yr.forEach(ie=>{var gt;const Te=ie.backendName||ie.name,Re=(gt=U.resultObject)==null?void 0:gt.find(Ot=>Ot.name===Te);J[ie.name]=(Re==null?void 0:Re.value)||""}),r(J),s(J),F.log("[AdminPanelPage] System variables fetched (UI state):",J)}else throw new Error(U.errorMessage||"    .")}catch(U){F.error("[AdminPanelPage] Error fetching system variables:",U),c(U.message);const J={};Yr.forEach(ie=>J[ie.name]=""),r(J),s(J)}finally{a(!1)}},[]);y.useEffect(()=>{L()},[L]),y.useEffect(()=>{var J;const q=((J=g.state)==null?void 0:J.fromProfile)===!0,U=()=>p("/profile");return q&&v?(v.BackButton.show(),v.onEvent("backButtonClicked",U),F.log("[AdminPanelPage] Telegram BackButton shown and handler attached.")):v&&(v.BackButton.hide(),F.log("[AdminPanelPage] Telegram BackButton hidden.")),()=>{v&&(v.BackButton.hide(),v.offEvent("backButtonClicked",U),F.log("[AdminPanelPage] Telegram BackButton hidden and handler removed."))}},[v,p,(ue=g.state)==null?void 0:ue.fromProfile]);const M=async()=>{e(!0),F.log("[AdminPanelPage] Triggering Moex assets update...");try{const q=await l9();if(q.isSuccess)f({title:" ",description:"      .",variant:"success"});else throw new Error(q.errorMessage||"   .")}catch(q){F.error("[AdminPanelPage] Error triggering Moex update:",q),f({title:" ",description:q.message,variant:"destructive"})}finally{e(!1)}},D=(q,U)=>{r(J=>({...J,[q]:U}))},P=async()=>{const q=Yr.filter(U=>n[U.name]!==i[U.name]).map(U=>({Name:U.backendName||U.name,Value:n[U.name]}));if(q.length===0){f({title:" ",description:"     .",duration:2e3});return}h(!0),c(null),F.log("[AdminPanelPage] Saving system variables payload:",q);try{const U=await u9(q);if(U.isSuccess){const J={...i};q.forEach(ie=>{const Te=Yr.find(Re=>(Re.backendName||Re.name)===ie.Name);Te&&(J[Te.name]=ie.Value)}),s(J),f({title:" ",description:` ${q.length} .`,variant:"success"})}else throw new Error(U.errorMessage||"   .")}catch(U){F.error("[AdminPanelPage] Error saving system variables:",U),c(U.message),f({title:" ",description:U.message,variant:"destructive"})}finally{h(!1)}},$=()=>{F.log("[AdminPanelPage] Logging out..."),m(),w(),f({title:" ",duration:2e3}),p("/login")},E=y.useCallback(q=>{b(q);const U=Jt.getState().categories.find(J=>J.id===q);f({title:` "${(U==null?void 0:U.title)||q}"`,description:` ${U!=null&&U.isActive?"":""}`,duration:2e3})},[b,f]),z=y.useCallback(()=>{const q=_.trim();q?(R(!0),S(q)?(f({title:" ",description:`"${q}"`,variant:"success"}),T("")):f({title:"",description:"   .",variant:"destructive"}),R(!1)):f({title:"",description:"     .",variant:"destructive"})},[_,S,f]),X=y.useCallback((q,U)=>{k(q),f({title:" ",description:`"${U}"`,variant:"success"})},[k,f]),N=y.useCallback((q,U)=>{A(q),I(U)},[]),oe=y.useCallback(()=>{A(null),I("")},[]),be=y.useCallback(()=>{O&&B.trim()?(C(O,B),f({title:" ",variant:"success",duration:1500}),oe()):f({title:"",description:"    .",variant:"destructive"})},[O,B,C,f,oe]),he=y.useCallback(q=>{p(`/admin/faq/${q}`)},[p]),te=Yr.some(q=>n[q.name]!==i[q.name]);return d.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-muted/40 overflow-y-auto",children:d.jsxs(mt,{className:"w-full max-w-lg shadow-lg rounded-xl my-auto",children:[d.jsxs(dr,{className:"items-center text-center pt-6 pb-4 border-b relative",children:[d.jsx(zr,{className:"text-xl font-bold",children:" "}),d.jsx(yd,{children:" "})]}),d.jsxs(Wt,{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-card",children:[d.jsxs(at,{className:"flex items-center gap-2 font-medium text-base",children:[d.jsx(BO,{className:"h-5 w-5 text-primary"}),"  "]}),d.jsx(Se,{className:"w-full h-10",onClick:M,disabled:t,children:t?d.jsx(Ce,{size:"sm"}):"   "})]}),d.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-card",children:[d.jsxs(at,{className:"flex items-center gap-2 font-medium text-base",children:[d.jsx(QO,{className:"h-5 w-5 text-primary"})," "]}),o?d.jsx("div",{className:"flex justify-center p-4",children:d.jsx(Ce,{})}):l?d.jsx(ft,{message:l}):Yr.map(q=>d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(at,{htmlFor:q.name,children:q.label}),d.jsx(Rn,{id:q.name,type:q.type||"text",value:n[q.name]??"",onChange:U=>D(q.name,U.target.value),placeholder:q.placeholder||"",disabled:u,className:"h-10"})]},q.name)),!o&&!l&&Yr.length>0&&d.jsx(Se,{className:"w-full h-10 mt-3",onClick:P,disabled:u||!te,children:u?d.jsx(Ce,{size:"sm"}):" "})]}),d.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-card",children:[d.jsxs(at,{className:"flex items-center gap-2 font-medium text-base",children:[d.jsx(Tk,{className:"h-5 w-5 text-primary"})," FAQ"]}),d.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2 -mr-2",children:x.map(q=>d.jsxs("div",{className:W("flex items-center justify-between gap-2 p-2 rounded hover:bg-muted/50",!q.isActive&&"opacity-60"),children:[O===q.id?d.jsxs("div",{className:"flex items-center gap-1 flex-grow",children:[d.jsx(Rn,{value:B,onChange:U=>I(U.target.value),className:"h-8 text-sm flex-grow",autoFocus:!0,onKeyDown:U=>U.key==="Enter"&&be()}),d.jsx(Se,{variant:"ghost",size:"icon",className:"h-7 w-7 text-success",onClick:be,children:d.jsx(Sg,{size:16})}),d.jsx(Se,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground",onClick:oe,children:d.jsx(vd,{size:16})})]}):d.jsxs("span",{className:"text-sm flex-grow mr-1 truncate cursor-pointer group",onClick:()=>N(q.id,q.title),children:[q.title,d.jsx(Mk,{className:"h-3 w-3 inline-block ml-1 text-muted-foreground opacity-0 group-hover:opacity-60 transition-opacity"})]}),d.jsxs("div",{className:"flex items-center flex-shrink-0",children:[d.jsx(Iv,{id:`faq-active-${q.id}`,checked:q.isActive??!0,onCheckedChange:()=>E(q.id),className:"mr-2 scale-75","aria-label":`  ${q.title}`}),d.jsxs(Se,{variant:"ghost",size:"icon",className:"h-7 w-7 text-blue-600 hover:text-blue-700",onClick:()=>he(q.id),children:[d.jsx(Ik,{className:"h-4 w-4"}),d.jsxs("span",{className:"sr-only",children:["  ",q.title]})]}),d.jsxs(HT,{children:[d.jsx(WT,{asChild:!0,children:d.jsxs(Se,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",children:[d.jsx(Ok,{className:"h-4 w-4"}),d.jsxs("span",{className:"sr-only",children:["  ",q.title]})]})}),d.jsxs(Ov,{children:[d.jsxs(Lv,{children:[d.jsx(Dv,{children:" ?"}),d.jsxs(zv,{children:[' ,     "',q.title||" ",'"     ?   .']})]}),d.jsxs($v,{children:[d.jsx(Bv,{children:""}),d.jsx(Fv,{onClick:()=>X(q.id,q.title||""),className:jl({variant:"destructive"}),children:""})]})]})]})]})]},q.id))}),d.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t",children:[d.jsx(Rn,{type:"text",placeholder:"  ...",value:_,onChange:q=>T(q.target.value),className:"h-9 flex-grow",disabled:j,onKeyDown:q=>q.key==="Enter"&&z()}),d.jsx(Se,{size:"sm",onClick:z,disabled:j||!_.trim(),className:"gap-1 h-9",children:j?d.jsx(Ce,{size:"sm"}):d.jsxs(d.Fragment,{children:[d.jsx(Pk,{size:16})," "]})})]})]}),d.jsxs(Se,{variant:"outline",className:"w-full mt-4 h-10",onClick:$,children:[d.jsx(jk,{className:"h-4 w-4 mr-2"}),"  "]})]})]})})},KT=y.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));KT.displayName="Textarea";const h9=({isOpen:t,onClose:e,categoryId:n,article:r})=>{const{toast:i}=Bn(),{updateArticle:s,addArticle:o}=Jt(),[a,l]=y.useState(""),[c,u]=y.useState(""),[h,f]=y.useState(!1),p=r!=null;y.useEffect(()=>{t?(l(p?(r==null?void 0:r.title)??"":""),u(p?(r==null?void 0:r.content)??"":""),console.log(`[FaqArticleEditModal] Initialized. Mode: ${p?"Edit":"Create"}. Article ID: ${r==null?void 0:r.id}`)):(l(""),u(""))},[t,r,p]);const g=y.useCallback(async()=>{if(!a.trim()){i({title:"",description:"     .",variant:"destructive"});return}f(!0);try{if(p&&r){console.log(`[FaqArticleEditModal] Updating article ${r.id}`);const w={},v=a.trim();v&&v!==((r==null?void 0:r.title)??"")&&(w.title=v),c!==((r==null?void 0:r.content)??"")&&(w.content=c),Object.keys(w).length>0&&s(n,r.id,w),i({title:"",description:` "${v}" .`,variant:"success"})}else{if(p)throw new Error(":    .");if(console.log(`[FaqArticleEditModal] Adding new article to category ${n}`),o(n,a,c))i({title:" ",description:`"${a.trim()}"`,variant:"success"});else throw new Error("     .")}await new Promise(w=>setTimeout(w,200)),e()}catch(w){console.error("[FaqArticleEditModal] Save error:",w),i({title:" ",description:w.message||"   .",variant:"destructive"})}finally{f(!1)}},[p,r,n,a,c,s,o,e,i]),m=p?`     "${(r==null?void 0:r.title)||"(...)"}".`:"    .";return d.jsx(ka,{open:t,onOpenChange:e,children:d.jsxs(ro,{className:"max-w-3xl w-[90vw] h-[85vh] flex flex-col",children:[d.jsxs(io,{children:[d.jsx(so,{children:p?" ":"  "}),d.jsxs(Ca,{children:[m,"  Markdown."]})]}),d.jsxs("div",{className:"grid gap-4 py-4 flex-grow overflow-y-auto pr-6 -mr-6 pl-1",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(at,{htmlFor:"article-title",children:""}),d.jsx(Rn,{id:"article-title",value:a,onChange:w=>l(w.target.value),placeholder:"  ...",disabled:h,className:"text-base"})]}),d.jsxs("div",{className:"space-y-1 flex flex-col flex-grow",children:[d.jsx(at,{htmlFor:"article-content",children:" (Markdown)"}),d.jsx(KT,{id:"article-content",value:c,onChange:w=>u(w.target.value),placeholder:"  ...",disabled:h,className:"text-sm font-mono flex-grow"})]})]}),d.jsxs(Jg,{className:"mt-4 flex-shrink-0 pt-4 border-t",children:[d.jsx(t_,{asChild:!0,children:d.jsx(Se,{type:"button",variant:"outline",disabled:h,children:""})}),d.jsx(Se,{type:"button",onClick:g,disabled:h||!a.trim(),children:h?d.jsx(Ce,{size:"sm"}):d.jsxs(d.Fragment,{children:[d.jsx(Sg,{size:16,className:"mr-1.5"})," ",p?"":""]})})]})]})})},f9=()=>{const{categoryId:t}=gs(),e=ct(),{toast:n}=Bn(),{deleteArticle:r,updateCategoryTitle:i,toggleCategoryActive:s}=Jt(),o=Jt.persist.hasHydrated(),{tg:a}=qt(),l=Jt(B=>{if(!o||!t)return;const I=B.categories.find(L=>L.id===t);return I?{id:I.id,title:I.title,articles:I.articles,isActive:I.isActive??!0}:void 0},eo),[c,u]=y.useState(void 0),[h,f]=y.useState(!1),[p,g]=y.useState(null),[m,w]=y.useState("");y.useEffect(()=>{f(c!==void 0)},[c]),y.useEffect(()=>{const B=()=>e("/admin/panel");return a&&(a.BackButton.show(),a.onEvent("backButtonClicked",B),F.log("[AdminFaqCategoryPage] Telegram BackButton shown and handler attached.")),()=>{a&&(a.BackButton.hide(),a.offEvent("backButtonClicked",B),F.log("[AdminFaqCategoryPage] Telegram BackButton hidden and handler removed."))}},[a,e]);const v=y.useCallback(B=>{u(B)},[]),x=y.useCallback(()=>{u(null)},[]),b=y.useCallback((B,I)=>{t&&(r(t,B),n({title:" ",description:`"${I}"`,variant:"success"}))},[t,r,n]),S=y.useCallback(()=>{u(void 0)},[]),k=y.useCallback((B,I)=>{g(B),w(I)},[]),C=y.useCallback(()=>{g(null),w("")},[]),_=y.useCallback(()=>{p&&m.trim()?(i(p,m),n({title:" ",variant:"success",duration:1500}),C()):n({title:"",description:"    .",variant:"destructive"})},[p,m,i,n,C]),T=y.useCallback(B=>{s(B);const I=Jt.getState().categories.find(L=>L.id===B);n({title:` "${(I==null?void 0:I.title)||B}"`,description:` ${I!=null&&I.isActive?"":""}`,duration:2e3})},[s,n]);if(!o)return d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx(Ce,{size:"lg"})});if(!l)return d.jsx("div",{className:"p-4 text-center",children:d.jsx(ft,{message:` FAQ "${t}"  .`})});const{id:j,title:R,articles:O,isActive:A}=l;return d.jsxs("div",{className:"p-4 space-y-4 pb-4 flex flex-col h-full",children:[d.jsxs("div",{className:"relative flex items-center justify-center h-12 mb-2 flex-shrink-0",children:[d.jsx("div",{className:"absolute left-0 h-9 w-9"})," ",p===j?d.jsxs("div",{className:"flex items-center gap-1 flex-grow mx-10",children:[d.jsx(Rn,{value:m,onChange:B=>w(B.target.value),className:"h-9 text-lg font-semibold text-center flex-grow",autoFocus:!0,onKeyDown:B=>B.key==="Enter"&&_()}),d.jsx(Se,{variant:"ghost",size:"icon",className:"h-8 w-8 text-success",onClick:_,children:d.jsx(Sg,{size:18})}),d.jsx(Se,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground",onClick:C,children:d.jsx(vd,{size:18})})]}):d.jsxs("h1",{className:"text-lg font-semibold text-center truncate max-w-[calc(100%-5rem)] cursor-pointer group",title:`  "${R}"`,onClick:()=>k(j,R),children:[R,d.jsx(Mk,{className:"h-3.5 w-3.5 inline-block ml-1.5 text-muted-foreground opacity-0 group-hover:opacity-60 transition-opacity"})]}),d.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 flex items-center gap-1",children:d.jsx(Iv,{id:`faq-active-${j}`,checked:A,onCheckedChange:()=>T(j),"aria-label":`  ${R}`})})]}),d.jsxs(mt,{className:"flex-grow shadow-sm border rounded-lg overflow-hidden flex flex-col",children:[d.jsx(dr,{className:"px-4 pt-4 pb-2 border-b",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(zr,{className:"text-base",children:"  "}),d.jsxs(Se,{size:"sm",variant:"outline",onClick:x,className:"gap-1",children:[d.jsx(Pk,{size:16}),"  "]})]})}),d.jsx(Wt,{className:"p-0 flex-grow overflow-y-auto no-scrollbar",children:O.length>0?d.jsx("div",{className:"divide-y divide-border/60",children:O.map(B=>d.jsxs("div",{className:W("flex items-center justify-between gap-2 p-3 hover:bg-muted/50",!A&&"opacity-60"),children:[d.jsx("span",{className:"text-sm flex-grow mr-2 truncate",children:B.title}),d.jsxs("div",{className:"flex items-center flex-shrink-0",children:[d.jsxs(Se,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700",onClick:()=>v(B),children:[d.jsx(Ik,{className:"h-4 w-4"}),d.jsxs("span",{className:"sr-only",children:["  ",B.title]})]}),d.jsxs(HT,{children:[d.jsx(WT,{asChild:!0,children:d.jsxs(Se,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",children:[d.jsx(Ok,{className:"h-4 w-4"}),d.jsxs("span",{className:"sr-only",children:["  ",B.title]})]})}),d.jsxs(Ov,{children:[d.jsxs(Lv,{children:[d.jsx(Dv,{children:" ?"}),d.jsxs(zv,{children:[' ,     "',B.title||" ",'"?   .']})]}),d.jsxs($v,{children:[d.jsx(Bv,{children:""}),d.jsx(Fv,{onClick:()=>b(B.id,B.title||""),className:jl({variant:"destructive"}),children:""})]})]})]})]})]},B.id))}):d.jsx("p",{className:"p-6 text-center text-muted-foreground",children:"     ."})})]}),j&&d.jsx(h9,{isOpen:h,onClose:S,categoryId:j,article:c})]})},p9=()=>{const{id:t}=gs(),e=Number(t),n=ct(),{tg:r}=qt(),[i,s]=y.useState(null),[o,a]=y.useState("1M"),[l,c]=y.useState("line"),[u,h]=y.useState(null),[f,p]=y.useState(!0),[g,m]=y.useState(!0),[w,v]=y.useState(null),[x,b]=y.useState(null);y.useEffect(()=>{let C=!0;return(async()=>{if(!e||isNaN(e)){v(" ID ."),p(!1);return}p(!0),v(null);try{const T=await wk(e);C&&(T.isSuccess&&T.resultObject?s(T.resultObject):v(T.errorMessage||` ${e}  .`))}catch(T){C&&v(T.message||"   .")}finally{C&&p(!1)}})(),()=>{C=!1}},[e]),y.useEffect(()=>{const C=new AbortController,_=C.signal;return(async()=>{if(!(i!=null&&i.id)){h([]),m(!1),b(null);return}m(!0),b(null),F.log(`[FullscreenChartPage] Fetching history for asset ${i.id}, period ${o}`);try{const j=await Sk(i.id,o,{signal:_});_.aborted||(j.isSuccess&&Array.isArray(j.resultObject)?(h(j.resultObject),b(null),F.log(`[FullscreenChartPage] History loaded successfully. Points: ${j.resultObject.length}`)):(b(j.errorMessage||`     ${o}.`),h([])))}catch(j){j.name==="AbortError"?F.log(`[FullscreenChartPage] Fetch aborted for period ${o}`):_.aborted||(b(j.message||"   ."),h([]))}finally{_.aborted||m(!1)}})(),()=>{F.log(`[FullscreenChartPage] Aborting fetch for period ${o}`),C.abort()}},[i,o]),y.useEffect(()=>{const C=()=>n(`/asset/${e}`);return r&&(r.BackButton.show(),r.onEvent("backButtonClicked",C),F.log("[FullscreenChartPage] Telegram BackButton shown and handler attached.")),()=>{r&&(r.BackButton.hide(),r.offEvent("backButtonClicked",C),F.log("[FullscreenChartPage] Telegram BackButton hidden and handler removed."))}},[r,n,e]);const S=y.useMemo(()=>o==="1D"?"line":l,[o,l]),k=()=>d.jsxs("div",{className:"relative h-full w-full",children:[d.jsx("div",{className:W("absolute inset-0 transition-opacity duration-200",g?"opacity-50 pointer-events-none":"opacity-100"),children:u&&u.length>0?d.jsx(kN,{data:u,chartType:S,period:o}):!g&&!x?d.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"      ."}):null}),g&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/30 z-10",children:d.jsx(Ce,{size:"lg"})}),x&&!g&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 z-10",children:d.jsxs("div",{className:"text-center p-4 border border-destructive/50 rounded-md bg-destructive/10 text-destructive",children:[" ",d.jsx("span",{className:"text-2xl mr-2",children:""})," ",x," "]})})]});return f?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx(Ce,{size:"lg"})}):i?d.jsxs("div",{className:"flex flex-col h-screen bg-background text-foreground p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0 h-9",children:[d.jsx("div",{className:"w-9"})," ",d.jsxs("div",{className:"text-center",children:[" ",d.jsxs("h1",{className:"text-base font-semibold truncate",children:[i.ticker," - ",Co(i)]})," "]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Se,{variant:S==="line"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>c("line"),title:" ",children:d.jsx(Ak,{className:"h-4 w-4"})}),d.jsx(Se,{variant:S==="candle"?"secondary":"ghost",size:"icon",className:"h-8 w-8",onClick:()=>c("candle"),title:" ",disabled:o==="1D",children:d.jsx(Ck,{className:"h-4 w-4"})})]})]}),d.jsx("div",{className:"mb-4 flex-shrink-0",children:d.jsx(Yd,{defaultValue:o,onValueChange:C=>a(C),className:"w-full",children:d.jsxs($l,{className:"grid grid-cols-6 h-9 w-full",children:[d.jsx(wt,{value:"1D",className:"text-xs h-full",children:"1D"}),d.jsx(wt,{value:"1W",className:"text-xs h-full",children:"1W"}),d.jsx(wt,{value:"1M",className:"text-xs h-full",children:"1M"}),d.jsx(wt,{value:"1Y",className:"text-xs h-full",children:"1Y"}),d.jsx(wt,{value:"5Y",className:"text-xs h-full",children:"5Y"}),d.jsx(wt,{value:"ALL",className:"text-xs h-full",children:"All"})]})})}),d.jsx("div",{className:"flex-grow overflow-hidden",children:k()})]}):d.jsx("div",{className:"p-4 text-center",children:d.jsx(ft,{message:w||`  ID ${e}  .`})})},m9=t=>{const e=t.split(/:: |\n/);return e.length>1?e.map((n,r)=>{const i=n.trim();if(!i)return null;const s=i.match(/^(.+?):\s*(.*)$/);if(s){const o=s[1].replace(/\.$/,"").trim(),a=s[2];return d.jsxs("div",{className:"flex",children:[" ",d.jsxs("span",{className:"text-muted-foreground mr-1",children:[o,":"]})," ",d.jsx("span",{className:"flex-1",children:a})," "]},r)}return d.jsx("div",{children:i},r)}).filter(Boolean):t},g9=t=>t.match(/^\s+/i)?"":t.match(/^\s+/i)?"":t,v9=({notification:t})=>{const{markAsRead:e,isMarkingAsRead:n}=mn(),r=!t.readByUserAt,i=n.has(t.id),[s,o]=y.useState(!1),a=y.useRef(null),l=y.useRef(null),c=g=>{g.stopPropagation(),r&&!i&&(F.log(`[NotificationItem] Marking notification ${t.id} as read via custom menu.`),e(t.id).catch(m=>{F.error("[NotificationItem] Failed to mark as read (UI level):",m)}),o(!1))},u=()=>{r&&!i&&o(g=>!g)};y.useEffect(()=>{const g=m=>{l.current&&!l.current.contains(m.target)&&o(!1)};return s?document.addEventListener("mousedown",g):document.removeEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[s]);const h=Et(t.createdAt).tz("Europe/Moscow").format("D MMMM YYYY, HH:mm"),f=m9(t.content),p=g9(t.title);return d.jsxs("div",{ref:l,className:W("relative flex items-start p-4 space-x-3 transition-colors w-full text-left","bg-card",r&&"cursor-pointer hover:bg-muted/30",i&&"opacity-70 pointer-events-none"),onClick:u,"aria-label":` "${t.title}"`,children:[d.jsx("div",{className:"flex-shrink-0 pt-1 w-6 h-6 flex items-center justify-center",children:i?d.jsx(Ce,{size:"sm"}):r?d.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-blue-500 mt-1",title:""}):d.jsx(Ek,{className:"h-4 w-4 text-blue-600 dark:text-blue-500 opacity-80"})}),d.jsxs("div",{className:"flex-grow space-y-1",children:[d.jsxs("div",{className:"flex justify-between items-baseline",children:[d.jsxs("h4",{className:W("text-sm font-semibold leading-snug",r&&!i&&"font-bold"),children:[" ",p," "]}),d.jsxs("span",{className:"text-xs text-muted-foreground flex-shrink-0 ml-2 whitespace-nowrap",children:[" ",h," "]})]}),d.jsxs("div",{className:W("text-xs text-muted-foreground leading-snug space-y-0.5 mt-1"),children:[" ",f," "]})]}),s&&r&&d.jsx("div",{ref:a,className:W("absolute z-10 w-auto min-w-[150px] rounded-md border bg-popover p-1 text-popover-foreground shadow-md","top-2 left-9"),onClick:g=>g.stopPropagation(),children:d.jsxs(Se,{variant:"ghost",className:"w-full h-auto justify-start px-2 py-1.5 text-sm font-normal",onClick:c,disabled:i,children:[d.jsx(bg,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:" "})]})})]})},y9=()=>{const t=ct(),{tg:e}=qt(),{toast:n}=Bn(),{notifications:r,filterReadStatus:i,totalCount:s,isLoading:o,error:a,fetchNotifications:l,setFilter:c,resetNotifications:u,markAsRead:h}=mn(),f=y.useRef(null),[p,g]=y.useState(!1),m=i===!1?"unread":"all";y.useEffect(()=>(F.log("[NotificationsPage] Initializing, fetching first page."),l(1,i,!1),()=>{u()}),[l,u]),y.useEffect(()=>{const k=()=>t("/profile");return e&&(e.BackButton.show(),e.onEvent("backButtonClicked",k)),()=>{e&&(e.BackButton.hide(),e.offEvent("backButtonClicked",k))}},[e,t]);const w=y.useCallback(()=>{!o&&r.length<s&&l(void 0,void 0,!0)},[o,r.length,s,l]);y.useEffect(()=>{const k=f.current;if(!k)return;const C=new IntersectionObserver(([_])=>{_.isIntersecting&&!o&&r.length<s&&(F.log("Intersection observer triggered load more notifications"),w())},{threshold:.1});return C.observe(k),()=>{k&&C.unobserve(k)}},[o,r.length,s,w]);const v=k=>{F.log(`[NotificationsPage] Tab changed to: ${k}`);let C=null;k==="unread"&&(C=!1),c(C)},x=async()=>{const k=r.filter(T=>!T.readByUserAt).map(T=>T.id);if(k.length===0){n({title:"   ",duration:2e3});return}g(!0),F.log(`[NotificationsPage] Marking all ${k.length} visible unread notifications as read...`);let C=0,_=0;for(const T of k)try{await h(T)?C++:_++}catch(j){_++,F.error(`[NotificationsPage] Error in markAsRead loop for ID ${T}:`,j)}g(!1),F.log(`[NotificationsPage] Mark all finished. Success: ${C}, Errors: ${_}`),_>0?n({title:"",description:`   ${_} .`,variant:"destructive"}):C>0&&n({title:"",description:` ${C} .`,variant:"success"})},b=()=>o&&r.length===0?d.jsx("div",{className:"flex justify-center items-center h-48",children:d.jsx(Ce,{size:"lg"})}):a&&r.length===0?d.jsx("div",{className:"p-6",children:d.jsx(ft,{message:a})}):r.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-center text-muted-foreground p-4",children:[d.jsx(Rp,{className:"w-12 h-12 mb-3",strokeWidth:1}),d.jsx("p",{children:i===!1?"  .":"    ."})]}):d.jsxs("div",{className:"divide-y divide-border/60",children:[r.map(k=>d.jsx(v9,{notification:k},k.id)),d.jsx("div",{ref:f,style:{height:"10px"},"aria-hidden":"true"}),o&&r.length>0&&d.jsx("div",{className:"flex justify-center p-4",children:d.jsx(Ce,{size:"sm"})})]}),S=r.some(k=>!k.readByUserAt);return d.jsxs("div",{className:"p-4 space-y-4 pb-4 flex flex-col h-full",children:[d.jsxs(mt,{className:"flex-shrink-0 shadow-sm border rounded-lg",children:[d.jsx(dr,{className:"pb-3 pt-4",children:d.jsxs("div",{className:"flex justify-between items-center h-8",children:[d.jsx("div",{className:"w-8 flex-shrink-0"})," ",d.jsx(zr,{className:"text-lg font-semibold text-center flex-grow mx-2",children:""}),d.jsxs(Se,{variant:"ghost",size:"sm",className:W("h-7 px-2 text-xs disabled:opacity-50 flex-shrink-0",S&&!p&&!o?"text-primary hover:text-primary/80 hover:bg-primary/10":"text-muted-foreground pointer-events-none"),onClick:x,disabled:p||!S||o,title:S?"    ":"  ",children:[p?d.jsx(Ce,{size:"sm"}):d.jsx(Ek,{className:"h-4 w-4 mr-1"})," "]})]})}),d.jsx(Wt,{className:"pt-2 pb-3",children:d.jsx(Yd,{value:m,onValueChange:v,className:"w-full",children:d.jsxs($l,{className:"grid w-full grid-cols-2 h-9 bg-muted p-1 rounded-lg",children:[d.jsx(wt,{value:"all",className:W("text-sm h-full rounded-md px-3 transition-all",m==="all"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground/80 data-[state=inactive]:hover:text-foreground/80"),children:""}),d.jsx(wt,{value:"unread",className:W("text-sm h-full rounded-md px-3 transition-all",m==="unread"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground/80 data-[state=inactive]:hover:text-foreground/80"),children:""})]})})})]}),d.jsxs(mt,{className:"shadow-sm border rounded-lg overflow-hidden flex flex-col flex-grow",children:[d.jsx(Wt,{className:"p-0 flex-grow overflow-y-auto no-scrollbar min-h-0",children:b()}),!o&&s>0&&d.jsxs("div",{className:"text-xs text-center text-muted-foreground p-2 border-t",children:[" : ",s]})]})]})},x9=()=>{const{unreadCount:t,notificationsEnabled:e}=mn(u=>({unreadCount:u.unreadCount,notificationsEnabled:u.notificationsEnabled})),n=[{to:"/portfolio",label:" ",Icon:tL,hasBadge:!0},{to:"/market",label:"",Icon:GO},{to:"/top10",label:" 10",Icon:eL},{to:"/profile",label:"",Icon:DO}],r=()=>W("relative flex flex-col items-center justify-center flex-1 h-full group transition-all duration-200 ease-in-out","pt-1 p-1","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 focus-visible:ring-offset-background rounded-md"),i=()=>" text-primary",s=()=>"text-muted-foreground hover:text-foreground/90",o="bg-primary/10 dark:bg-primary/15 rounded-lg",a=({isActive:u})=>W("h-5 w-5 mb-0.5 transition-transform duration-150",u?"scale-105":"scale-100 opacity-80 group-hover:opacity-100"),l=({isActive:u})=>W("text-[11px] leading-tight block",u?"font-semibold":"font-normal"),c=d.jsx("div",{className:W("absolute inset-x-1.5 bottom-1 h-[3px] rounded-full bg-primary")});return d.jsx("nav",{className:W("fixed bottom-0 left-0 right-0 h-16 bg-background/95 backdrop-blur-sm border-t border-border/50 shadow-[0_-2px_10px_rgba(0,0,0,0.05)] dark:shadow-[0_-2px_10px_rgba(0,0,0,0.2)]","flex justify-around items-stretch","px-1","safe-padding-bottom z-50"),style:{paddingBottom:"env(safe-area-inset-bottom)"},children:n.map(({to:u,label:h,Icon:f,hasBadge:p})=>d.jsx(X2,{to:u,end:u==="/portfolio",children:({isActive:g})=>d.jsx("div",{className:W(r(),g?i():s()),children:d.jsxs("div",{className:W("relative flex flex-col items-center justify-center w-full h-full",g&&o),children:[p&&e&&d.jsx(qk,{count:t,positionClasses:"absolute top-0.5 right-1.5 transform translate-x-1/2 -translate-y-1/2"}),d.jsx(f,{className:a({isActive:g}),strokeWidth:g?2.25:1.75}),d.jsx("span",{className:l({isActive:g}),children:h}),g&&c]})})},u))})};var Hv="ToastProvider",[Wv,w9,b9]=bd("Toast"),[YT,b8]=It("Toast",[b9]),[S9,Jd]=YT(Hv),GT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=y.useState(null),[c,u]=y.useState(0),h=y.useRef(!1),f=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hv}\`. Expected non-empty \`string\`.`),d.jsx(Wv.Provider,{scope:e,children:d.jsx(S9,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>u(p=>p+1),[]),onToastRemove:y.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};GT.displayName=Hv;var ZT="ToastViewport",k9=["F8"],vm="toast.viewportPause",ym="toast.viewportResume",XT=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=k9,label:i="Notifications ({hotkey})",...s}=t,o=Jd(ZT,n),a=w9(n),l=y.useRef(null),c=y.useRef(null),u=y.useRef(null),h=y.useRef(null),f=Pe(e,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;y.useEffect(()=>{const w=v=>{var b;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),y.useEffect(()=>{const w=l.current,v=h.current;if(g&&w&&v){const x=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(vm);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(ym);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},S=C=>{!w.contains(C.relatedTarget)&&b()},k=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",S),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const m=y.useCallback(({tabbingDirection:w})=>{const x=a().map(b=>{const S=b.ref.current,k=[S,...L9(S)];return w==="forwards"?k:k.reverse()});return(w==="forwards"?x.reverse():x).flat()},[a]);return y.useEffect(()=>{const w=h.current;if(w){const v=x=>{var k,C,_;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const T=document.activeElement,j=x.shiftKey;if(x.target===w&&j){(k=c.current)==null||k.focus();return}const A=m({tabbingDirection:j?"backwards":"forwards"}),B=A.findIndex(I=>I===T);Ef(A.slice(B+1))?x.preventDefault():j?(C=c.current)==null||C.focus():(_=u.current)==null||_.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,m]),d.jsxs(Y$,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&d.jsx(xm,{ref:c,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Ef(w)}}),d.jsx(Wv.Slot,{scope:n,children:d.jsx(ae.ol,{tabIndex:-1,...s,ref:f})}),g&&d.jsx(xm,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Ef(w)}})]})});XT.displayName=ZT;var QT="ToastFocusProxy",xm=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Jd(QT,n);return d.jsx(jd,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});xm.displayName=QT;var eh="Toast",C9="toast.swipeStart",E9="toast.swipeMove",_9="toast.swipeCancel",N9="toast.swipeEnd",JT=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=bn({prop:r,defaultProp:i,onChange:s});return d.jsx(Fr,{present:n||a,children:d.jsx(A9,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:At(t.onPause),onResume:At(t.onResume),onSwipeStart:le(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:le(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:le(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:le(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});JT.displayName=eh;var[T9,P9]=YT(eh,{onClose(){}}),A9=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...g}=t,m=Jd(eh,n),[w,v]=y.useState(null),x=Pe(e,I=>v(I)),b=y.useRef(null),S=y.useRef(null),k=i||m.duration,C=y.useRef(0),_=y.useRef(k),T=y.useRef(0),{onToastAdd:j,onToastRemove:R}=m,O=At(()=>{var L;(w==null?void 0:w.contains(document.activeElement))&&((L=m.viewport)==null||L.focus()),o()}),A=y.useCallback(I=>{!I||I===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(O,I))},[O]);y.useEffect(()=>{const I=m.viewport;if(I){const L=()=>{A(_.current),c==null||c()},M=()=>{const D=new Date().getTime()-C.current;_.current=_.current-D,window.clearTimeout(T.current),l==null||l()};return I.addEventListener(vm,M),I.addEventListener(ym,L),()=>{I.removeEventListener(vm,M),I.removeEventListener(ym,L)}}},[m.viewport,k,l,c,A]),y.useEffect(()=>{s&&!m.isClosePausedRef.current&&A(k)},[s,k,m.isClosePausedRef,A]),y.useEffect(()=>(j(),()=>R()),[j,R]);const B=y.useMemo(()=>w?oP(w):null,[w]);return m.viewport?d.jsxs(d.Fragment,{children:[B&&d.jsx(j9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),d.jsx(T9,{scope:n,onClose:O,children:ps.createPortal(d.jsx(Wv.ItemSlot,{scope:n,children:d.jsx(K$,{asChild:!0,onEscapeKeyDown:le(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||O(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:le(t.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:le(t.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:le(t.onPointerMove,I=>{if(!b.current)return;const L=I.clientX-b.current.x,M=I.clientY-b.current.y,D=!!S.current,P=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,E=P?$(0,L):0,z=P?0:$(0,M),X=I.pointerType==="touch"?10:2,N={x:E,y:z},oe={originalEvent:I,delta:N};D?(S.current=N,Cc(E9,h,oe,{discrete:!1})):Zw(N,m.swipeDirection,X)?(S.current=N,Cc(C9,u,oe,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(L)>X||Math.abs(M)>X)&&(b.current=null)}),onPointerUp:le(t.onPointerUp,I=>{const L=S.current,M=I.target;if(M.hasPointerCapture(I.pointerId)&&M.releasePointerCapture(I.pointerId),S.current=null,b.current=null,L){const D=I.currentTarget,P={originalEvent:I,delta:L};Zw(L,m.swipeDirection,m.swipeThreshold)?Cc(N9,p,P,{discrete:!0}):Cc(_9,f,P,{discrete:!0}),D.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),j9=t=>{const{__scopeToast:e,children:n,...r}=t,i=Jd(eh,e),[s,o]=y.useState(!1),[a,l]=y.useState(!1);return I9(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(Pd,{asChild:!0,children:d.jsx(jd,{...r,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",n]})})})},M9="ToastTitle",eP=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ae.div,{...r,ref:e})});eP.displayName=M9;var R9="ToastDescription",tP=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ae.div,{...r,ref:e})});tP.displayName=R9;var nP="ToastAction",rP=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(sP,{altText:n,asChild:!0,children:d.jsx(qv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nP}\`. Expected non-empty \`string\`.`),null)});rP.displayName=nP;var iP="ToastClose",qv=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=P9(iP,n);return d.jsx(sP,{asChild:!0,children:d.jsx(ae.button,{type:"button",...r,ref:e,onClick:le(t.onClick,i.onClose)})})});qv.displayName=iP;var sP=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return d.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function oP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),O9(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...oP(r))}}),e}function Cc(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Gk(i,s):i.dispatchEvent(s)}var Zw=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function I9(t=()=>{}){const e=At(t);st(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function O9(t){return t.nodeType===t.ELEMENT_NODE}function L9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ef(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var $9=GT,aP=XT,lP=JT,cP=eP,uP=tP,dP=rP,hP=qv;const D9=$9,fP=y.forwardRef(({className:t,...e},n)=>d.jsx(aP,{ref:n,className:W("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fP.displayName=aP.displayName;const z9=Cg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-success bg-success text-success-foreground"}},defaultVariants:{variant:"default"}}),pP=y.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(lP,{ref:r,className:W(z9({variant:e}),t),...n}));pP.displayName=lP.displayName;const F9=y.forwardRef(({className:t,...e},n)=>d.jsx(dP,{ref:n,className:W("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive group-[.success]:border-muted/40 group-[.success]:hover:border-success/30 group-[.success]:hover:bg-success group-[.success]:hover:text-success-foreground group-[.success]:focus:ring-success",t),...e}));F9.displayName=dP.displayName;const mP=y.forwardRef(({className:t,...e},n)=>d.jsx(hP,{ref:n,className:W("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 group-[.success]:text-green-300 group-[.success]:hover:text-green-50 group-[.success]:focus:ring-green-400 group-[.success]:focus:ring-offset-green-600",t),"toast-close":"",...e,children:d.jsx(vd,{className:"h-4 w-4"})}));mP.displayName=hP.displayName;const gP=y.forwardRef(({className:t,...e},n)=>d.jsx(cP,{ref:n,className:W("text-sm font-semibold",t),...e}));gP.displayName=cP.displayName;const vP=y.forwardRef(({className:t,...e},n)=>d.jsx(uP,{ref:n,className:W("text-sm opacity-90",t),...e}));vP.displayName=uP.displayName;function B9(){const{toasts:t,dismiss:e}=Bn();return d.jsxs(D9,{children:[t.map(function({id:n,title:r,description:i,action:s,...o}){return d.jsxs(pP,{...o,onClick:()=>e(n),className:"cursor-pointer",children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(gP,{children:r}),i&&d.jsx(vP,{children:i})]}),s,d.jsx(mP,{})]},n)}),d.jsx(fP,{})]})}const V9=()=>{const{tg:t}=qt(),e=Ki(r=>r.preference),n=()=>{const r=Ki.getState().preference,i=(t==null?void 0:t.colorScheme)??(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");let s;r==="light"?s="light":r==="dark"?s="dark":s=i,console.log(`[ThemeManager Apply] Applying effective theme: ${s} (Preference: ${r}, TG: ${i})`),s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return y.useEffect(()=>{if(!t){console.warn("[ThemeManager] Telegram SDK not ready on mount. Initial theme relies on localStorage/system."),n();return}return t.onEvent("themeChanged",n),console.log("[ThemeManager] Subscribed to Telegram themeChanged event."),n(),()=>{t&&(t.offEvent("themeChanged",n),console.log("[ThemeManager] Unsubscribed from Telegram themeChanged event."))}},[t]),y.useEffect(()=>{console.log(`[ThemeManager Preference Effect] Preference changed to: ${e}`),n()},[e]),null};class U9 extends y.Component{constructor(){super(...arguments);Kv(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){console.error("Uncaught error in ErrorBoundary:",n,r),this.setState({error:n,errorInfo:r})}render(){var n;return this.state.hasError?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[d.jsx("h1",{className:"text-xl font-semibold text-destructive mb-4",children:"-   ..."}),d.jsx("p",{className:"text-destructive p-4 border border-destructive/50 rounded-md bg-destructive/10",children:((n=this.state.error)==null?void 0:n.message)||"   ."}),!1,d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:" "})]}):this.props.children}}const Xw=({children:t})=>{const{isAdminAuthenticated:e,isLoading:n}=Er(),{isAuthenticated:r,isLoading:i,jwt:s}=wn(),o=cn();if(n||i)return console.log("[AdminGuard Simple] Waiting for auth states to load..."),d.jsx("div",{className:"flex-grow flex items-center justify-center h-screen",children:d.jsx(Ce,{size:"lg"})});if(!r||!e||!s){console.log("[AdminGuard Simple] Access denied. Redirecting.",{isUserAuthenticated:r,isAdminAuthenticated:e,hasJwt:!!s});const a=r?"/admin/login":"/login";return d.jsx(fi,{to:a,state:{from:o},replace:!0})}return console.log("[AdminGuard Simple] Access granted to admin panel."),t},gr=({children:t})=>{const{isAuthenticated:e,isLoading:n}=wn(),{accounts:r,isLoading:i,error:s,fetchPortfolio:o,isFetching:a,hasAttemptedFetch:l}=ir(),c=cn(),{fetchUnreadCount:u,hasFetchedInitialCount:h}=mn();if(y.useEffect(()=>{e&&!n&&!l&&!a&&!i&&(F.log("[ProtectedRoute Portfolio Effect] Authenticated. Triggering fetchPortfolio..."),o()),e&&!n&&!h&&(F.log("[ProtectedRoute Notification Effect] Authenticated. Triggering fetchUnreadCount..."),u(!0))},[e,n,l,a,i,o,h,u]),n)return F.log("[ProtectedRoute Render] Auth state is loading..."),d.jsx("div",{className:"flex-grow flex items-center justify-center h-screen",children:d.jsx(Ce,{size:"lg"})});if(!e)return c.pathname.startsWith("/admin")?(F.log(`[ProtectedRoute Render] User NOT authenticated on admin path ${c.pathname}. Passing through to AdminGuard.`),null):(F.log(`[ProtectedRoute Render] User NOT authenticated. Redirecting from ${c.pathname} to /login.`),d.jsx(fi,{to:"/login",state:{from:c},replace:!0}));const f=c.pathname.startsWith("/faq")||c.pathname.startsWith("/asset/")||c.pathname.startsWith("/profile")||c.pathname.startsWith("/notifications");if(!c.pathname.startsWith("/admin")&&!f){if(F.log(`[ProtectedRoute Render] User authenticated. Checking portfolio status for path: ${c.pathname}`),(a||i)&&!l)return F.log("[ProtectedRoute Render] Waiting for portfolio data (initial load)..."),d.jsx("div",{className:"flex-grow flex items-center justify-center h-screen",children:d.jsx(Ce,{size:"lg"})});if(l&&s&&!s.includes("401")&&!s.includes("Unauthorized"))return F.error("[ProtectedRoute Render] Portfolio fetch error:",s),d.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center p-4 text-center",children:[d.jsx(ft,{message:`   : ${s}`}),d.jsx(Se,{variant:"outline",onClick:()=>o(!0),className:"mt-4",children:""})]});if(l&&r===null&&!s&&!i&&!a)return F.error("[ProtectedRoute Render] Portfolio fetch attempted, no error, but accounts is still null."),d.jsx("div",{className:"p-4 text-center text-destructive",children:"    .  ."});if(r!==null){if(r.length===0&&c.pathname!=="/register-initial")return F.log("[ProtectedRoute Render] No accounts found, redirecting to /register-initial"),d.jsx(fi,{to:"/register-initial",replace:!0});if(r.length>0&&c.pathname==="/register-initial")return F.log("[ProtectedRoute Render] Accounts exist, redirecting from /register-initial to /portfolio"),d.jsx(fi,{to:"/portfolio",replace:!0})}}return F.log(`[ProtectedRoute Render] All checks passed for path ${c.pathname}. Rendering children.`),t},H9=({children:t})=>{const{isAuthenticated:e,isLoading:n}=wn();return n?d.jsx("div",{className:"flex-grow flex items-center justify-center h-screen",children:d.jsx(Ce,{})}):e?d.jsx(fi,{to:"/",replace:!0}):t},W9=()=>{const t=cn(),e=y.useRef(null),n=yr.getState().resetMarketState;return y.useEffect(()=>{const r=t.pathname;e.current==="/market"&&r!=="/market"&&!r.startsWith("/asset/")&&(F.log("[AppLayout Effect] Navigating away from Market via BottomNav/Other. Resetting Market state."),n()),e.current=r},[t.pathname]),d.jsxs("div",{className:"flex-grow flex flex-col overflow-hidden pb-16",children:[d.jsx("main",{className:"flex-grow overflow-y-auto no-scrollbar",children:d.jsxs(bS,{children:[d.jsx(Ze,{index:!0,element:d.jsx(fi,{to:"/portfolio",replace:!0})}),d.jsx(Ze,{path:"/portfolio",element:d.jsx(YL,{})}),d.jsx(Ze,{path:"/market",element:d.jsx(A5,{})}),d.jsx(Ze,{path:"/top10",element:d.jsx(O5,{})}),d.jsx(Ze,{path:"/profile",element:d.jsx(T4,{})}),d.jsx(Ze,{path:"/portfolio/:accountId",element:d.jsx(I$,{})}),d.jsx(Ze,{path:"*",element:d.jsx(fi,{to:"/portfolio",replace:!0})})]})}),d.jsx(x9,{})]})};function q9(){const{tg:t}=qt();return y.useEffect(()=>{t&&(t.ready(),t.expand())},[t]),d.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[d.jsx(V9,{}),d.jsx(B9,{}),d.jsx(U9,{children:d.jsxs(bS,{children:[d.jsx(Ze,{path:"/login",element:d.jsx(H9,{children:d.jsx(D4,{})})}),d.jsx(Ze,{path:"/register-initial",element:d.jsx(gr,{children:d.jsx(I4,{})})}),d.jsx(Ze,{path:"/asset/:id",element:d.jsx(gr,{children:d.jsx(N5,{})})}),d.jsx(Ze,{path:"/asset/:id/chart",element:d.jsx(gr,{children:d.jsx(p9,{})})}),d.jsx(Ze,{path:"/portfolio/:accountId/operations",element:d.jsx(gr,{children:d.jsx(KF,{})})}),d.jsx(Ze,{path:"/notifications",element:d.jsx(gr,{children:d.jsx(y9,{})})}),d.jsx(Ze,{path:"/faq",element:d.jsx(gr,{children:d.jsx(tV,{})})}),d.jsx(Ze,{path:"/faq/:categoryId",element:d.jsx(gr,{children:d.jsx(nV,{})})}),d.jsx(Ze,{path:"/faq/:categoryId/:articleId",element:d.jsx(gr,{children:d.jsx(UW,{})})}),d.jsx(Ze,{path:"/admin/login",element:d.jsx(HW,{})}),d.jsx(Ze,{path:"/admin/panel",element:d.jsx(Xw,{children:d.jsx(d9,{})})}),d.jsx(Ze,{path:"/admin/faq/:categoryId",element:d.jsx(Xw,{children:d.jsx(f9,{})})}),d.jsx(Ze,{path:"/*",element:d.jsx(gr,{children:d.jsx(W9,{})})})]})})]})}async function K9(){var t;try{await wO(),console.log("[index.tsx] Configuration loaded."),(t=window.Telegram)!=null&&t.WebApp?(window.Telegram.WebApp.ready(),window.Telegram.WebApp.expand(),console.log("[index.tsx] Telegram WebApp SDK initialized.")):console.warn("[index.tsx] Telegram WebApp SDK not found.");const e=document.getElementById("root");if(!e)throw new Error("Root element not found");_f.createRoot(e).render(d.jsx(K2,{children:d.jsx(q9,{})})),console.log("[index.tsx] React App Rendered.")}catch(e){console.error("[index.tsx] Failed to start the application:",e);const n=document.getElementById("root");n&&!n.innerHTML.includes("Failed to load")&&(n.innerHTML='<div style="padding: 20px; text-align: center; color: red;">Critical error during application startup.</div>')}}K9();
